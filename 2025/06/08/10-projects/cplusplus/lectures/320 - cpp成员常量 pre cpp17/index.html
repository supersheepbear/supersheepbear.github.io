<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>320 - cppæˆå‘˜å¸¸é‡ pre cpp17 | Bear's dream</title><meta name="description" content="320 - cppæˆå‘˜å¸¸é‡ pre cpp17"><meta name="keywords" content="Cpp,Coding,Tutorial,Configuration,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="320 - cppæˆå‘˜å¸¸é‡ pre cpp17"><meta name="twitter:description" content="320 - cppæˆå‘˜å¸¸é‡ pre cpp17"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="320 - cppæˆå‘˜å¸¸é‡ pre cpp17"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="320 - cppæˆå‘˜å¸¸é‡ pre cpp17"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/"><link rel="prev" title="319 - Class Const" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><link rel="next" title="322 - Different Type Members" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/322%20-%20Different%20Type%20Members/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">178</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">160</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">23</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-æˆå‘˜å¸¸é‡"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">C++æˆå‘˜å¸¸é‡</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#æŒæ¡C-ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC-17ä¹‹å‰ï¼‰"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">æŒæ¡C++ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC++17ä¹‹å‰ï¼‰</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#è¯¦ç»†è®²è§£"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">è¯¦ç»†è®²è§£</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-é™æ€å¸¸é‡æˆå‘˜å˜é‡-Static-Const-Member-Variables"><span class="toc_mobile_items-number">2.1.1.</span> <span class="toc_mobile_items-text">1. é™æ€å¸¸é‡æˆå‘˜å˜é‡ (Static Const Member Variables)</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-1-ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹-integral-types-å’Œ-enum"><span class="toc_mobile_items-number">2.1.1.1.</span> <span class="toc_mobile_items-text">1.1 ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹ (integral types å’Œ enum)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-2-å¿…é¡»åœ¨å¯¹åº”çš„-cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹"><span class="toc_mobile_items-number">2.1.1.2.</span> <span class="toc_mobile_items-text">1.2 å¿…é¡»åœ¨å¯¹åº”çš„.cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-3-é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜-Static-Initialization-Order-Fiasco"><span class="toc_mobile_items-number">2.1.2.</span> <span class="toc_mobile_items-text">1.3 é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜ (Static Initialization Order Fiasco)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-éå¸¸é‡æˆå‘˜å˜é‡-Non-Static-Const-Member-Variables"><span class="toc_mobile_items-number">2.1.3.</span> <span class="toc_mobile_items-text">2. éå¸¸é‡æˆå‘˜å˜é‡ (Non-Static Const Member Variables)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-C-17åŠä¹‹åçš„å˜åŒ–-ç®€è¦æåŠ"><span class="toc_mobile_items-number">2.1.4.</span> <span class="toc_mobile_items-text">3. C++17åŠä¹‹åçš„å˜åŒ– (ç®€è¦æåŠ)</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#QA-é—ªå¡-QA-Flashcards"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">QA é—ªå¡ (QA Flashcards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#å¸¸è§è¯¯è§£æˆ–é”™è¯¯-Common-Misunderstanding-or-Mistake"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">å¸¸è§è¯¯è§£æˆ–é”™è¯¯ (Common Misunderstanding or Mistake)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-æˆå‘˜å¸¸é‡"><span class="toc-number">1.</span> <span class="toc-text">C++æˆå‘˜å¸¸é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æŒæ¡C-ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC-17ä¹‹å‰ï¼‰"><span class="toc-number">2.</span> <span class="toc-text">æŒæ¡C++ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC++17ä¹‹å‰ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#è¯¦ç»†è®²è§£"><span class="toc-number">2.1.</span> <span class="toc-text">è¯¦ç»†è®²è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-é™æ€å¸¸é‡æˆå‘˜å˜é‡-Static-Const-Member-Variables"><span class="toc-number">2.1.1.</span> <span class="toc-text">1. é™æ€å¸¸é‡æˆå‘˜å˜é‡ (Static Const Member Variables)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹-integral-types-å’Œ-enum"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">1.1 ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹ (integral types å’Œ enum)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-å¿…é¡»åœ¨å¯¹åº”çš„-cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">1.2 å¿…é¡»åœ¨å¯¹åº”çš„.cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜-Static-Initialization-Order-Fiasco"><span class="toc-number">2.1.2.</span> <span class="toc-text">1.3 é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜ (Static Initialization Order Fiasco)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-éå¸¸é‡æˆå‘˜å˜é‡-Non-Static-Const-Member-Variables"><span class="toc-number">2.1.3.</span> <span class="toc-text">2. éå¸¸é‡æˆå‘˜å˜é‡ (Non-Static Const Member Variables)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-C-17åŠä¹‹åçš„å˜åŒ–-ç®€è¦æåŠ"><span class="toc-number">2.1.4.</span> <span class="toc-text">3. C++17åŠä¹‹åçš„å˜åŒ– (ç®€è¦æåŠ)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QA-é—ªå¡-QA-Flashcards"><span class="toc-number">2.2.</span> <span class="toc-text">QA é—ªå¡ (QA Flashcards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¸¸è§è¯¯è§£æˆ–é”™è¯¯-Common-Misunderstanding-or-Mistake"><span class="toc-number">2.3.</span> <span class="toc-text">å¸¸è§è¯¯è§£æˆ–é”™è¯¯ (Common Misunderstanding or Mistake)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise"><span class="toc-number">2.4.</span> <span class="toc-text">ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">320 - cppæˆå‘˜å¸¸é‡ pre cpp17</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="C-æˆå‘˜å¸¸é‡"><a href="#C-æˆå‘˜å¸¸é‡" class="headerlink" title="C++æˆå‘˜å¸¸é‡"></a>C++æˆå‘˜å¸¸é‡</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to see how to model static, constant member variables.If we donâ€™t have access to a C plus plus 17 compiler or later, weâ€™re also going to see how to workwith constant member variables that happen not to be static.And here is the rule before C plus plus 17, you couldnâ€™t really do much in terms of initializing yourmember variables in the class declaration if they are static only integral types and by this I meanint and enum types where initialize able from the class declaration.Any other type would have to go in the CPP file and be initialized from there as we are about to see.So this is the rule.Letâ€™s look at an example here.Here we have a cylinder class and inside we have a bunch of member variables.I put in many types so that you can really see this in action and have many examples to go by.But on top here, weâ€™re going to have what we could initialize in the class declaration.And I mean wherever you declare your class within the curly braces, that includes your class.And before C plus plus 17, you could only do this for integral types and enum you see int constant.Here is an int and a color constant.Here is an enum.So if we initialize these guys in the class definition itself, this would work before C plus plus 17,but any other thing would give you a compiler error.So if we go down here, for example, we have a bunch of member variables.They are static.You see that they have the static keyword in front, but we have many types.So we have a string, we have a car pointer, we have an int, we have a float.All of these things wouldnâ€™t be initialized in the header file.If you tried to do this, youâ€™re going to get a compiler error or I should say in the class definition,you couldnâ€™t really initialize this thing in the class declaration here.If you do that, youâ€™re going to get a compiler error down here.You see that we have our double constant, which is pi here.We canâ€™t also initialize this in the class declaration because it is not in line.So we will have to do that in the CPP file.So how do you exactly initialize these guys in the CPP file?Well, I have an example for you.Here is how you could do that.Our string would be initialized like this.You have to specify the type for what you want to initialize.You have to set the class in which itâ€™s live and using the double colon syntax here.And then you say the variable and then you initialize that either using curly braces or parents.Any kind of initialization is going to work here.We do the same for Pi and our car pointer constant.Weâ€™re going to initialize this with a string literal.This is going to work.We have an array and we can initialize that using curly braces like this.We have a float.Weâ€™re going to initialize that like this with a float literal and we can initialize a string array justlike we do here.And this is going to work.Okay, so this is fine and dandy, but what about constant member variables that are not static?Letâ€™s go down here and look at an example.We have weird float here.We have wild C string and we have weird int array constant.If we try to initialize these guys in the header file, weâ€™re going to get a compiler error.This is not going to work.But if we do that in the CPP file, please remember that these guys are not static, so you will haveto initialize them like you initialize any other member variable, but because they are const they canonly be initialized through an initializer list.And this is what we have here.So weâ€™re going to initialize weird float with a float literal or a double literal here, but weâ€™re goingto have a narrowing conversion here.Weâ€™re going to initialize our weird C string member variable with a string literal and weâ€™re going toinitialize our array of int using the syntax you see here.And this is going to work.We have to go through an initializer list.If our member variable happens to be a constant, if you donâ€™t go through an initializer list and tryto do something like this in the body of the constructor, youâ€™re going to get a compiler error.This is not allowed.So this is another case where we can only do this using initializer lists.And if you donâ€™t use initializer lists, you basically wonâ€™t have a way to initialize your constantThis is the only way we have.Another thing I want you to know before we head over to Visual Studio code and play with this is thatif you use a.Static member variable to initialize another variable.You will be basically setting yourself up for disaster because static initialization order is not guaranteed.So if you run your program, some variable might be initialized before another one.And if you run the program again, the order of initialization might change.So sometimes if you are out of luck, you might try to use a variable which hasnâ€™t been set up yet.Try to initialize another variable and your program is going to crash.My recommendation is to never use static member variables to initialize as static member variables becausethatâ€™s really bad.It is recommended to only use static member variables once you have hit the main function because rememberthey are initialized before the main function runs.You should really know this.Now that we know this, weâ€™re going to head over to Visual Studio code and play with this a little more.Okay, Here we are in our working folder.The current project is static constants before C plus plus 17.Here we are going to grab our template files and weâ€™re going to put them in place pretty quick.Letâ€™s do that.And we are going to open this in Visual Studio code by dragging and dropping here, this is going toopen our folder.We can open the main CPP file and clean this up a little bit and we are going to put in our cylinderclass because thatâ€™s what weâ€™re going to play with.So letâ€™s put in the files for that.Weâ€™re going to create a cylinder dot h file and weâ€™re going to put together a cylinder dot CPP file.I am going to grab the file for the header and I put that in here.And if you donâ€™t want to type all this, you can just grab the file from the resource section on thiscourse.Youâ€™re going to have access to this and you can use this however you want.I realize I have put this in the CPP file.It should be in the header file.So letâ€™s correct this.And inside you see that we have basically a lot of member variables and we want to play with differenttypes so that you can really see how we do this in C plus plus versions lower than C plus plus 17,because sometimes youâ€™re going to run into this.If you go down here, weâ€™re going to see that int and enum can be initialized in the class declaration.This is what we should say here.Okay, So you see that we have our static const and we are initializing this right here.If we want we can even use the curly braces.Letâ€™s do that.This is going to work.Weâ€™re going to go down and initialize our color, which is an enum that we just declared here.And again here we can also use curly braces.This is going to work.Letâ€™s grab our thing here and put that in place.This is going to work.And this is really all we could do before a C plus plus 17 in terms of initial using our static membervariables inside the class declaration for other types, you will have to put the initialization ina CPP file.So here you see a bunch of types.We have a string, we have a character pointer, which is going to be a C string.We have an INT, we have a float, we have an array of constants, we have an array of strings.All these things will have to be initialized in the CPP file.If you go down, youâ€™re going to see that we have our Pi member variable, which is static.So this is also going to be initialized in the CPP file.So I am going to just grab the code and paste that in here and weâ€™re going to try and understand thatthis is including the header file and weâ€™re going to initialize our member variables in the CPP file.You see, we are initializing the default color, we are initializing pi, the character pointer constant,thatâ€™s going to be a C string, the array, the float static variable and our string array.You see that we can really initialize anything in the CPP file and this is going to work.Weâ€™re going to have access to these things in the main function in a minute.The other thing I want you to see before we head over to the main function is what if you have constantmember variables that are not static because we havenâ€™t really talked about them so far.If you have those kinds of member variables in your class, things are going to be a little different.You see, we have a float, we have a character pointer, we have a net.They are constants, but they are not static.So these are going to belong to the object.Theyâ€™re not going to be attached to the blueprint or the class itself.Now, if you have to initialize these guys, the only option you have is to go and initialize the listlike we do here, and letâ€™s be consistent here and use curly braces.Letâ€™s take out.The parentheses here and weâ€™re going to use curly braces here.Okay, So this is done.We will have to go through initializer lists.If you try to use the syntax like this and try to change the constant in the body, you wonâ€™t be allowedto do this because this is a constant.And at this point we are trying to change the constant.So C plus plus is going to complain.Weâ€™re not allowed to do this.The only way you can put a value in your constant is in the initializer list, because the initializerlist is really not going to be changing the value.Itâ€™s going to be initializing that and it is going to put the value in.At the moment, the member variable is created.Thatâ€™s why this is possible.But you canâ€™t do that in the body like we are doing here.If we do this, weâ€™re going to get a compiler error.So now that we have this, we can head over in the main function and play with these things.Weâ€™re going to include our cylinder class.Letâ€™s do that and I am going to put in a piece of code to really play with this.Thanks.I donâ€™t want to type all this because you really know most of this.Thanks.The main message is that some things can be initialized in the class declaration, some things canâ€™t.They have to be initialized in the CPP file.But now that we have this things properly initialized, we can really access them in the main functionand do things with them.For example, we have the cylinder, we can print the volume, we can print the default color.This is going to work.We can access our constants.Weâ€™re going to get the int constant, the color constant, the character pointer constant.We can get the array and for example, get the second element.We can get the float constant, We can get our string array constant, we can print all these things.If we go down here, youâ€™re going to see that if we try and modify any of those constants, weâ€™re goingto get a compiler error.So letâ€™s wait.Youâ€™re going to see a squiggly line here and weâ€™re going to get a compiler error.If we try to modify this.Letâ€™s try and go through GCC and show you the problem.Weâ€™re going to get a compiler error.You see that the build finished with errors and weâ€™re going to get an error saying assignment of readonly variable and constant.We canâ€™t change this because it is a constant.So weâ€™re going to comment this out.You have seen this error.The other error I want you to see is if you try to modify the constant member variable in the body ofyour constructor because some people are going to try and do this and they want to know what is beatingthem.So this is not allowed because this guy is really a constant.You have no business modifying it after it has been set up.If you do this, youâ€™re going to get a compiler error.So letâ€™s do this.Weâ€™re going to build with GCC so that you can really see these things we are learning.So donâ€™t be afraid to break things a little bit and weâ€™re going to get an error assignment of read onlymember variable weird float.We canâ€™t do that even if we are in our own constructor.This is not allowed and we can go down and try to access some other things.So we have our weird constants here.Weird float is going to be printed out because I think it is in the public scope.You can get access to that.Weâ€™re going to print that in our main function and weâ€™re going to print all these things here.So letâ€™s build the program now.It should build because we have fixed every single problem that we had build finished successfully.We can clear and run Rooster.Weâ€™re going to see all the data here.And if you go and youâ€™re going to see that we have what we put in here, for example, int array, letâ€™sgo down and see what we had in there.Enter a constant at index three.Letâ€™s go and see what we have.Enter a constant at index 30123.We should get a 40 and thatâ€™s what we have here.So this is working like we expect.One thing I want you to see before we wrap up this lecture is that the order static member variablesare initialized and is not guaranteed to be always the same, and that can get you into trouble.To make you understand this, weâ€™re going to set up a new class.Letâ€™s call that bird, for example.And weâ€™re going to put in place two files.One is going to be a header file.Letâ€™s do that.And weâ€™re going to put in place a CPP file for that.We are going to put in place our bird class.It is really simple.All we have inside is a static constant.It is a float, so we canâ€™t really initialize that in the class declaration.We will have to initialize this in the CPP file, but what weâ€™re going to do is not initialize thiswith the literal.Weâ€™re going to initialize this with a static member variable coming from the cylinder class.So letâ€™s do that.Weâ€™re going to include the cylinder and weâ€™re going to include the bird before that.Letâ€™s do that and then weâ€™re going to say the type of our variable.So letâ€™s grab the name and weâ€™re going to say const float because thatâ€™s what it is and weâ€™re goingto say Bird and weâ€™re going to put our scope resolution.Operator.We can grab this from Visual Studio code and weâ€™re going to initialize this.Weâ€™re not going to initialize this with a literal.For example, if we put in 45.3 and say, this is a float, this is going to work just fine, but weâ€™renot going to do this.Weâ€™re going to initialize this with another static variable coming from the cylinder class.And letâ€™s see if we can find a float.Weâ€™re going to find that here float constant.We have it.So weâ€™re going to say cylinder float constant.Letâ€™s use this.And the compiler is going to take this.But the problem is we donâ€™t really know which one is going to be initialized first.It might be the bird wait constant.It might be the float constant here.And if we happen to initialize the weight constant before the float constant is put in place, we willbe trying to access something that doesnâ€™t exist yet to try and initialize our weight constant.And you might guess what is going to happen.Youâ€™re going to get a crash.Letâ€™s try and go in main and see if we can get this crash to show up, but we might not be that lucky.So weâ€™re going to try our best here.So weâ€™re going to go down and weâ€™re going to put in the code to print the bird weight constant.For this to work, we will need to include our bird header.So letâ€™s do that.And now our code should compile.At least letâ€™s do that.Weâ€™re going to build this with GCC and youâ€™re going to see that the world is good.But if we run the program, we might not get what we expect.So letâ€™s clear and run Rooster.This is working at this point.This is working.This is working.This is working.This is working.So this is working for now.But if you are unlucky, the bird weight constant is going to be initialized first and it is going toeither grab whatever is at this float, constant member variable, the location of this thing in memory.It might grab something that doesnâ€™t exist yet, it might give you junk value.And if you are trying to access critical memory locations, youâ€™re going to get a crash.And this is really bad.So the message here is that the order for a static initialization is not guaranteed.Sometimes bird weight constant is going to be initialized first, sometimes float constant is goingto be initialized first.And if this is not working in your favor, youâ€™re going to get some weird problems.Letâ€™s actually prove that float constant is 6.98.Here it is.So this is working fine, but it might not work all the time.For example, if you run this program on another machine.Static initialization might not work the way it is working here and you might be in trouble.This is really all I had to share in this lecture.I hope you found it interesting.We are going to stop here in this one.The next one weâ€™re going to see how you can set up member variables of the same class that you are declaring.So go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæ¬¢è¿æ¥åˆ°C++çš„å­¦ä¹ ä¹‹æ—…ï¼æˆ‘æ˜¯æ‚¨çš„ä¸“å±C++è€å¸ˆï¼Œå°†å°½æˆ‘æ‰€èƒ½ï¼Œç”¨æœ€æ¸…æ™°ã€æœ€æ˜“æ‡‚çš„æ–¹å¼å¸¦æ‚¨æ¢ç´¢C++çš„å¥¥ç§˜ã€‚</p>
<hr>
<h1 id="æŒæ¡C-ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC-17ä¹‹å‰ï¼‰"><a href="#æŒæ¡C-ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC-17ä¹‹å‰ï¼‰" class="headerlink" title="æŒæ¡C++ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC++17ä¹‹å‰ï¼‰"></a>æŒæ¡C++ç±»ä¸­çš„é™æ€å¸¸é‡ä¸éå¸¸é‡æˆå‘˜å˜é‡ï¼ˆC++17ä¹‹å‰ï¼‰</h1><p><strong>ç®€ä»‹:</strong> æœ¬èŠ‚å°†æ·±å…¥è®²è§£C++17æ ‡å‡†ä¹‹å‰ï¼Œå¦‚ä½•åœ¨ç±»ä¸­å£°æ˜å’Œåˆå§‹åŒ–<code>static</code> (é™æ€) å’Œ<code>const</code> (å¸¸é‡) <code>member variables</code> (æˆå‘˜å˜é‡)ï¼ŒåŒ…æ‹¬é™æ€å¸¸é‡æˆå‘˜å˜é‡å’Œéå¸¸é‡æˆå‘˜å˜é‡ï¼Œå¹¶æ¢è®¨å…¶ç‰¹æœ‰è§„åˆ™å’Œæ½œåœ¨é—®é¢˜ã€‚</p>
<hr>
<h2 id="è¯¦ç»†è®²è§£"><a href="#è¯¦ç»†è®²è§£" class="headerlink" title="è¯¦ç»†è®²è§£"></a>è¯¦ç»†è®²è§£</h2><p>C++ä¸­çš„ç±»ï¼ˆclassï¼‰å…è®¸æˆ‘ä»¬å°è£…æ•°æ®å’Œè¡Œä¸ºã€‚è¿™äº›æ•°æ®é€šå¸¸é€šè¿‡æˆå‘˜å˜é‡æ¥è¡¨ç¤ºã€‚å½“æˆ‘ä»¬åœ¨ç±»ä¸­å®šä¹‰æˆå‘˜å˜é‡æ—¶ï¼Œæœ‰æ—¶ä¼šå¸Œæœ›å®ƒä»¬å…·æœ‰ç‰¹å®šçš„æ€§è´¨ï¼Œä¾‹å¦‚ï¼š</p>
<ol>
<li><strong>é™æ€ (Static):</strong> è¡¨ç¤ºè¿™ä¸ªæˆå‘˜å˜é‡ä¸å±äºç±»çš„æŸä¸ªå…·ä½“å¯¹è±¡ï¼Œè€Œæ˜¯å±äºæ•´ä¸ªç±»ã€‚æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ªé™æ€æˆå‘˜å˜é‡çš„å‰¯æœ¬ã€‚</li>
<li><strong>å¸¸é‡ (Const):</strong> è¡¨ç¤ºè¿™ä¸ªæˆå‘˜å˜é‡ä¸€æ—¦è¢«åˆå§‹åŒ–ï¼Œå…¶å€¼å°±ä¸èƒ½å†è¢«ä¿®æ”¹ã€‚</li>
</ol>
<p>å°†è¿™ä¸¤è€…ç»“åˆèµ·æ¥ï¼Œå°±äº§ç”Ÿäº†<code>static const</code>æˆå‘˜å˜é‡ï¼Œä»¥åŠåªä½¿ç”¨<code>const</code>çš„éå¸¸é‡æˆå‘˜å˜é‡ã€‚ç”±äºC++è¯­è¨€çš„æ¼”è¿›ï¼Œåœ¨C++17ä¹‹å‰å’Œä¹‹åï¼Œå®ƒä»¬çš„åˆå§‹åŒ–è§„åˆ™æœ‰æ‰€ä¸åŒã€‚æœ¬èŠ‚æˆ‘ä»¬å°†ä¸»è¦å…³æ³¨C++17ä¹‹å‰çš„è§„åˆ™ã€‚</p>
<h3 id="1-é™æ€å¸¸é‡æˆå‘˜å˜é‡-Static-Const-Member-Variables"><a href="#1-é™æ€å¸¸é‡æˆå‘˜å˜é‡-Static-Const-Member-Variables" class="headerlink" title="1. é™æ€å¸¸é‡æˆå‘˜å˜é‡ (Static Const Member Variables)"></a>1. é™æ€å¸¸é‡æˆå‘˜å˜é‡ (Static Const Member Variables)</h3><p><code>static const</code>æˆå‘˜å˜é‡æ˜¯ä¸ç±»æœ¬èº«å…³è”çš„å¸¸é‡ï¼Œæ‰€æœ‰è¯¥ç±»çš„å¯¹è±¡å…±äº«åŒä¸€ä¸ªå¸¸é‡å€¼ã€‚åœ¨C++17æ ‡å‡†ä¹‹å‰ï¼Œå¯¹äºè¿™ç±»å˜é‡çš„åˆå§‹åŒ–æœ‰ä¸¥æ ¼çš„é™åˆ¶ï¼š</p>
<h4 id="1-1-ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹-integral-types-å’Œ-enum"><a href="#1-1-ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹-integral-types-å’Œ-enum" class="headerlink" title="1.1 ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹ (integral types å’Œ enum)"></a>1.1 ä»…å…è®¸åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„ç±»å‹ (<code>integral types</code> å’Œ <code>enum</code>)</h4><p>åœ¨C++17ä¹‹å‰ï¼Œåªæœ‰<code>integral types</code> (æ•´å‹ï¼Œå¦‚<code>int</code>, <code>char</code>, <code>short</code>, <code>long long</code>ç­‰) å’Œ <code>enum</code> (æšä¸¾) ç±»å‹çš„<code>static const</code>æˆå‘˜å˜é‡å¯ä»¥åœ¨<code>class declaration</code> (ç±»å£°æ˜) å†…éƒ¨ï¼ˆä¹Ÿå°±æ˜¯ç±»å®šä¹‰çš„<code>{}</code>èŠ±æ‹¬å·å†…ï¼‰ç›´æ¥è¿›è¡Œ<code>initialization</code> (åˆå§‹åŒ–)ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br>è¿™æ˜¯å› ä¸ºè¿™äº›ç±»å‹åœ¨ç¼–è¯‘æ—¶å…¶å€¼å°±å¯ä»¥ç¡®å®šï¼Œå¹¶ä¸”å®ƒä»¬é€šå¸¸å ç”¨å›ºå®šä¸”è¾ƒå°çš„å†…å­˜ç©ºé—´ã€‚ç¼–è¯‘å™¨å¯ä»¥ç›´æ¥å°†è¿™äº›å¸¸é‡â€œçƒ˜ç„™â€åˆ°ç¨‹åºä»£ç ä¸­ï¼Œè€Œä¸éœ€è¦åœ¨è¿è¡Œæ—¶åˆ†é…å†…å­˜ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.h æ–‡ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// å¯ä»¥åœ¨ç±»å£°æ˜ä¸­åˆå§‹åŒ–çš„é™æ€å¸¸é‡æˆå‘˜å˜é‡ (C++17ä¹‹å‰)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> s_int_constant = <span class="number">100</span>; <span class="comment">// æ•´å‹</span></span><br><span class="line">    <span class="keyword">enum</span> Color &#123; RED, GREEN, BLUE &#125;;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> Color s_default_color = Color::GREEN; <span class="comment">// æšä¸¾ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Cylinder() = <span class="keyword">default</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><br>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>s_int_constant</code>å’Œ<code>s_default_color</code>å¯ä»¥ç›´æ¥åœ¨<code>Cylinder</code>ç±»çš„å®šä¹‰ä¸­åˆå§‹åŒ–ã€‚æ‚¨å¯ä»¥åƒä¸Šé¢ä¸€æ ·ä½¿ç”¨ç­‰å·<code>=</code>è¿›è¡Œåˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨èŠ±æ‹¬å· <code>{}</code> è¿›è¡Œåˆ—è¡¨åˆå§‹åŒ–ï¼Œä¾‹å¦‚ <code>static const int s_int_constant {100};</code>ã€‚</p>
<h4 id="1-2-å¿…é¡»åœ¨å¯¹åº”çš„-cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹"><a href="#1-2-å¿…é¡»åœ¨å¯¹åº”çš„-cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹" class="headerlink" title="1.2 å¿…é¡»åœ¨å¯¹åº”çš„.cppæ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹"></a>1.2 å¿…é¡»åœ¨å¯¹åº”çš„<code>.cpp</code>æ–‡ä»¶ï¼ˆå®šä¹‰æ–‡ä»¶ï¼‰ä¸­åˆå§‹åŒ–çš„ç±»å‹</h4><p>é™¤äº†<code>integral types</code>å’Œ<code>enum</code>ä¹‹å¤–ï¼Œå…¶ä»–æ‰€æœ‰ç±»å‹çš„<code>static const</code>æˆå‘˜å˜é‡ï¼ŒåŒ…æ‹¬<code>double</code> (åŒç²¾åº¦æµ®ç‚¹å‹), <code>float</code> (å•ç²¾åº¦æµ®ç‚¹å‹), <code>std::string</code> (å­—ç¬¦ä¸²), <code>char*</code> (å­—ç¬¦æŒ‡é’ˆ), ä»¥åŠå„ç§æ•°ç»„ç±»å‹ç­‰ï¼Œéƒ½<strong>ä¸èƒ½</strong>åœ¨<code>class declaration</code>ä¸­åˆå§‹åŒ–ã€‚å®ƒä»¬å¿…é¡»åœ¨ç±»çš„å®šä¹‰æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯<code>.cpp</code>æ–‡ä»¶ï¼Œä¹Ÿç§°ä¸º<code>translation unit</code> (ç¿»è¯‘å•å…ƒ)ï¼‰ä¸­è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br>å¯¹äºéæ•´å‹æˆ–éæšä¸¾ç±»å‹çš„é™æ€å¸¸é‡ï¼Œå®ƒä»¬çš„å†…å­˜åˆ†é…å’Œåˆå§‹åŒ–å¯èƒ½æ›´å¤æ‚ï¼Œæˆ–è€…å…¶å€¼åœ¨ç¼–è¯‘æ—¶æ— æ³•å®Œå…¨ç¡®å®šï¼ˆä¾‹å¦‚ï¼Œ<code>std::string</code>çš„åˆå§‹åŒ–å¯èƒ½æ¶‰åŠåŠ¨æ€å†…å­˜åˆ†é…ï¼‰ã€‚å› æ­¤ï¼ŒC++æ ‡å‡†è¦æ±‚å®ƒä»¬åœ¨ç±»çš„å¤–éƒ¨ï¼Œä¹Ÿå°±æ˜¯åœ¨<code>.cpp</code>æ–‡ä»¶ä¸­åˆ†é…å­˜å‚¨ç©ºé—´å¹¶è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p><strong>åˆå§‹åŒ–è¯­æ³•:</strong><br>åœ¨<code>.cpp</code>æ–‡ä»¶ä¸­åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡çš„è¯­æ³•æ˜¯ï¼š<br><code>ç±»å‹ ç±»å::é™æ€æˆå‘˜å˜é‡å = å€¼;</code></p>
<p><strong>ç¤ºä¾‹:</strong><br>å‡è®¾æ‚¨çš„<code>Cylinder</code>ç±»å£°æ˜ï¼ˆ<code>Cylinder.h</code>ï¼‰å¦‚ä¸‹ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.h æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; // åŒ…å«stringå¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;array&gt;  // åŒ…å«arrayå¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// é™æ€å¸¸é‡æˆå‘˜å˜é‡ï¼Œå¿…é¡»åœ¨.cppæ–‡ä»¶ä¸­åˆå§‹åŒ– (C++17ä¹‹å‰)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">double</span> s_pi;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> s_company_name;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">char</span>* s_char_ptr_constant;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> s_int_array_constant[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">float</span> s_float_constant;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> s_string_array_constant[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä»–æˆå‘˜...</span></span><br><span class="line">    Cylinder() = <span class="keyword">default</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><br>é‚£ä¹ˆåœ¨<code>Cylinder.cpp</code>æ–‡ä»¶ä¸­ï¼Œæ‚¨éœ€è¦è¿™æ ·åˆå§‹åŒ–å®ƒä»¬ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.cpp æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Cylinder.h"</span> <span class="comment">// åŒ…å«å¤´æ–‡ä»¶</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;   // ç”¨äºç¤ºä¾‹ä¸­çš„è¾“å‡º</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–é™æ€å¸¸é‡æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> Cylinder::s_pi = <span class="number">3.14159265358979323846</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> Cylinder::s_company_name = <span class="string">"æˆ‘çš„å…¬å¸"</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span>* Cylinder::s_char_ptr_constant = <span class="string">"è¿™æ˜¯ä¸€ä¸ªCé£æ ¼å­—ç¬¦ä¸²å¸¸é‡"</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Cylinder::s_int_array_constant[<span class="number">5</span>] = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">float</span> Cylinder::s_float_constant = <span class="number">6.98f</span>; <span class="comment">// æ³¨æ„fåç¼€è¡¨ç¤ºfloat</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> Cylinder::s_string_array_constant[<span class="number">2</span>] = &#123;<span class="string">"å­—ç¬¦ä¸²A"</span>, <span class="string">"å­—ç¬¦ä¸²B"</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥åœ¨è¿™é‡Œå®ç°ç±»çš„å…¶ä»–æˆå‘˜å‡½æ•°</span></span><br></pre></td></tr></table></figure></div><br><strong>å…³é”®ç‚¹:</strong></p>
<ul>
<li>åœ¨<code>.cpp</code>æ–‡ä»¶ä¸­åˆå§‹åŒ–æ—¶ï¼Œæ‚¨å¿…é¡»å†æ¬¡æŒ‡å®šå˜é‡çš„ç±»å‹ (<code>const double</code>, <code>const std::string</code>ç­‰)ã€‚</li>
<li>å¿…é¡»ä½¿ç”¨<code>ç±»å::</code>æ¥æŒ‡æ˜è¿™ä¸ªé™æ€æˆå‘˜å˜é‡æ˜¯å±äºå“ªä¸ªç±»çš„ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨å„ç§å½¢å¼çš„åˆå§‹åŒ–ï¼ˆç­‰å·<code>=</code>, èŠ±æ‹¬å·<code>{}</code>, åœ†æ‹¬å·<code>()</code>ï¼‰æ¥èµ‹å€¼ã€‚</li>
</ul>
<h3 id="1-3-é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜-Static-Initialization-Order-Fiasco"><a href="#1-3-é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜-Static-Initialization-Order-Fiasco" class="headerlink" title="1.3 é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜ (Static Initialization Order Fiasco)"></a>1.3 é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜ (<code>Static Initialization Order Fiasco</code>)</h3><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œç†è§£ä¸å½“å¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–äº§ç”Ÿ<code>undefined behavior</code> (æœªå®šä¹‰è¡Œä¸º)ã€‚</p>
<p><strong>é—®é¢˜æè¿°:</strong><br>å½“æ‚¨çš„ç¨‹åºä¸­æœ‰å¤šä¸ª<code>translation unit</code> (<code>.cpp</code>æ–‡ä»¶) å¹¶ä¸”æ¯ä¸ªæ–‡ä»¶ä¸­éƒ½æœ‰éœ€è¦åˆå§‹åŒ–çš„<code>static</code>æˆå‘˜å˜é‡ï¼ˆæ— è®ºæ˜¯<code>const</code>è¿˜æ˜¯é<code>const</code>ï¼‰æ—¶ï¼ŒC++æ ‡å‡†<strong>ä¸ä¿è¯</strong>è¿™äº›<code>static</code>å˜é‡çš„åˆå§‹åŒ–é¡ºåºã€‚</p>
<p><strong>ç¤ºä¾‹:</strong><br>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»ï¼š<code>Cylinder</code>å’Œ<code>Bird</code>ã€‚<br><code>Cylinder.h</code>ä¸­æœ‰ä¸€ä¸ª<code>static const float s_float_constant</code>ã€‚<br><code>Bird.h</code>ä¸­æœ‰ä¸€ä¸ª<code>static const float s_bird_weight_constant</code>ã€‚</p>
<p>å¦‚æœåœ¨<code>Bird.cpp</code>ä¸­ï¼Œæˆ‘ä»¬å°è¯•ç”¨<code>Cylinder::s_float_constant</code>æ¥åˆå§‹åŒ–<code>Bird::s_bird_weight_constant</code>ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Bird.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Bird.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Cylinder.h"</span> <span class="comment">// éœ€è¦åŒ…å«Cylinderçš„å¤´æ–‡ä»¶æ¥è®¿é—®å…¶é™æ€æˆå‘˜</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">float</span> Bird::s_bird_weight_constant = Cylinder::s_float_constant; <span class="comment">// å±é™©ï¼</span></span><br></pre></td></tr></table></figure></div><br><strong>æ½œåœ¨é£é™©:</strong><br>ç”±äºé™æ€åˆå§‹åŒ–é¡ºåºä¸ç¡®å®šï¼Œå¯èƒ½å‘ç”Ÿä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li><code>Cylinder::s_float_constant</code>å…ˆè¢«åˆå§‹åŒ–ï¼Œç„¶å<code>Bird::s_bird_weight_constant</code>ä½¿ç”¨å®ƒæ¥åˆå§‹åŒ–ã€‚è¿™æ˜¯æˆ‘ä»¬æœŸæœ›çš„ï¼Œç¨‹åºæ­£å¸¸è¿è¡Œã€‚</li>
<li><code>Bird::s_bird_weight_constant</code>å…ˆè¢«åˆå§‹åŒ–ï¼Œæ­¤æ—¶<code>Cylinder::s_float_constant</code>å¯èƒ½<strong>å°šæœªè¢«åˆå§‹åŒ–</strong>ã€‚å¦‚æœ<code>Bird::s_bird_weight_constant</code>è¯•å›¾è®¿é—®ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å†…å­˜åœ°å€ï¼Œå®ƒå¯èƒ½è¯»å–åˆ°åƒåœ¾å€¼ï¼Œç”šè‡³å¼•å‘å†…å­˜è®¿é—®é”™è¯¯å¯¼è‡´ç¨‹åºå´©æºƒã€‚</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆ/æœ€ä½³å®è·µ:</strong></p>
<ul>
<li><strong>é¿å…ä½¿ç”¨ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡æ¥åˆå§‹åŒ–å¦ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ã€‚</strong> é™¤éå®ƒä»¬ä½äºåŒä¸€ä¸ª<code>translation unit</code>ä¸­ï¼Œå¹¶ä¸”æ‚¨èƒ½æ˜ç¡®å®ƒä»¬çš„åˆå§‹åŒ–é¡ºåºï¼ˆä½†è¿™é€šå¸¸å¾ˆéš¾ä¿è¯ï¼‰ã€‚</li>
<li><strong>æ¨èçš„åšæ³•æ˜¯ï¼š</strong> å°½é‡ç”¨å­—é¢é‡ï¼ˆå¦‚<code>3.14f</code>ï¼‰æˆ–ç®€å•çš„ç¼–è¯‘æ—¶å¸¸é‡æ¥åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ã€‚</li>
<li><strong>å»¶è¿Ÿåˆå§‹åŒ– (Lazy Initialization):</strong> å¦‚æœå¿…é¡»ä½¿ç”¨ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡æ¥åˆå§‹åŒ–å¦ä¸€ä¸ªï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å‡½æ•°æ¥å»¶è¿Ÿåˆå§‹åŒ–ï¼Œä¾‹å¦‚å•ä¾‹æ¨¡å¼ä¸­çš„å±€éƒ¨é™æ€å˜é‡ï¼Œå®ƒåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶æ‰è¢«åˆå§‹åŒ–ã€‚ä½†å¯¹äº<code>const</code>æˆå‘˜ï¼Œè¿™ç§æ–¹æ³•ä¸ç›´æ¥é€‚ç”¨ã€‚</li>
<li><strong>ç¡®ä¿åœ¨<code>main</code>å‡½æ•°å¼€å§‹æ‰§è¡Œåæ‰ä½¿ç”¨é™æ€æˆå‘˜å˜é‡ã€‚</strong> å› ä¸ºæ‰€æœ‰é™æ€å­˜å‚¨æœŸå˜é‡åœ¨<code>main</code>å‡½æ•°æ‰§è¡Œå‰éƒ½ä¼šè¢«åˆå§‹åŒ–ï¼ˆå¦‚æœå®ƒä»¬åœ¨åŒä¸€ä¸ª<code>translation unit</code>ä¸­ï¼‰ã€‚</li>
</ul>
<h3 id="2-éå¸¸é‡æˆå‘˜å˜é‡-Non-Static-Const-Member-Variables"><a href="#2-éå¸¸é‡æˆå‘˜å˜é‡-Non-Static-Const-Member-Variables" class="headerlink" title="2. éå¸¸é‡æˆå‘˜å˜é‡ (Non-Static Const Member Variables)"></a>2. éå¸¸é‡æˆå‘˜å˜é‡ (Non-Static Const Member Variables)</h3><p>è¿™ç±»æˆå‘˜å˜é‡æ˜¯<code>const</code>çš„ï¼Œä½†å®ƒä»¬ä¸æ˜¯<code>static</code>çš„ã€‚è¿™æ„å‘³ç€å®ƒä»¬å±äºç±»çš„<strong>æ¯ä¸ªå¯¹è±¡</strong>ï¼Œå¹¶ä¸”ä¸€æ—¦å¯¹è±¡åˆ›å»ºå¹¶åˆå§‹åŒ–åï¼Œå®ƒä»¬çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>
<p><strong>æ ¸å¿ƒè§„åˆ™:</strong><br><code>const</code>æˆå‘˜å˜é‡å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­é€šè¿‡<code>initializer list</code> (åˆå§‹åŒ–åˆ—è¡¨) è¿›è¡Œåˆå§‹åŒ–ã€‚å®ƒä»¬ä¸èƒ½åœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…éƒ¨é€šè¿‡èµ‹å€¼æ“ä½œè¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br><code>const</code>çš„å«ä¹‰æ˜¯â€œåˆ›å»ºåä¸å¯æ›´æ”¹â€ã€‚åˆå§‹åŒ–åˆ—è¡¨æ˜¯åœ¨å¯¹è±¡æ„é€ é˜¶æ®µï¼Œæˆå‘˜å˜é‡è¢«åˆ†é…å†…å­˜åç«‹å³è¿›è¡Œå€¼è®¾å®šçš„å”¯ä¸€æœºä¼šã€‚åœ¨åˆå§‹åŒ–åˆ—è¡¨å®Œæˆåï¼Œè¿›å…¥æ„é€ å‡½æ•°ä½“æ—¶ï¼Œæˆå‘˜å˜é‡å·²ç»å®Œæˆåˆå§‹åŒ–ï¼Œæ­¤æ—¶ä»»ä½•èµ‹å€¼æ“ä½œéƒ½å°†è¢«è§†ä¸ºå°è¯•ä¿®æ”¹ä¸€ä¸ª<code>const</code>å˜é‡ï¼Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚</p>
<p><strong>ç¤ºä¾‹:</strong><br>å‡è®¾<code>Cylinder</code>ç±»å£°æ˜ï¼ˆ<code>Cylinder.h</code>ï¼‰å¦‚ä¸‹ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">float</span> m_weird_float;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span>* m_wild_c_string;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> m_weird_int_array_constant[<span class="number">3</span>]; <span class="comment">// éå¸¸é‡ã€å¸¸é‡æ•°ç»„</span></span><br><span class="line"></span><br><span class="line">    Cylinder(<span class="keyword">float</span> weird_float_val, <span class="keyword">const</span> <span class="keyword">char</span>* c_str_val, <span class="keyword">int</span> arr_val1, <span class="keyword">int</span> arr_val2, <span class="keyword">int</span> arr_val3); <span class="comment">// æ„é€ å‡½æ•°å£°æ˜</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><br>åœ¨<code>Cylinder.cpp</code>ä¸­ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–å®ƒä»¬ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Cylinder.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt; // for strcpy, if needed, but for const char* just direct assignment is fine</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°çš„å®ç°</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">float</span> weird_float_val, <span class="keyword">const</span> <span class="keyword">char</span>* c_str_val, <span class="keyword">int</span> arr_val1, <span class="keyword">int</span> arr_val2, <span class="keyword">int</span> arr_val3)</span><br><span class="line">    : m_weird_float(weird_float_val), <span class="comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–float</span></span><br><span class="line">      m_wild_c_string(c_str_val),     <span class="comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–char*</span></span><br><span class="line">      m_weird_int_array_constant&#123;arr_val1, arr_val2, arr_val3&#125; <span class="comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œå°è¯•èµ‹å€¼ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line">    <span class="comment">// m_weird_float = 10.0f; // é”™è¯¯ï¼šä¸èƒ½ç»™å¸¸é‡èµ‹å€¼</span></span><br><span class="line">    <span class="comment">// m_wild_c_string = "æ–°çš„å­—ç¬¦ä¸²"; // é”™è¯¯ï¼šä¸èƒ½ç»™å¸¸é‡èµ‹å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br><strong>è¯¯åŒºæç¤º:</strong><br>å¾ˆå¤šåˆå­¦è€…ä¼šå°è¯•åœ¨æ„é€ å‡½æ•°ä½“å†…ç»™<code>const</code>æˆå‘˜å˜é‡èµ‹å€¼ï¼Œä¾‹å¦‚ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºä¾‹</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">float</span> weird_float_val) &#123;</span><br><span class="line">    m_weird_float = weird_float_val; <span class="comment">// ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br>è¿™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸º<code>m_weird_float</code>åœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“æ—¶å·²ç»é»˜è®¤åˆå§‹åŒ–ï¼ˆå¦‚æœç±»å‹å…è®¸ï¼‰ï¼Œæ­¤æ—¶å†èµ‹å€¼å°±æˆäº†â€œä¿®æ”¹â€ä¸€ä¸ª<code>const</code>å˜é‡ã€‚</p>
<h3 id="3-C-17åŠä¹‹åçš„å˜åŒ–-ç®€è¦æåŠ"><a href="#3-C-17åŠä¹‹åçš„å˜åŒ–-ç®€è¦æåŠ" class="headerlink" title="3. C++17åŠä¹‹åçš„å˜åŒ– (ç®€è¦æåŠ)"></a>3. C++17åŠä¹‹åçš„å˜åŒ– (ç®€è¦æåŠ)</h3><p>è™½ç„¶æœ¬èŠ‚ä¸»è¦å…³æ³¨C++17ä¹‹å‰ï¼Œä½†æœ‰å¿…è¦çŸ¥é“C++17å¼•å…¥äº†<code>inline static</code>å…³é”®å­—ï¼Œå…è®¸<code>static const</code>æˆå‘˜å˜é‡ï¼ˆä»¥åŠé<code>const</code>çš„<code>static</code>æˆå‘˜å˜é‡ï¼‰åœ¨ç±»å£°æ˜ä¸­è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ï¼Œè€Œæ— éœ€åœ¨<code>.cpp</code>æ–‡ä»¶ä¸­å•ç‹¬å®šä¹‰ã€‚è¿™å¤§å¤§ç®€åŒ–äº†ä»£ç ï¼Œä½†å…¶åº•å±‚ä»ç„¶éœ€è¦ç¼–è¯‘å™¨å¤„ç†å¥½é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜ã€‚å¯¹äºéå¸¸é‡æˆå‘˜å˜é‡ï¼Œåˆå§‹åŒ–åˆ—è¡¨çš„è§„åˆ™æ²¡æœ‰æ”¹å˜ã€‚</p>
<hr>
<h2 id="QA-é—ªå¡-QA-Flashcards"><a href="#QA-é—ªå¡-QA-Flashcards" class="headerlink" title="QA é—ªå¡ (QA Flashcards)"></a>QA é—ªå¡ (QA Flashcards)</h2><ol>
<li><strong>Q1:</strong> åœ¨C++17ä¹‹å‰ï¼Œå“ªç§<code>static const</code>æˆå‘˜å˜é‡ç±»å‹å¯ä»¥åœ¨ç±»å£°æ˜ä¸­ç›´æ¥åˆå§‹åŒ–ï¼Ÿ<br><strong>A1:</strong> <code>integral types</code> (æ•´å‹) å’Œ <code>enum</code> (æšä¸¾) ç±»å‹ã€‚</li>
<li><strong>Q2:</strong> å¦‚æœ<code>static const</code>æˆå‘˜å˜é‡ä¸æ˜¯æ•´å‹æˆ–æšä¸¾ï¼Œåœ¨C++17ä¹‹å‰åº”è¯¥åœ¨å“ªé‡Œè¿›è¡Œåˆå§‹åŒ–ï¼Ÿ<br><strong>A2:</strong> å¿…é¡»åœ¨å¯¹åº”çš„<code>.cpp</code>æ–‡ä»¶ï¼ˆ<code>translation unit</code>ï¼‰ä¸­è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ã€‚</li>
<li><strong>Q3:</strong> ä¸ºä»€ä¹ˆ<code>const</code>ï¼ˆéå¸¸é‡ï¼‰æˆå‘˜å˜é‡å¿…é¡»é€šè¿‡æ„é€ å‡½æ•°çš„<code>initializer list</code>è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸èƒ½åœ¨æ„é€ å‡½æ•°ä½“å†…éƒ¨èµ‹å€¼ï¼Ÿ<br><strong>A3:</strong> å› ä¸º<code>const</code>æˆå‘˜å˜é‡åœ¨å¯¹è±¡åˆ›å»ºåä¸èƒ½è¢«ä¿®æ”¹ã€‚<code>initializer list</code>æ˜¯åœ¨æˆå‘˜å˜é‡åˆ›å»ºæ—¶å°±èµ‹äºˆå…¶åˆå§‹å€¼çš„æœºåˆ¶ï¼Œè€Œæ„é€ å‡½æ•°ä½“å†…çš„èµ‹å€¼æ“ä½œåˆ™æ˜¯åœ¨æˆå‘˜å˜é‡å·²ç»åˆ›å»ºå¹¶å¯èƒ½è¢«é»˜è®¤åˆå§‹åŒ–åè¿›è¡Œçš„â€œä¿®æ”¹â€è¡Œä¸ºï¼Œè¿™ä¸<code>const</code>çš„è¯­ä¹‰å†²çªã€‚</li>
<li><strong>Q4:</strong> ä»€ä¹ˆæ˜¯<code>static initialization order fiasco</code> (é™æ€åˆå§‹åŒ–é¡ºåºé—®é¢˜)ï¼Ÿå®ƒä¼šå¸¦æ¥ä»€ä¹ˆé£é™©ï¼Ÿ<br><strong>A4:</strong> å®ƒæ˜¯æŒ‡åœ¨ç¨‹åºä¸­ï¼Œä¸åŒ<code>translation unit</code>ï¼ˆ<code>.cpp</code>æ–‡ä»¶ï¼‰ä¸­çš„<code>static</code>å˜é‡çš„åˆå§‹åŒ–é¡ºåºæ˜¯ä¸ç¡®å®šçš„ã€‚é£é™©æ˜¯å¦‚æœä¸€ä¸ª<code>static</code>å˜é‡åœ¨åˆå§‹åŒ–æ—¶å°è¯•è®¿é—®å¦ä¸€ä¸ªå°šæœªåˆå§‹åŒ–çš„<code>static</code>å˜é‡ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–äº§ç”Ÿ<code>undefined behavior</code>ã€‚</li>
</ol>
<hr>
<h2 id="å¸¸è§è¯¯è§£æˆ–é”™è¯¯-Common-Misunderstanding-or-Mistake"><a href="#å¸¸è§è¯¯è§£æˆ–é”™è¯¯-Common-Misunderstanding-or-Mistake" class="headerlink" title="å¸¸è§è¯¯è§£æˆ–é”™è¯¯ (Common Misunderstanding or Mistake)"></a>å¸¸è§è¯¯è§£æˆ–é”™è¯¯ (Common Misunderstanding or Mistake)</h2><ol>
<li><strong>è¯¯è§£1: æ‰€æœ‰<code>static const</code>æˆå‘˜éƒ½å¯ä»¥åœ¨ç±»å†…ç›´æ¥åˆå§‹åŒ–ã€‚</strong><br><strong>çº æ­£:</strong> åœ¨C++17ä¹‹å‰ï¼Œåªæœ‰æ•´å‹å’Œæšä¸¾ç±»å‹å¯ä»¥ã€‚å…¶ä»–ç±»å‹å¿…é¡»åœ¨<code>.cpp</code>æ–‡ä»¶ä¸­åˆå§‹åŒ–ã€‚å°è¯•åœ¨ç±»å†…åˆå§‹åŒ–éæ•´å‹/æšä¸¾çš„<code>static const</code>ä¼šå¼•å‘ç¼–è¯‘é”™è¯¯ã€‚</li>
<li><strong>è¯¯è§£2: <code>const</code>æˆå‘˜å˜é‡å¯ä»¥åœ¨æ„é€ å‡½æ•°ä½“å†…éƒ¨èµ‹å€¼ã€‚</strong><br><strong>çº æ­£:</strong> è¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯ä¹‹ä¸€ã€‚<code>const</code>æˆå‘˜å˜é‡å¿…é¡»ä¸”åªèƒ½é€šè¿‡æ„é€ å‡½æ•°çš„<code>initializer list</code>è¿›è¡Œåˆå§‹åŒ–ã€‚åœ¨æ„é€ å‡½æ•°ä½“å†…éƒ¨çš„èµ‹å€¼æ“ä½œæ˜¯æ— æ•ˆçš„ï¼Œå¹¶ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li>
<li><strong>è¯¯è§£3: é™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåºæ€»æ˜¯ç¡®å®šçš„ã€‚</strong><br><strong>çº æ­£:</strong> åªæœ‰åœ¨åŒä¸€ä¸ª<code>translation unit</code>ï¼ˆ<code>.cpp</code>æ–‡ä»¶ï¼‰å†…éƒ¨ï¼Œå®ƒä»¬çš„åˆå§‹åŒ–é¡ºåºæ‰åŸºæœ¬éµå¾ªå£°æ˜é¡ºåºã€‚ä½†è·¨<code>translation unit</code>æ—¶ï¼Œé¡ºåºæ˜¯<strong>ä¸ç¡®å®š</strong>çš„ï¼Œè¿™å¯èƒ½å¯¼è‡´<code>static initialization order fiasco</code>ã€‚</li>
<li><strong>è¯¯è§£4: <code>static const</code>å’Œé<code>static const</code>çš„åˆå§‹åŒ–æ–¹å¼ç›¸åŒã€‚</strong><br><strong>çº æ­£:</strong> å®ƒä»¬å®Œå…¨ä¸åŒã€‚<code>static const</code>æˆå‘˜å±äºç±»æœ¬èº«ï¼Œå…¶åˆå§‹åŒ–å–å†³äºç±»å‹å’ŒC++ç‰ˆæœ¬ï¼ˆC++17ä¹‹å‰éœ€åœ¨<code>.cpp</code>æ–‡ä»¶ï¼‰ã€‚é<code>static const</code>æˆå‘˜å±äºå¯¹è±¡ï¼Œå¿…é¡»é€šè¿‡æ„é€ å‡½æ•°çš„<code>initializer list</code>åˆå§‹åŒ–ã€‚</li>
</ol>
<hr>
<h2 id="ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise"><a href="#ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise" class="headerlink" title="ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)"></a>ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)</h2><p>è¯·æ ¹æ®æˆ‘ä»¬ä»Šå¤©æ‰€å­¦çš„å†…å®¹ï¼Œå®Œå–„ä¸‹é¢çš„<code>Product</code>ç±»ã€‚</p>
<p><strong>ç›®æ ‡ï¼š</strong></p>
<ol>
<li>åœ¨<code>Product.h</code>ä¸­å£°æ˜ä¸€ä¸ª<code>static const double PI_VALUE</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªéæ•´å‹ã€‚</li>
<li>åœ¨<code>Product.h</code>ä¸­å£°æ˜ä¸€ä¸ª<code>static const int MAX_ID</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•´å‹ã€‚</li>
<li>åœ¨<code>Product.h</code>ä¸­å£°æ˜ä¸€ä¸ªéé™æ€çš„<code>const std::string m_product_name</code>ã€‚</li>
<li>åœ¨<code>Product.cpp</code>ä¸­å®ç°æ‰€æœ‰å¿…è¦çš„åˆå§‹åŒ–ã€‚</li>
</ol>
<p><strong><code>Product.h</code>:</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> PRODUCT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PRODUCT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; // åŒ…å«std::stringå¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 1. å£°æ˜ä¸€ä¸ªéæ•´å‹é™æ€å¸¸é‡ PI_VALUE</span></span><br><span class="line">    <span class="comment">// (è¯·åœ¨è¿™é‡Œæ·»åŠ å£°æ˜)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. å£°æ˜ä¸€ä¸ªæ•´å‹é™æ€å¸¸é‡ MAX_IDï¼Œå¹¶ç›´æ¥åœ¨ç±»å†…åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">// (è¯·åœ¨è¿™é‡Œæ·»åŠ å£°æ˜å’Œåˆå§‹åŒ–)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. å£°æ˜ä¸€ä¸ªéé™æ€å¸¸é‡æˆå‘˜å˜é‡ m_product_name</span></span><br><span class="line">    <span class="comment">// (è¯·åœ¨è¿™é‡Œæ·»åŠ å£°æ˜)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ï¼Œéœ€è¦æ¥æ”¶ä¸€ä¸ªå‚æ•°æ¥åˆå§‹åŒ– m_product_name</span></span><br><span class="line">    Product(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; name);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°äº§å“ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// PRODUCT_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>Product.cpp</code>:</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Product.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. åœ¨è¿™é‡Œå®šä¹‰å’Œåˆå§‹åŒ– Product::PI_VALUE</span></span><br><span class="line"><span class="comment">// (è¯·åœ¨è¿™é‡Œå®Œæˆ)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Product::MAX_ID å·²ç»åœ¨å¤´æ–‡ä»¶ä¸­åˆå§‹åŒ–ï¼Œæ‰€ä»¥è¿™é‡Œä¸éœ€è¦å†å®šä¹‰/åˆå§‹åŒ–äº†ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. å®ç° Product æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ– m_product_name</span></span><br><span class="line">Product::Product(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; name)</span><br><span class="line">    <span class="comment">// (è¯·åœ¨è¿™é‡Œä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ– m_product_name)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ä½“</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"äº§å“ '"</span> &lt;&lt; m_product_name &lt;&lt; <span class="string">"' å·²åˆ›å»ºã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Product::printInfo</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"äº§å“åç§°: "</span> &lt;&lt; m_product_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"PI å€¼: "</span> &lt;&lt; PI_VALUE &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æœ€å¤§ID: "</span> &lt;&lt; MAX_ID &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p>è¯·æ‚¨å°è¯•å®Œæˆ <code>Product.h</code> å’Œ <code>Product.cpp</code> æ–‡ä»¶ä¸­çš„ç©ºç™½éƒ¨åˆ†ï¼Œç„¶åæˆ‘å°†ä¸ºæ‚¨æä¾›è§£å†³æ–¹æ¡ˆã€è¯„åˆ†å’Œè¿›ä¸€æ­¥çš„å»ºè®®ã€‚</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Tutorial/">Tutorial    </a><a class="post-meta__tags" href="/tags/Configuration/">Configuration    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>319 - Class Const</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/322%20-%20Different%20Type%20Members/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>322 - Different Type Members</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/274 - default constructor/" title="274 - default constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">274 - default constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•/" title="282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°/" title="296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/313 - friend of class/" title="313 - friend of class"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">313 - friend of class</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/318 - inline static variable/" title="318 - inline static variable"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">318 - inline static variable</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£/" title="312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>