<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>322 - Different Type Members | Bear's dream</title><meta name="description" content="322 - Different Type Members"><meta name="keywords" content="Cpp,Coding,Development,Developer,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="322 - Different Type Members"><meta name="twitter:description" content="322 - Different Type Members"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="322 - Different Type Members"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/322%20-%20Different%20Type%20Members/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="322 - Different Type Members"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/322%20-%20Different%20Type%20Members/"><link rel="prev" title="320 - cpp成员常量 pre cpp17" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/"><link rel="next" title="324 - Nested class" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/324%20-%20Nested%20class/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">19</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Different-Type-Members"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Different Type Members</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🧑‍💻-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">🧑‍💻 User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🤖-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">🤖 Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#标题：探索C-类中“其他类型”成员变量的奥秘"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">标题：探索C++类中“其他类型”成员变量的奥秘</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#概要"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">概要</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-详细讲解：C-类中的非自身类型成员变量"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2. 详细讲解：C++类中的非自身类型成员变量</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-1-Integer-类：一个简单的数值封装器"><span class="toc_mobile_items-number">1.5.1.</span> <span class="toc_mobile_items-text">2.1 Integer 类：一个简单的数值封装器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-2-Point-类：包含Integer成员变量"><span class="toc_mobile_items-number">1.5.2.</span> <span class="toc_mobile_items-text">2.2 Point 类：包含Integer成员变量</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-3-main-cpp-文件：测试和演示"><span class="toc_mobile_items-number">1.5.3.</span> <span class="toc_mobile_items-text">2.3 main.cpp 文件：测试和演示</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-4-核心要点及对比"><span class="toc_mobile_items-number">1.5.4.</span> <span class="toc_mobile_items-text">2.4 核心要点及对比</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-5-const-正确性（Const-Correctness）"><span class="toc_mobile_items-number">1.5.5.</span> <span class="toc_mobile_items-text">2.5 const 正确性（Const Correctness）</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-QA-闪存卡-QA-Flash-Cards"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">4. QA 闪存卡 (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-常见误解或错误"><span class="toc_mobile_items-number">1.7.</span> <span class="toc_mobile_items-text">5. 常见误解或错误</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-编程练习"><span class="toc_mobile_items-number">1.8.</span> <span class="toc_mobile_items-text">6. 编程练习</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Different-Type-Members"><span class="toc-number">1.</span> <span class="toc-text">Different Type Members</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#🧑‍💻-User"><span class="toc-number">1.1.</span> <span class="toc-text">🧑‍💻 User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🤖-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">🤖 Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#标题：探索C-类中“其他类型”成员变量的奥秘"><span class="toc-number">1.3.</span> <span class="toc-text">标题：探索C++类中“其他类型”成员变量的奥秘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#概要"><span class="toc-number">1.4.</span> <span class="toc-text">概要</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-详细讲解：C-类中的非自身类型成员变量"><span class="toc-number">1.5.</span> <span class="toc-text">2. 详细讲解：C++类中的非自身类型成员变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Integer-类：一个简单的数值封装器"><span class="toc-number">1.5.1.</span> <span class="toc-text">2.1 Integer 类：一个简单的数值封装器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Point-类：包含Integer成员变量"><span class="toc-number">1.5.2.</span> <span class="toc-text">2.2 Point 类：包含Integer成员变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-main-cpp-文件：测试和演示"><span class="toc-number">1.5.3.</span> <span class="toc-text">2.3 main.cpp 文件：测试和演示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-核心要点及对比"><span class="toc-number">1.5.4.</span> <span class="toc-text">2.4 核心要点及对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-const-正确性（Const-Correctness）"><span class="toc-number">1.5.5.</span> <span class="toc-text">2.5 const 正确性（Const Correctness）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-QA-闪存卡-QA-Flash-Cards"><span class="toc-number">1.6.</span> <span class="toc-text">4. QA 闪存卡 (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-常见误解或错误"><span class="toc-number">1.7.</span> <span class="toc-text">5. 常见误解或错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-编程练习"><span class="toc-number">1.8.</span> <span class="toc-text">6. 编程练习</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">322 - Different Type Members</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/322%20-%20Different%20Type%20Members/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/322%20-%20Different%20Type%20Members/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Different-Type-Members"><a href="#Different-Type-Members" class="headerlink" title="Different Type Members"></a>Different Type Members</h1><h2 id="🧑‍💻-User"><a href="#🧑‍💻-User" class="headerlink" title="🧑‍💻 User"></a>🧑‍💻 User</h2><p>In this lecture, we’re going to explore the situation when we are setting up a class, but it has membervariables of other types.So it’s basically going to be different from what we had in the last lecture where we had member variablesof the same class, why we are trying to declare the same class.So here is a class we’re going to use.It’s called Integer.It’s basically going to be a wrapper on an int type and it’s going to have a bunch of the constructors.We have the destructor here and we have a getter and setter that we can use to manipulate the valuethat we are wrapping around here.Nothing complicated here, but we’re going to be setting up member variables of integer type in ourpoint class, and here we’re going to basically try and simulate what we had in the last lecture.Here we have a member variable of integer type.Our integer class, we have a cast member variable.You’re going to see that this is going to work.We have an inline static variable.We can set this up.It’s going to work.We can initialize that here because it is inline.You already know this.We can have a const static member variable of integer type and we can initialize that in here.This is also going to work.You see that the limitations we had in the last lecture don’t apply because the member variable is basicallydifferent from the class that we are trying to set up here.I want you to be aware of this.Another point which is going to be very different is if we try to use a pointer member variable likewe are doing here, we initialize this to null pointer, but if we hit the implementation, you’re goingto see that now we don’t have to go through a function to set up new memory and allocate that on theheap.We can do this directly in the initializer list and this is going to work because we’re not trying tocall the constructor multiple times.It is going to be a pointer constructor calling an integer constructor.So we’re not going to have that chain of the constructor calling itself like we had in the last lecture.And this is going to work just fine.We’re not going to crash our program.If we go down, we see that we can create a static integer member variable.This is going to work.We can even make that const, this is going to work.But because this static member variables are not in line, we’re going to have to initialize them inthe CPP file.You have to remember that.So if we go in our CPP file, we’re going to see that we are initializing IE6 and IE7 and putting valuesinside.And this is really all if the member variable is not of the same class that you are declaring, youare free to use many things as you want and it is going to work.Now that you know this, we’re going to head over to Visual Studio code and play with this a littlemore.Okay.Here we are in our working folder.The current project is member variables of other types.We are going to grab our template files and use them here, so we’re going to put them in place.Okay, here we are in our working folder.The current project is member variables of other types.We’re going to grab our template files and we’re going to put them in place.Let’s do that and we’re going to open this in Visual Studio code by dragging and dropping here, thisis going to open our project and we’re going to create the classes that we want to use.We want to use the point class and the integer class.So let’s create the integer class first.We’re going to say integer, dot h for the header and we’re going to say integer dot cpp for the implementationfile.I am going to grab the code for integer, dot h and put that in.Here.We have our include guard, we have the class declaration inside, we have our member variable whichis inner and we are basically wrapping around this and through this integer class, which is our owncustom class here.We are also going to put in the implementation for the class and in the implementation file we’re goingto have our constructor and destructor.This is nothing you don’t know yet.We’re going to just close this class here because it is already defined and we’re going to create ourpoint class.We’re going to create a point dot h class header file, I should say, and we’re going to do the implementationfile, which is going to be point dot CPP and we are going to put in the header file.Let’s do that.And again, it is nothing you haven’t seen before.We have our include guard inside.We have the declaration for the class point.We have our good old member variables X and y.We have the point count static variable.But what we really want to see are these member variables of integer type.We can use all this.Taxes here.And this is going to work.Unlike what we had in the last lecture where the member variables were of point type.Basically creating incomplete type compiler errors if we use syntaxes like this here.But in this case it is working because the member variable type is different from the class type here.Okay.This is then we’re going to put in the implementation part and here it is basically what you alreadyknow.The main difference is that now, because integer six and seven are static and they are not inline,we will have to initialize them in the CPP file and that’s what we do here.Another main difference for you to see is that if we use a pointer, we can initialize this directlyas null pointer.This is going to work, but if we go in the CPP file now we have the option to initialize this directlywithout going through some member function like we did in the last lecture.The reason is, again, we don’t have a situation in which the constructor for Point is going to callitself repeatedly.The types are different.So here Point is going to call the constructor for Integer and this is going to work.We’re not going to have any problem.Okay.Now that we have this setup, we can head over in the main CPP file.We can clean it up a little bit and remove what we don’t need.We’re going to include our point class.Let’s do that.We’re going to include that and we can go in the main function and do all kinds of crazy things.For example, we’re going to put in a piece of code which is going to try the point class a little bit.We’re going to set up a point object.We can print the distance.We can get the point that we have in here.For example, we can access I1 i2 i3 I4 If we try to set the value for I1 and I2, we’re going to geta compiler error.If we try to set up I1.This is going to work because I1 is not const.If we go in we’re going to see that it is not const here, but if we go in main and try to change Ito let’s go back I2 is cost.If we try to change that, we’re going to get a compiler error.Let’s try to use this.We’re going to see that we’re going to get a squiggly line.This is going to give us a compiler error.Let’s build and you’re going to see that, okay, we have a compiler error and we are trying to calland we’re going to get our compiler error build finished with errors.And the problem is that we are trying to modify something that is cost.So we get to this error here that we are trying to use this pointer to modify something that is costand this is not going to be allowed.Okay, So this is the compiler error.We can go down and access the point five.And you remember that this was a pointer, but we’re going to get the value inside and use that thisis going to work.We can access point six and seven and we’re going to get all these values here.This is going to work just fine if we try to set the value for I six.Let’s go back and see what six is.It is a non const integer.So this is going to work.But if we try to do the same for I seven, we’re going to get a compiler error because I seven is constand we can see that here.Okay.So once we do all these things, we’re going to end our test and things are going to work exactly likewe expect.Let’s build again.We shouldn’t get any compiler error now.The build is good.We can clear and run Rooster and we’re going to get our data in our output terminal.This is really all I wanted you to see in this lecture that you can set up things like this.Please try to go through this and really make sense of what you see here.You can even try and set up your own variables and really try and break things.That’s how we learn.We are going to stop here in this lecture and the next one we’re going to try and learn about staticmember functions.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="🤖-Assistant"><a href="#🤖-Assistant" class="headerlink" title="🤖 Assistant"></a>🤖 Assistant</h2><p>好的，同学们，欢迎来到我们的C++进阶课程！</p>
<h2 id="标题：探索C-类中“其他类型”成员变量的奥秘"><a href="#标题：探索C-类中“其他类型”成员变量的奥秘" class="headerlink" title="标题：探索C++类中“其他类型”成员变量的奥秘"></a>标题：探索C++类中“其他类型”成员变量的奥秘</h2><h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><p>本节课我们将深入学习C++类中如何设置<strong>非自身类型</strong>的成员变量（member variables）以及它们与“自身类型”成员变量的不同之处。我们将通过一个<code>Integer</code>封装类和一个<code>Point</code>类来具体演示各种成员变量的声明、定义和初始化方法，重点分析为什么这些场景下的限制比上一讲中“自身类型”成员变量的限制要少，并提供详细的代码示例、常见误区和练习。</p>
<hr>
<h2 id="2-详细讲解：C-类中的非自身类型成员变量"><a href="#2-详细讲解：C-类中的非自身类型成员变量" class="headerlink" title="2. 详细讲解：C++类中的非自身类型成员变量"></a>2. 详细讲解：C++类中的非自身类型成员变量</h2><p>同学们好！在上一讲中，我们探讨了C++类如何拥有其自身类型的成员变量，并发现了一些限制，比如不能直接声明一个非指针的自身类型成员变量，以及在构造函数中初始化时的递归问题。今天，我们将把目光投向一个更常见、也更灵活的场景：当一个类拥有<strong>其他类型</strong>（other types）的成员变量时。</p>
<p>为了更好地理解这个概念，我们将创建一个简单的<code>Integer</code>类，它将作为对C++内置<code>int</code>类型的一个<strong>封装</strong>（wrapper）。这意味着<code>Integer</code>类的对象将包含一个<code>int</code>类型的值，并提供一些方法来操作它。然后，我们将在<code>Point</code>类中使用这个<code>Integer</code>类作为其成员变量。</p>
<h3 id="2-1-Integer-类：一个简单的数值封装器"><a href="#2-1-Integer-类：一个简单的数值封装器" class="headerlink" title="2.1 Integer 类：一个简单的数值封装器"></a>2.1 <code>Integer</code> 类：一个简单的数值封装器</h3><p>首先，我们来定义我们的<code>Integer</code>类。这个类非常简单，它包含一个私有的<code>int</code>成员变量，以及一些构造函数（constructors）、析构函数（destructor）、获取器（getter）和设置器（setter）。</p>
<p><strong><code>Integer.h</code> 文件：</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> INTEGER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INTEGER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // 包含iostream用于输出</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_value; <span class="comment">// 封装的int值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数</span></span><br><span class="line">    Integer() : m_value(<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Integer::Integer() - Default constructor for "</span> &lt;&lt; m_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参构造函数</span></span><br><span class="line">    Integer(<span class="keyword">int</span> value) : m_value(value) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Integer::Integer(int) - Parameterized constructor for "</span> &lt;&lt; m_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 拷贝构造函数</span></span><br><span class="line">    Integer(<span class="keyword">const</span> Integer&amp; other) : m_value(other.m_value) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Integer::Integer(const Integer&amp;) - Copy constructor for "</span> &lt;&lt; m_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 析构函数</span></span><br><span class="line">    ~Integer() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Integer::~Integer() - Destructor for "</span> &lt;&lt; m_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取值</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置值</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setValue</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        m_value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// INTEGER_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>Integer.cpp</code> 文件：</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实际上，Integer类的方法如果都很短，也可以直接在头文件中实现</span></span><br><span class="line"><span class="comment">// 但为了保持良好的实践，我们通常会把方法的定义放在.cpp文件</span></span><br><span class="line"><span class="comment">// 不过对于简单的getter/setter和构造函数，直接在头文件内联实现是很常见的</span></span><br><span class="line"><span class="comment">// 这里为了简化，我们假设它们在头文件内联实现，所以Integer.cpp可以为空</span></span><br><span class="line"><span class="comment">// 或者我们也可以像下面这样显式定义：</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">#include "Integer.h"</span></span><br><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">// 这里省略了构造函数和析构函数的定义，因为它们已经在头文件里写了内联实现</span></span><br><span class="line"><span class="comment">// 如果不在头文件内联实现，需要在这里定义：</span></span><br><span class="line"><span class="comment">// Integer::Integer() : m_value(0) &#123;</span></span><br><span class="line"><span class="comment">//     std::cout &lt;&lt; "Integer::Integer() - Default constructor for " &lt;&lt; m_value &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Integer::Integer(int value) : m_value(value) &#123;</span></span><br><span class="line"><span class="comment">//     std::cout &lt;&lt; "Integer::Integer(int) - Parameterized constructor for " &lt;&lt; m_value &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Integer::Integer(const Integer&amp; other) : m_value(other.m_value) &#123;</span></span><br><span class="line"><span class="comment">//     std::cout &lt;&lt; "Integer::Integer(const Integer&amp;) - Copy constructor for " &lt;&lt; m_value &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// Integer::~Integer() &#123;</span></span><br><span class="line"><span class="comment">//     std::cout &lt;&lt; "Integer::~Integer() - Destructor for " &lt;&lt; m_value &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// int Integer::getValue() const &#123;</span></span><br><span class="line"><span class="comment">//     return m_value;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// void Integer::setValue(int value) &#123;</span></span><br><span class="line"><span class="comment">//     m_value = value;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><br><strong>注意</strong>：为了简洁和符合常见的短函数内联实践，我们在<code>Integer.h</code>中直接实现了这些方法。因此<code>Integer.cpp</code>文件在这个例子中可以保持为空。</p>
<h3 id="2-2-Point-类：包含Integer成员变量"><a href="#2-2-Point-类：包含Integer成员变量" class="headerlink" title="2.2 Point 类：包含Integer成员变量"></a>2.2 <code>Point</code> 类：包含<code>Integer</code>成员变量</h3><p>现在，我们来创建<code>Point</code>类，并让它包含<code>Integer</code>类型的成员变量。我们将演示各种不同类型的成员变量：普通成员变量、常量成员变量、指针成员变量、静态成员变量和静态常量成员变量。</p>
<p><strong><code>Point.h</code> 文件：</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Integer.h"</span> <span class="comment">// 包含Integer类的定义</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> s_pointCount; <span class="comment">// 静态成员变量，用于记录Point对象数量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// --- Integer类型的成员变量 ---</span></span><br><span class="line">    Integer i1; <span class="comment">// 普通Integer对象</span></span><br><span class="line">    <span class="keyword">const</span> Integer i2; <span class="comment">// 常量Integer对象</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> Integer i3 = <span class="number">100</span>; <span class="comment">// 内联静态Integer对象，可以在类内初始化</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> Integer i4 = <span class="number">200</span>; <span class="comment">// 内联静态常量Integer对象，可以在类内初始化</span></span><br><span class="line">    Integer* i5; <span class="comment">// 指针Integer对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 静态成员变量，需要类外定义和初始化</span></span><br><span class="line">    <span class="keyword">static</span> Integer i6;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> Integer i7;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    Point(<span class="keyword">double</span> x_val, <span class="keyword">double</span> y_val);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 析构函数</span></span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取x值</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getX</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> m_x; &#125;</span><br><span class="line">    <span class="comment">// 获取y值</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getY</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> m_y; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取Integer成员变量的值</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI1Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i1.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI2Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i2.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI3Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i3.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI4Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i4.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI5Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i5 ? i5-&gt;getValue() : <span class="number">-1</span>; &#125; <span class="comment">// 检查指针是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI6Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i6.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI7Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i7.getValue(); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置Integer成员变量的值 (注意i2, i4, i7是const，不能设置)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setI1Value</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123; i1.setValue(val); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setI5Value</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123; <span class="keyword">if</span> (i5) i5-&gt;setValue(val); &#125; <span class="comment">// 检查指针是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setI6Value</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123; i6.setValue(val); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法，获取Point对象总数</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getPointCount</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>Point.cpp</code> 文件：</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化静态成员变量</span></span><br><span class="line"><span class="keyword">int</span> Point::s_pointCount = <span class="number">0</span>;</span><br><span class="line">Integer Point::i6 = <span class="number">600</span>; <span class="comment">// 静态Integer成员变量，必须在类外定义和初始化</span></span><br><span class="line"><span class="keyword">const</span> Integer Point::i7 = <span class="number">700</span>; <span class="comment">// 静态常量Integer成员变量，必须在类外定义和初始化</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数实现</span></span><br><span class="line"><span class="comment">// 注意：i2 (const Integer) 和 i5 (Integer*) 必须在成员初始化列表（member initializer list）中初始化</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x_val, <span class="keyword">double</span> y_val)</span><br><span class="line">    : m_x(x_val), m_y(y_val),</span><br><span class="line">      i2(<span class="number">20</span>), <span class="comment">// i2是const Integer，必须在这里初始化</span></span><br><span class="line">      i5(<span class="keyword">new</span> Integer(<span class="number">50</span>)) <span class="comment">// i5是指针，这里直接分配内存并构造Integer对象</span></span><br><span class="line">&#123;</span><br><span class="line">    s_pointCount++; <span class="comment">// 每次创建Point对象，计数器加一</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point::Point() - Constructor for ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">") with i1="</span> &lt;&lt; i1.getValue()</span><br><span class="line">              &lt;&lt; <span class="string">", i2="</span> &lt;&lt; i2.getValue() &lt;&lt; <span class="string">", i3="</span> &lt;&lt; i3.getValue() &lt;&lt; <span class="string">", i4="</span> &lt;&lt; i4.getValue()</span><br><span class="line">              &lt;&lt; <span class="string">", i5="</span> &lt;&lt; i5-&gt;getValue() &lt;&lt; <span class="string">", i6="</span> &lt;&lt; i6.getValue() &lt;&lt; <span class="string">", i7="</span> &lt;&lt; i7.getValue() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 析构函数实现</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    s_pointCount--; <span class="comment">// 每次销毁Point对象，计数器减一</span></span><br><span class="line">    <span class="keyword">delete</span> i5; <span class="comment">// 释放i5指向的内存</span></span><br><span class="line">    i5 = <span class="literal">nullptr</span>; <span class="comment">// 将指针置空，防止悬空指针（dangling pointer）</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point::~Point() - Destructor for ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态方法实现</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Point::getPointCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s_pointCount;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<h3 id="2-3-main-cpp-文件：测试和演示"><a href="#2-3-main-cpp-文件：测试和演示" class="headerlink" title="2.3 main.cpp 文件：测试和演示"></a>2.3 <code>main.cpp</code> 文件：测试和演示</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 开始程序 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建Point对象</span></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10.0</span>, <span class="number">20.0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问并打印各种Integer成员变量的值</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 访问Point对象的Integer成员变量 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i1 value: "</span> &lt;&lt; p1.getI1Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i1: 普通Integer，默认构造函数</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i2 value: "</span> &lt;&lt; p1.getI2Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i2: const Integer，在构造函数初始化列表中初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i3 value: "</span> &lt;&lt; p1.getI3Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i3: inline static Integer，类内初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i4 value: "</span> &lt;&lt; p1.getI4Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i4: inline static const Integer，类内初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i5 value: "</span> &lt;&lt; p1.getI5Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i5: Integer*，在构造函数初始化列表中new分配</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i6 value: "</span> &lt;&lt; p1.getI6Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i6: static Integer，类外初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i7 value: "</span> &lt;&lt; p1.getI7Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i7: static const Integer，类外初始化</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 尝试修改非const Integer成员变量</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 尝试修改Integer成员变量 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    p1.setI1Value(<span class="number">111</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i1 new value: "</span> &lt;&lt; p1.getI1Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    p1.setI5Value(<span class="number">555</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i5 new value: "</span> &lt;&lt; p1.getI5Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    p1.setI6Value(<span class="number">666</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i6 new value: "</span> &lt;&lt; p1.getI6Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 尝试修改常量成员变量 (会产生编译错误！)</span></span><br><span class="line">    <span class="comment">// p1.setI2Value(222); // 编译错误：i2是const</span></span><br><span class="line">    <span class="comment">// p1.setI4Value(444); // 编译错误：i4是const</span></span><br><span class="line">    <span class="comment">// p1.setI7Value(777); // 编译错误：i7是const</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 创建更多Point对象并观察PointCount ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">30.0</span>, <span class="number">40.0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Current Point Count: "</span> &lt;&lt; Point::getPointCount() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// 通过静态方法访问</span></span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">Point <span class="title">p3</span><span class="params">(<span class="number">50.0</span>, <span class="number">60.0</span>)</span></span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Current Point Count (inside scope): "</span> &lt;&lt; Point::getPointCount() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="comment">// p3 在这里超出作用域并被销毁</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Current Point Count (after p3 destroyed): "</span> &lt;&lt; Point::getPointCount() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 程序结束 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// p1 和 p2 在这里超出作用域并被销毁</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="2-4-核心要点及对比"><a href="#2-4-核心要点及对比" class="headerlink" title="2.4 核心要点及对比"></a>2.4 核心要点及对比</h3><p>现在，让我们来逐一分析各种成员变量的声明和初始化方式，以及与上一讲的“自身类型”成员变量的区别。</p>
<ol>
<li><p><strong>普通成员变量 (<code>Integer i1;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：直接在类定义内部声明，就像内置类型一样。</li>
<li><strong>初始化</strong>：如果类（<code>Point</code>）没有提供显式的构造函数来初始化它，或者在<code>Point</code>的构造函数初始化列表中没有显式初始化它，它会调用<code>Integer</code>的<strong>默认构造函数</strong>（default constructor）进行初始化。如果<code>Integer</code>类没有默认构造函数，则会引发编译错误。</li>
<li><strong>区别</strong>：与上一讲不同，这里没有“不完整类型”（incomplete type）的问题。因为<code>Integer</code>类在<code>Point.h</code>中被<code>#include</code>了，编译器在处理<code>Point</code>类时，<code>Integer</code>的完整定义是可见的。</li>
</ul>
</li>
<li><p><strong>常量成员变量 (<code>const Integer i2;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：在类型前加上<code>const</code>关键字。</li>
<li><strong>初始化</strong>：<strong>必须</strong>在<code>Point</code>类的构造函数的<strong>成员初始化列表</strong>中进行初始化。这是因为<code>const</code>成员变量在对象构造时必须立即获得其最终值，不能在构造函数体内部赋值（那样是先默认构造再赋值，但<code>const</code>不允许）。</li>
<li><strong>区别</strong>：同样，没有“不完整类型”问题。其初始化规则与内置类型的<code>const</code>成员变量类似。</li>
</ul>
</li>
<li><p><strong>内联静态成员变量 (<code>inline static Integer i3 = 100;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：使用<code>inline static</code>关键字。</li>
<li><strong>初始化</strong>：可以在类定义内部直接进行初始化。<code>inline</code>关键字允许在头文件中定义和初始化静态成员变量，避免了<strong>多重定义错误</strong>（multiple definition error）。对于用户自定义类型（user-defined type）的静态成员变量，<code>inline</code>是实现类内初始化的关键。</li>
<li><strong>区别</strong>：在C++17之前，只有<strong>静态常量整型</strong>（static const integral type）成员变量（如<code>int</code>, <code>char</code>, <code>bool</code>等）才允许在类内初始化。对于用户自定义类型如<code>Integer</code>，需要使用<code>inline</code>才能在类内初始化。</li>
</ul>
</li>
<li><p><strong>内联静态常量成员变量 (<code>inline static const Integer i4 = 200;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：使用<code>inline static const</code>关键字。</li>
<li><strong>初始化</strong>：与<code>i3</code>类似，<code>inline</code>关键字使其可以在类定义内部直接初始化。</li>
<li><strong>区别</strong>：和<code>i3</code>一样，关键在于<code>inline</code>。</li>
</ul>
</li>
<li><p><strong>指针成员变量 (<code>Integer* i5;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：声明为一个指针类型。</li>
<li><strong>初始化</strong>：<ul>
<li>可以在类内初始化为<code>nullptr</code>（推荐，避免未初始化指针）。</li>
<li>可以在<code>Point</code>的构造函数<strong>成员初始化列表</strong>中，使用<code>new</code>关键字来<strong>动态分配</strong>（dynamically allocate）内存并构造一个<code>Integer</code>对象。</li>
<li><strong>内存管理</strong>：由于<code>i5</code>指向的内存是在堆（heap）上动态分配的，因此<strong>必须</strong>在<code>Point</code>类的<strong>析构函数</strong>中<code>delete</code>该内存，以防止<strong>内存泄漏</strong>（memory leak）。</li>
</ul>
</li>
<li><strong>区别</strong>：<ul>
<li><strong>没有递归调用问题</strong>：这是最显著的区别。当<code>Point</code>的构造函数初始化<code>i5</code>时，它调用的是<code>Integer</code>类的构造函数（通过<code>new Integer(50)</code>），而不是<code>Point</code>自身的构造函数。因此，不会像上一讲中自身类型指针那样可能导致无限递归（如果设计不当）。</li>
<li><strong>直接在初始化列表分配内存</strong>：因为没有递归问题，我们不需要像上一讲那样通过一个单独的成员函数来间接完成内存分配，可以直接在初始化列表中<code>new</code>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>非内联静态成员变量 (<code>static Integer i6;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：使用<code>static</code>关键字。</li>
<li><strong>初始化</strong>：<strong>必须</strong>在类定义外部（通常在<code>.cpp</code>文件中）进行定义和初始化。</li>
<li><strong>特点</strong>：<code>static</code>成员变量是所有对象共享的，它不属于任何一个具体的<code>Point</code>对象，而是属于<code>Point</code>类本身。它的生命周期与程序的生命周期相同。</li>
</ul>
</li>
<li><p><strong>非内联静态常量成员变量 (<code>static const Integer i7;</code>)</strong>:</p>
<ul>
<li><strong>声明</strong>：使用<code>static const</code>关键字。</li>
<li><strong>初始化</strong>：与<code>i6</code>类似，必须在类定义外部（通常在<code>.cpp</code>文件中）进行定义和初始化。</li>
<li><strong>特点</strong>：既是<code>static</code>（共享），又是<code>const</code>（常量）。</li>
</ul>
</li>
</ol>
<p><strong>总结区别</strong>：<br>当成员变量是“其他类型”时，最核心的不同在于：</p>
<ul>
<li><strong>完整类型可见性</strong>：因为被包含（<code>#include</code>），编译器在定义包含类时已经知道了成员变量的完整定义，不会有“不完整类型”导致的限制。</li>
<li><strong>构造函数无递归问题</strong>：包含类的构造函数调用的是成员变量类型的构造函数，而非自身类的构造函数，因此不会陷入无限递归的陷阱。</li>
</ul>
<h3 id="2-5-const-正确性（Const-Correctness）"><a href="#2-5-const-正确性（Const-Correctness）" class="headerlink" title="2.5 const 正确性（Const Correctness）"></a>2.5 <code>const</code> 正确性（Const Correctness）</h3><p>在我们的代码中，<code>i2</code>、<code>i4</code>和<code>i7</code>都被声明为<code>const</code>。这意味着一旦它们被初始化，它们的值就不能再被修改。</p>
<ul>
<li>尝试调用<code>p1.setI2Value(222)</code>、<code>p1.setI4Value(444)</code>或<code>p1.setI7Value(777)</code>都将导致<strong>编译错误</strong>。</li>
<li>这是因为<code>const</code>成员变量的<code>setValue</code>方法（如果存在）不能被调用，因为它会尝试修改<code>const</code>数据。即便<code>setValue</code>方法不是<code>const</code>成员函数，只要它尝试修改一个<code>const</code>对象，就会出错。</li>
<li>我们在<code>Integer</code>类中<code>getValue()</code>方法后面加上了<code>const</code>，表示这个方法不会修改对象的状态，因此它可以被<code>const Integer</code>对象调用。这是一个很好的<strong><code>const</code>正确性</strong>实践。</li>
</ul>
<hr>
<h2 id="4-QA-闪存卡-QA-Flash-Cards"><a href="#4-QA-闪存卡-QA-Flash-Cards" class="headerlink" title="4. QA 闪存卡 (QA Flash Cards)"></a>4. QA 闪存卡 (QA Flash Cards)</h2><ol>
<li><p><strong>Q1: 在C++中，当一个类拥有“其他类型”的成员变量时，与拥有“自身类型”的成员变量相比，有哪些主要的不同点？</strong></p>
<ul>
<li><strong>A1:</strong> 主要的不同点是：<ol>
<li><strong>完整类型可见性</strong>：因为“其他类型”通常在类定义之前已被<code>#include</code>，所以不会有“不完整类型”的编译问题。</li>
<li><strong>构造函数无递归调用问题</strong>：包含类的构造函数调用的是成员变量类型的构造函数，而不是自身类型的构造函数，因此不会出现无限递归的风险，可以直接在初始化列表中<code>new</code>分配内存。</li>
</ol>
</li>
</ul>
</li>
<li><p><strong>Q2: 为什么<code>const Integer i2;</code> 必须在<code>Point</code>类的构造函数的成员初始化列表中进行初始化，而不能在构造函数体内部赋值？</strong></p>
<ul>
<li><strong>A2:</strong> 因为<code>i2</code>是一个<code>const</code>（常量）成员变量。<code>const</code>对象在创建时必须立即获得其最终值，不能在构造完成后再赋值。构造函数体内部的语句是在成员变量已经完成初始化之后才执行的，如果在这里赋值，就相当于对一个<code>const</code>对象进行第二次赋值，这是不允许的。成员初始化列表则是在对象构造时，为成员变量分配内存并调用其构造函数（或直接初始化）的阶段。</li>
</ul>
</li>
<li><p><strong>Q3: <code>inline static Integer i3;</code> 和 <code>static Integer i6;</code> 在初始化方式上有什么不同？</strong></p>
<ul>
<li><strong>A3:</strong><ul>
<li><code>inline static Integer i3;</code>：是一个<strong>内联静态成员变量</strong>。它可以（并且推荐）在类定义内部直接初始化，这得益于C++17引入的<code>inline</code>变量特性，它解决了多重定义问题。</li>
<li><code>static Integer i6;</code>：是一个普通的<strong>静态成员变量</strong>（非内联）。它<strong>必须</strong>在类定义外部（通常在<code>.cpp</code>文件中）进行定义和初始化。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Q4: 当一个类拥有<code>Integer* i5;</code> 这样的指针成员变量时，在管理内存方面有什么需要特别注意的？</strong></p>
<ul>
<li><strong>A4:</strong> <code>Integer* i5;</code> 这种指针成员变量通常指向在<strong>堆</strong>（heap）上通过<code>new</code>动态分配的内存。因此，为了防止<strong>内存泄漏</strong>（memory leak），你<strong>必须</strong>在类的<strong>析构函数</strong>中，使用<code>delete i5;</code> 来释放这块内存。并且为了防止<strong>悬空指针</strong>（dangling pointer），通常在<code>delete</code>之后将<code>i5</code>赋值为<code>nullptr</code>。</li>
</ul>
</li>
</ol>
<hr>
<h2 id="5-常见误解或错误"><a href="#5-常见误解或错误" class="headerlink" title="5. 常见误解或错误"></a>5. 常见误解或错误</h2><ol>
<li><strong>忘记在析构函数中释放动态分配的内存</strong>：这是最常见的错误之一。如果像<code>Integer* i5;</code> 这样的指针成员变量在构造函数中通过<code>new</code>分配了内存，却忘记在析构函数中<code>delete</code>，就会导致<strong>内存泄漏</strong>。程序运行时会不断占用内存，最终可能导致系统资源耗尽。</li>
<li><strong>尝试修改<code>const</code>成员变量</strong>：初学者常常会忘记<code>const</code>成员变量一旦初始化后就不能修改的特性，导致编译错误。记住：<code>const</code>就是“常量”，其值固定不变。</li>
<li><strong>混淆<code>static</code>和<code>inline static</code>的初始化规则</strong>：在C++17之前，用户自定义类型的<code>static</code>成员变量无论如何都不能在类内初始化。C++17引入<code>inline</code>变量后，才允许<code>inline static</code>成员变量在类内初始化。如果忘记使用<code>inline</code>而尝试在类内初始化用户自定义类型的<code>static</code>成员变量，会导致编译错误（除非它是静态常量整型）。</li>
<li><strong>对<code>static</code>成员变量的误解</strong>：认为<code>static</code>成员变量是每个对象都有自己的副本。实际上，<code>static</code>成员变量是类级别的，所有对象共享同一个副本。</li>
<li><strong>忘记对指针成员变量进行空检查</strong>：在访问指针成员变量指向的数据之前（例如<code>i5-&gt;getValue()</code>），应该始终检查指针是否为<code>nullptr</code>，以避免<strong>空指针解引用</strong>（null pointer dereference）导致的程序崩溃。例如<code>if (i5) i5-&gt;getValue();</code>。</li>
</ol>
<hr>
<h2 id="6-编程练习"><a href="#6-编程练习" class="headerlink" title="6. 编程练习"></a>6. 编程练习</h2><p>现在，轮到你来动手实践了！请在下面的<code>Point</code>类中，添加一个新的<code>Integer</code>类型的成员变量<code>i8</code>，并确保它是一个<strong>非内联的静态常量成员变量</strong>，其初始值为<code>800</code>。你需要修改<code>Point.h</code>和<code>Point.cpp</code>文件。</p>
<p><strong>你的任务：</strong></p>
<ol>
<li>在<code>Point.h</code>中声明<code>i8</code>。</li>
<li>在<code>Point.cpp</code>中定义并初始化<code>i8</code>。</li>
<li>在<code>Point.h</code>中添加一个<code>getI8Value()</code>的<code>const</code>成员函数来获取<code>i8</code>的值。</li>
<li>在<code>main.cpp</code>中调用<code>getI8Value()</code>并打印其值，验证你的修改。</li>
</ol>
<p><strong><code>Point.h</code> (你需要修改这里):</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Integer.h"</span> <span class="comment">// 包含Integer类的定义</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> s_pointCount; <span class="comment">// 静态成员变量，用于记录Point对象数量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// --- Integer类型的成员变量 ---</span></span><br><span class="line">    Integer i1; <span class="comment">// 普通Integer对象</span></span><br><span class="line">    <span class="keyword">const</span> Integer i2; <span class="comment">// 常量Integer对象</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> Integer i3 = <span class="number">100</span>; <span class="comment">// 内联静态Integer对象，可以在类内初始化</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> Integer i4 = <span class="number">200</span>; <span class="comment">// 内联静态常量Integer对象，可以在类内初始化</span></span><br><span class="line">    Integer* i5; <span class="comment">// 指针Integer对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 静态成员变量，需要类外定义和初始化</span></span><br><span class="line">    <span class="keyword">static</span> Integer i6;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> Integer i7;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 1. 在这里声明新的非内联静态常量成员变量 i8</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    Point(<span class="keyword">double</span> x_val, <span class="keyword">double</span> y_val);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 析构函数</span></span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取x值</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getX</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> m_x; &#125;</span><br><span class="line">    <span class="comment">// 获取y值</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getY</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> m_y; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取Integer成员变量的值</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI1Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i1.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI2Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i2.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI3Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i3.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI4Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i4.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI5Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i5 ? i5-&gt;getValue() : <span class="number">-1</span>; &#125; <span class="comment">// 检查指针是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI6Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i6.getValue(); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getI7Value</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> i7.getValue(); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 3. 在这里添加 getI8Value() 的const成员函数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置Integer成员变量的值 (注意i2, i4, i7是const，不能设置)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setI1Value</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123; i1.setValue(val); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setI5Value</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123; <span class="keyword">if</span> (i5) i5-&gt;setValue(val); &#125; <span class="comment">// 检查指针是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setI6Value</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123; i6.setValue(val); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态方法，获取Point对象总数</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getPointCount</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>Point.cpp</code> (你需要修改这里):</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化静态成员变量</span></span><br><span class="line"><span class="keyword">int</span> Point::s_pointCount = <span class="number">0</span>;</span><br><span class="line">Integer Point::i6 = <span class="number">600</span>; <span class="comment">// 静态Integer成员变量，必须在类外定义和初始化</span></span><br><span class="line"><span class="keyword">const</span> Integer Point::i7 = <span class="number">700</span>; <span class="comment">// 静态常量Integer成员变量，必须在类外定义和初始化</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> 2. 在这里定义并初始化新的非内联静态常量成员变量 i8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数实现</span></span><br><span class="line"><span class="comment">// 注意：i2 (const Integer) 和 i5 (Integer*) 必须在成员初始化列表（member initializer list）中初始化</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x_val, <span class="keyword">double</span> y_val)</span><br><span class="line">    : m_x(x_val), m_y(y_val),</span><br><span class="line">      i2(<span class="number">20</span>), <span class="comment">// i2是const Integer，必须在这里初始化</span></span><br><span class="line">      i5(<span class="keyword">new</span> Integer(<span class="number">50</span>)) <span class="comment">// i5是指针，这里直接分配内存并构造Integer对象</span></span><br><span class="line">&#123;</span><br><span class="line">    s_pointCount++; <span class="comment">// 每次创建Point对象，计数器加一</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point::Point() - Constructor for ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">") with i1="</span> &lt;&lt; i1.getValue()</span><br><span class="line">              &lt;&lt; <span class="string">", i2="</span> &lt;&lt; i2.getValue() &lt;&lt; <span class="string">", i3="</span> &lt;&lt; i3.getValue() &lt;&lt; <span class="string">", i4="</span> &lt;&lt; i4.getValue()</span><br><span class="line">              &lt;&lt; <span class="string">", i5="</span> &lt;&lt; i5-&gt;getValue() &lt;&lt; <span class="string">", i6="</span> &lt;&lt; i6.getValue() &lt;&lt; <span class="string">", i7="</span> &lt;&lt; i7.getValue() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 析构函数实现</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    s_pointCount--; <span class="comment">// 每次销毁Point对象，计数器减一</span></span><br><span class="line">    <span class="keyword">delete</span> i5; <span class="comment">// 释放i5指向的内存</span></span><br><span class="line">    i5 = <span class="literal">nullptr</span>; <span class="comment">// 将指针置空，防止悬空指针（dangling pointer）</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point::~Point() - Destructor for ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态方法实现</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Point::getPointCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s_pointCount;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code> (你需要修改这里):</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 开始程序 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建Point对象</span></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10.0</span>, <span class="number">20.0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问并打印各种Integer成员变量的值</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 访问Point对象的Integer成员变量 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i1 value: "</span> &lt;&lt; p1.getI1Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i1: 普通Integer，默认构造函数</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i2 value: "</span> &lt;&lt; p1.getI2Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i2: const Integer，在构造函数初始化列表中初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i3 value: "</span> &lt;&lt; p1.getI3Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i3: inline static Integer，类内初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i4 value: "</span> &lt;&lt; p1.getI4Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i4: inline static const Integer，类内初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i5 value: "</span> &lt;&lt; p1.getI5Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i5: Integer*，在构造函数初始化列表中new分配</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i6 value: "</span> &lt;&lt; p1.getI6Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i6: static Integer，类外初始化</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i7 value: "</span> &lt;&lt; p1.getI7Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// i7: static const Integer，类外初始化</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 4. 在这里调用 getI8Value() 并打印其值</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 尝试修改非const Integer成员变量</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 尝试修改Integer成员变量 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    p1.setI1Value(<span class="number">111</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i1 new value: "</span> &lt;&lt; p1.getI1Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    p1.setI5Value(<span class="number">555</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i5 new value: "</span> &lt;&lt; p1.getI5Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    p1.setI6Value(<span class="number">666</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1.i6 new value: "</span> &lt;&lt; p1.getI6Value() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 创建更多Point对象并观察PointCount ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">30.0</span>, <span class="number">40.0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Current Point Count: "</span> &lt;&lt; Point::getPointCount() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// 通过静态方法访问</span></span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">Point <span class="title">p3</span><span class="params">(<span class="number">50.0</span>, <span class="number">60.0</span>)</span></span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Current Point Count (inside scope): "</span> &lt;&lt; Point::getPointCount() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="comment">// p3 在这里超出作用域并被销毁</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Current Point Count (after p3 destroyed): "</span> &lt;&lt; Point::getPointCount() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 程序结束 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// p1 和 p2 在这里超出作用域并被销毁</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p>请你完成上述代码修改，然后将你的解决方案提供给我。期待你的答案！</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Developer/">Developer    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>320 - cpp成员常量 pre cpp17</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/324%20-%20Nested%20class/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>324 - Nested class</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/277 - IDE 创建 cpp 类方法/" title="277 - IDE 创建 cpp 类方法"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">277 - IDE 创建 cpp 类方法</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/276 - Class across multiple files/" title="276 - Class across multiple files"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">276 - Class across multiple files</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/静态成员访问控制/" title="静态成员访问控制"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">静态成员访问控制</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/256 - cpp decltype(auto)/" title="256 - cpp decltype(auto)"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">256 - cpp decltype(auto)</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/272 - first class/" title="272 - first class"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">272 - first class</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'不说话的人会疯掉吗?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">外向孤独者患者</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>