<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>313 - friend of class | Bear's dream</title><meta name="description" content="313 - friend of class"><meta name="keywords" content="Cpp,Coding,Tutorial,Development,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="313 - friend of class"><meta name="twitter:description" content="313 - friend of class"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="313 - friend of class"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/313%20-%20friend%20of%20class/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="313 - friend of class"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/313%20-%20friend%20of%20class/"><link rel="prev" title="312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/312%20-%20cpp%20%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/"><link rel="next" title="318 - inline static variable" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/318%20-%20inline%20static%20variable/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">152</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">20</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#313-Friend-of-Class"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">313 - Friend of Class</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">C++å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-å‹å…ƒç±»è¯¦è§£"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">1. å‹å…ƒç±»è¯¦è§£</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ"><span class="toc_mobile_items-number">1.4.1.</span> <span class="toc_mobile_items-text">1.1 ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-2-ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ"><span class="toc_mobile_items-number">1.4.2.</span> <span class="toc_mobile_items-text">1.2 ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-3-å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ"><span class="toc_mobile_items-number">1.4.3.</span> <span class="toc_mobile_items-text">1.3 å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-4-å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§"><span class="toc_mobile_items-number">1.4.4.</span> <span class="toc_mobile_items-text">1.4 å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-5-ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ"><span class="toc_mobile_items-number">1.4.5.</span> <span class="toc_mobile_items-text">1.5 ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-è¯¦ç»†ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2. è¯¦ç»†ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-QA-é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">3. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><span class="toc_mobile_items-number">1.7.</span> <span class="toc_mobile_items-text">4. å¸¸è§è¯¯è§£æˆ–é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-ç¼–ç¨‹ç»ƒä¹ "><span class="toc_mobile_items-number">1.8.</span> <span class="toc_mobile_items-text">5. ç¼–ç¨‹ç»ƒä¹ </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">1.9.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">1.10.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£"><span class="toc_mobile_items-number">1.11.</span> <span class="toc_mobile_items-text">å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"><span class="toc_mobile_items-number">1.12.</span> <span class="toc_mobile_items-text">1. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><span class="toc_mobile_items-number">1.13.</span> <span class="toc_mobile_items-text">2. æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-å»ºè®®å’Œæ‰©å±•é—®é¢˜"><span class="toc_mobile_items-number">1.14.</span> <span class="toc_mobile_items-text">3. å»ºè®®å’Œæ‰©å±•é—®é¢˜</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-2"><span class="toc_mobile_items-number">1.15.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-2"><span class="toc_mobile_items-number">1.16.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜"><span class="toc_mobile_items-number">1.17.</span> <span class="toc_mobile_items-text">8. è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#313-Friend-of-Class"><span class="toc-number">1.</span> <span class="toc-text">313 - Friend of Class</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™"><span class="toc-number">1.3.</span> <span class="toc-text">C++å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-å‹å…ƒç±»è¯¦è§£"><span class="toc-number">1.4.</span> <span class="toc-text">1. å‹å…ƒç±»è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.1 ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.2 ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.3 å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§"><span class="toc-number">1.4.4.</span> <span class="toc-text">1.4 å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ"><span class="toc-number">1.4.5.</span> <span class="toc-text">1.5 ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-è¯¦ç»†ä»£ç ç¤ºä¾‹"><span class="toc-number">1.5.</span> <span class="toc-text">2. è¯¦ç»†ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-QA-é—ªå¡-QA-Flash-Cards"><span class="toc-number">1.6.</span> <span class="toc-text">3. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><span class="toc-number">1.7.</span> <span class="toc-text">4. å¸¸è§è¯¯è§£æˆ–é”™è¯¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-ç¼–ç¨‹ç»ƒä¹ "><span class="toc-number">1.8.</span> <span class="toc-text">5. ç¼–ç¨‹ç»ƒä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">1.9.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">1.10.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£"><span class="toc-number">1.11.</span> <span class="toc-text">å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"><span class="toc-number">1.12.</span> <span class="toc-text">1. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><span class="toc-number">1.13.</span> <span class="toc-text">2. æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-å»ºè®®å’Œæ‰©å±•é—®é¢˜"><span class="toc-number">1.14.</span> <span class="toc-text">3. å»ºè®®å’Œæ‰©å±•é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-2"><span class="toc-number">1.15.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-2"><span class="toc-number">1.16.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜"><span class="toc-number">1.17.</span> <span class="toc-text">8. è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">313 - friend of class</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/313%20-%20friend%20of%20class/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/313%20-%20friend%20of%20class/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="313-Friend-of-Class"><a href="#313-Friend-of-Class" class="headerlink" title="313 - Friend of Class"></a>313 - Friend of Class</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to learn about friend classes and friend classes are a facility.We have to give external classes access to our own member variables.And letâ€™s look at a simple example to really drive this home.If you look here, we have our good old dog class.It has a public section and a private section, and we have our valuable member variables that externalclasses want to access.If you look down here, we have another class which is called Cat, and it has a function which takesa dog parameter by reference.And inside the function we want to access private members of our dog object directly through the dotoperator like this.And suppose this is that is really important for the problem that you are trying to solve with C plusplus by default, if you try to do this, youâ€™re going to get a compiler error because you really aretrying to access private parts of a dog object from the outside of a dog class.So weâ€™re going to get a compiler error.If you want this to work, you can go in and mark these members as public.But we have seen that this is really bad design.You donâ€™t want to do that.The option we have is to give the cat class access to our own private member variables in here by markingthe class cat as our own friend.And we can do that through the syntax.You see here, we say friend class and then we specify the class.We want to be our friend.The moment we put this declaration and the class is going to become our friend and it has access toany member variable in our class, be it private or public.And you have to be sure that this is what you want because as we have seen in the last lecture, yourfriends are going to have all access to your private member variables and they can read from them,they can even modify them.So make sure this is really what you want.So just like for friend functions, friend classes are not really members, so they donâ€™t have directaccess to the this pointer, for example.They are really not member functions.They are external things that have access to our own things, but they canâ€™t access the member variablesdirectly to have access.They have to go through an object name like dog here.So for example, if we went into this function and tried to access dog age directly, that wouldnâ€™twork because they really are not members and they donâ€™t have access to the this pointer.So this is really all I want to share with you.In terms of friend classes.Letâ€™s head over to Visual Studio code and play with this a little more.Okay.Here we are in our working folder.The current project is Friend classes.Weâ€™re going to grab our template files like we always do.Weâ€™re going to put them in place and weâ€™re going to open this in Visual Studio code by dragging anddropping here, this is going to open our folder.Weâ€™re going to close the left sidebar here and weâ€™re going to clean up a little bit and we are goingto use the dog from the last lecture as a starting point.So here is our class.It has a few private member variables, name and age, and we donâ€™t want this friend functions herebecause they donâ€™t make sense for what we want to do now.Now letâ€™s go down and set up another class, which is going to be a cat class.Letâ€™s do that.Weâ€™re going to say class cat and weâ€™re going to have a function which is going to live in the publicsection and weâ€™re going to say print dog info.Itâ€™s going to not return anything and weâ€™re going to take our dog by const reference.So letâ€™s do that.Letâ€™s say D here and we are basically going to do the same thing we did in the last lecture.Weâ€™re going to print information about the dog object, so weâ€™re going to say Stdcout dog and weâ€™regoing to say the name of the dog d m name.We want to access the name directly.Letâ€™s do that.And weâ€™re going to put a comma and say age and weâ€™re going to say D m age.Weâ€™re going to put our square bracket and weâ€™re going to put a new line character and we want this towork.But you see that we have a squiggly line and this is really bad.We donâ€™t want this.We want to have direct access here.But because we are doing this from the outside, you notice that this function is the member functionand because it is a member function and it is just trying to print stuff, letâ€™s mark it as const becausewe donâ€™t want it to modify the member variables and letâ€™s make this class a little complete by givingit a private member variable and give our cat a name also.So letâ€™s say stdstring m name, but it is from a cat class, so make sure you know this.So letâ€™s put a colon here and you see we have a problem here and we want to solve.We have seen that we can use friend functions and these are going to be better than coming in here andmarking this thing as public.Because if we do this, this is going to solve the problem.Anybody will have access to our member variables.From the outside, you see that the squiggly line goes away.But again, this is bad design because anybody from the outside is going to have access to our own membervariables and this is going to leak our own implementation details to the outside.This is bad.We want our member variables to be private.So to give our cat class access, we can mark it as a friend, and the syntax to do that is ridiculouslysimple.Again, we say friend class and then we say the class name.And at the moment we do that, you see the squiggly lines go away and we can go down and create catobjects and do anything we want with them.We canâ€™t really pass the name for our cat, so if we pass them, they are just going to have an emptystring as the name, but we donâ€™t really care.So letâ€™s go down and do that.Weâ€™re going to say Cat Cat one and we can then create an object of our dog.Weâ€™re going to say Dog Dog one and weâ€™re going to give it a name Fluffy, and they are going to be twoyears old.And then we can say Cat one and say Print dog info and pass our dog here.Itâ€™s going to be passed by reference.And if we do this, weâ€™re going to print the information and it is going to be what we want.So letâ€™s build.Youâ€™re going to see that the world is good.If we clear and run Rooster, weâ€™re going to see our information here.So there are a few things you really need to know.Even if the cat class has access to our own private member variables, it really isnâ€™t a member.For example, it doesnâ€™t have access to the this pointer.If we try and come in and use the this pointer inside this function, that will be the this pointerof the cat object.It wonâ€™t be the this pointer of the dog object that we passed here as a parameter.You really need to know this because of this reason we canâ€™t have direct access to the age of the dog.For example, if we try to do that, weâ€™re going to have a compiler error.Letâ€™s go in and try to print the age directly.Letâ€™s say M Age, and at the moment we do that, weâ€™re going to get a compiler error because Cat doesnâ€™thave a member called M Age and we canâ€™t really have direct access to the dog class because weâ€™re notinside the dog class.Even if we try to use the this pointer, the this pointer we have is for the cat object we are in.If we try to print stuff from here, for example, if we are printing here and trying to access thethis pointer, we will be using the this pointer of the cat object.It wonâ€™t be the this pointer of the dog object that was passed to us as a parameter.You really need to know this.If for example we change this to be M name, we will be accessing the name of the cat.It wonâ€™t be the name of the dog here.So letâ€™s change this to M name.Youâ€™re going to see that itâ€™s going to work, but it wonâ€™t be the name for the dog again.It will be the name for the cat object because we have a member variable named M name here.If we take this out, weâ€™re going to see that this is going to give us an error because Cat now doesnâ€™thave a member variable named M name.So you need to know this inside friend classes.We donâ€™t have direct access to member variables of the class that we have befriended.If we want to have access to the member variables, we have to go through an object.So even if we have access to the member variables, the access is still limited to some level.Itâ€™s not full access like regular member variables of the class that we have befriended.So you really need to know this.And another thing I want to point out is that just because Cat is now a friend of dog doesnâ€™t mean Dogis a friend of cat.What do I mean?Because of this friendship we have set up here, we donâ€™t have access to private members of Cat.Another thing worth pointing out is that just because we have this friendship here, setting up Catas a friend of dog doesnâ€™t mean a dog is a friend of cat.So friendship is not reciprocal.So you really need to know that if you want dog to be a friend of cat, you have to go inside the catclass and really set this up.But weâ€™re not going to do that here.And I think this is really all I had to share in this lecture.If you need this kind of setup, this is how you can do it.You can set up a friend class and itâ€™s going to have access to your private member variables and youcan use that however you want.We are going to stop here in this lecture.The next one weâ€™re going to try and recap.What we saw in this chapter.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæˆ‘ä»¬æ¥å¼€å§‹å­¦ä¹ C++ä¸­ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ¦‚å¿µï¼š<strong>å‹å…ƒç±»ï¼ˆFriend Classesï¼‰</strong>ã€‚</p>
<hr>
<h2 id="C-å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™"><a href="#C-å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™" class="headerlink" title="C++å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™"></a><strong>C++å‹å…ƒç±»ï¼šæ‰“ç ´å°è£…çš„ç‰¹æ®Šæƒé™</strong></h2><p><strong>æ‘˜è¦ï¼š</strong> æœ¬è¯¾ç¨‹å°†æ·±å…¥æ¢è®¨C++ä¸­çš„å‹å…ƒç±»ï¼Œå®ƒæ˜¯ä¸€ç§èµ‹äºˆå¤–éƒ¨ç±»è®¿é—®æˆ‘ä»¬è‡ªèº«ç§æœ‰ï¼ˆprivateï¼‰æˆ–ä¿æŠ¤ï¼ˆprotectedï¼‰æˆå‘˜å˜é‡çš„æœºåˆ¶ã€‚æˆ‘ä»¬å°†é€šè¿‡è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹ï¼Œç†è§£å‹å…ƒç±»çš„å£°æ˜ã€å·¥ä½œåŸç†ã€ä½¿ç”¨åœºæ™¯ã€ä»¥åŠéœ€è¦æ³¨æ„çš„å…³é”®ç‚¹å’Œå¸¸è§è¯¯è§£ã€‚</p>
<hr>
<h2 id="1-å‹å…ƒç±»è¯¦è§£"><a href="#1-å‹å…ƒç±»è¯¦è§£" class="headerlink" title="1. å‹å…ƒç±»è¯¦è§£"></a><strong>1. å‹å…ƒç±»è¯¦è§£</strong></h2><p>åœ¨C++ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´å¼ºè°ƒé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªæ ¸å¿ƒåŸåˆ™æ˜¯<strong>å°è£…ï¼ˆEncapsulationï¼‰</strong>ã€‚è¿™æ„å‘³ç€ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œç‰¹åˆ«æ˜¯å®ƒçš„æˆå‘˜å˜é‡ï¼Œé€šå¸¸åº”è¯¥è¢«éšè—èµ·æ¥ï¼Œä¸ç›´æ¥æš´éœ²ç»™å¤–éƒ¨ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>private</code> æˆ– <code>protected</code> å…³é”®å­—æ¥é™åˆ¶å¯¹è¿™äº›æˆå‘˜çš„è®¿é—®ï¼Œä»¥ç¡®ä¿æ•°æ®å®‰å…¨æ€§å’Œä»£ç çš„å¥å£®æ€§ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨æŸäº›ç‰¹å®šçš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å…è®¸ä¸€ä¸ª<strong>ç‰¹å®š</strong>çš„å¤–éƒ¨ç±»èƒ½å¤Ÿç›´æ¥è®¿é—®æˆ‘ä»¬ç±»çš„ç§æœ‰æˆ–ä¿æŠ¤æˆå‘˜ã€‚è¿™æ—¶ï¼Œ<strong>å‹å…ƒç±»ï¼ˆFriend Classï¼‰</strong>å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p>
<h3 id="1-1-ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ"><a href="#1-1-ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ" class="headerlink" title="1.1 ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ"></a><strong>1.1 ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ</strong></h3><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ª <code>Dog</code> ç±»ï¼Œå®ƒæœ‰ä¸€äº›ç§æœ‰çš„æˆå‘˜å˜é‡ï¼Œæ¯”å¦‚ <code>m_name</code>ï¼ˆåå­—ï¼‰å’Œ <code>m_age</code>ï¼ˆå¹´é¾„ï¼‰ã€‚ä½ å¸Œæœ›è¿™äº›æ•°æ®åªèƒ½é€šè¿‡ <code>Dog</code> ç±»è‡ªå·±çš„å…¬å…±æ–¹æ³•æ¥è®¿é—®å’Œä¿®æ”¹ï¼Œä»¥ä¿æŠ¤å®ƒä»¬ä¸è¢«éšæ„ç¯¡æ”¹ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::<span class="built_in">string</span> name, <span class="keyword">int</span> age) : m_name(name), m_age(age) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡è®¾æ²¡æœ‰å…¬å…±çš„getteræˆ–setterï¼Œæˆ–è€…åªå…è®¸é€šè¿‡ç‰¹å®šæ“ä½œè®¿é—®</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>ç°åœ¨ï¼Œä½ åˆæœ‰ä¸€ä¸ª <code>Cat</code> ç±»ï¼Œå®ƒçš„ä¸€ä¸ªæˆå‘˜å‡½æ•° <code>print_dog_info</code> éœ€è¦æ‰“å°ä¸€ä¸ª <code>Dog</code> å¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®ƒçš„åå­—å’Œå¹´é¾„ã€‚å¦‚æœ <code>m_name</code> å’Œ <code>m_age</code> æ˜¯ <code>private</code> çš„ï¼Œé‚£ä¹ˆ <code>Cat</code> ç±»çš„ <code>print_dog_info</code> å‡½æ•°æ˜¯<strong>æ— æ³•ç›´æ¥è®¿é—®</strong> <code>dog_obj.m_name</code> å’Œ <code>dog_obj.m_age</code> çš„ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dog_info</span><span class="params">(<span class="keyword">const</span> Dog&amp; d)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šm_name å’Œ m_age æ˜¯ç§æœ‰çš„ï¼</span></span><br><span class="line">        <span class="comment">// std::cout &lt;&lt; "Dog Name: " &lt;&lt; d.m_name &lt;&lt; ", Age: " &lt;&lt; d.m_age &lt;&lt; std::endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p><strong>é—®é¢˜æ‰€åœ¨ï¼š</strong><br>é»˜è®¤æƒ…å†µä¸‹ï¼Œä» <code>Dog</code> ç±»å¤–éƒ¨è®¿é—®å…¶ç§æœ‰æˆå‘˜ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚<br>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†å®ƒä»¬éƒ½æœ‰å„è‡ªçš„ç¼ºç‚¹ï¼š</p>
<ol>
<li><strong>å°†ç§æœ‰æˆå‘˜æ”¹ä¸º <code>public</code>ï¼š</strong> æ¯”å¦‚æŠŠ <code>m_name</code> å’Œ <code>m_age</code> å£°æ˜ä¸º <code>public</code>ã€‚<ul>
<li><strong>ç¼ºç‚¹ï¼š</strong> è¿™å®Œå…¨ç ´åäº†å°è£…æ€§ï¼Œä»»ä½•å¤–éƒ¨ä»£ç éƒ½å¯ä»¥ç›´æ¥è®¿é—®å’Œä¿®æ”¹è¿™äº›æˆå‘˜ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸ç³Ÿç³•çš„è®¾è®¡ï¼Œå› ä¸ºè¿™ä¼šæš´éœ²ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œä½¿ç±»æ›´å®¹æ˜“è¢«é”™è¯¯ä½¿ç”¨ï¼Œå¹¶ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</li>
</ul>
</li>
<li><strong>ä¸ºç§æœ‰æˆå‘˜æä¾›å…¬å…±çš„ <code>getter</code> æ–¹æ³•ï¼š</strong> ä¸º <code>m_name</code> å’Œ <code>m_age</code> æä¾›å…¬å…±çš„ <code>getName()</code> å’Œ <code>getAge()</code> æ–¹æ³•ã€‚<ul>
<li><strong>ç¼ºç‚¹ï¼š</strong> è¿™ç§æ–¹æ³•é€šå¸¸æ˜¯å¥½çš„è®¾è®¡ï¼Œä½†åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œå¦‚æœä¸€ä¸ªç±»éœ€è¦å¯¹å¦ä¸€ä¸ªç±»çš„å†…éƒ¨æ•°æ®è¿›è¡Œæ·±å±‚æ“ä½œï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªåºåˆ—åŒ–å™¨éœ€è¦å®Œå…¨é‡æ„å¯¹è±¡çŠ¶æ€ï¼‰ï¼Œæä¾›å¤§é‡çš„ <code>getter</code> å¯èƒ½ä¸å¤Ÿçµæ´»ï¼Œæˆ–è€… <code>setter</code> ä¼šå¸¦æ¥å®‰å…¨éšæ‚£ï¼Œè€Œå‹å…ƒæä¾›äº†ä¸€ç§æ›´ç´§å¯†è€¦åˆä½†å—æ§çš„è®¿é—®æ–¹å¼ã€‚</li>
</ul>
</li>
</ol>
<p>ä¸ºäº†åœ¨<strong>ä¸ç ´åå°è£…æ€§</strong>çš„å‰æä¸‹ï¼Œå…è®¸<strong>ç‰¹å®š</strong>çš„å¤–éƒ¨ç±»è®¿é—®æˆ‘ä»¬çš„ç§æœ‰æˆå‘˜ï¼ŒC++å¼•å…¥äº†å‹å…ƒæœºåˆ¶ã€‚</p>
<h3 id="1-2-ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ"><a href="#1-2-ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ" class="headerlink" title="1.2 ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ"></a><strong>1.2 ä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼Ÿ</strong></h3><p>å‹å…ƒç±»æ˜¯ä¸€ç§ç‰¹æ®Šæœºåˆ¶ï¼Œå®ƒå…è®¸ä¸€ä¸ªç±»ï¼ˆå‹å…ƒç±»ï¼‰è®¿é—®å¦ä¸€ä¸ªç±»ï¼ˆè¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»ï¼‰çš„ç§æœ‰ï¼ˆ<code>private</code>ï¼‰å’Œä¿æŠ¤ï¼ˆ<code>protected</code>ï¼‰æˆå‘˜ï¼Œå°±åƒå®ƒæ˜¯è¿™ä¸ªç±»çš„æˆå‘˜ä¸€æ ·ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯â€œæˆ‘ä¿¡ä»»ä½ ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°æˆ‘çš„ç§˜å¯†ã€‚â€</p>
<h3 id="1-3-å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ"><a href="#1-3-å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ" class="headerlink" title="1.3 å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ"></a><strong>1.3 å¦‚ä½•å£°æ˜å‹å…ƒç±»ï¼Ÿ</strong></h3><p>åœ¨C++ä¸­ï¼Œä½ é€šè¿‡åœ¨<strong>è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»</strong>çš„å®šä¹‰ä¸­ï¼Œä½¿ç”¨ <code>friend</code> å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå‹å…ƒç±»ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BeingBefriendedClass</span> &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">FriendClass</span>;</span> <span class="comment">// åœ¨è¿™é‡Œå£°æ˜å‹å…ƒç±»</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>ç¤ºä¾‹ï¼š</strong><br>åœ¨æˆ‘ä»¬çš„ <code>Dog</code> ç±»ä¸­ï¼Œä¸ºäº†è®© <code>Cat</code> ç±»èƒ½å¤Ÿè®¿é—®å®ƒçš„ç§æœ‰æˆå‘˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>Dog</code> ç±»å†…éƒ¨å£°æ˜ <code>Cat</code> ä¸ºå…¶å‹å…ƒï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. Dog ç±»çš„å£°æ˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::<span class="built_in">string</span> name, <span class="keyword">int</span> age) : m_name(name), m_age(age) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// â­ æ ¸å¿ƒï¼šåœ¨ Dog ç±»ä¸­å£°æ˜ Cat ä¸ºå…¶å‹å…ƒç±»</span></span><br><span class="line">    <span class="comment">// å‹å…ƒå£°æ˜å¯ä»¥æ”¾åœ¨ç±»çš„ä»»ä½•éƒ¨åˆ†ï¼ˆpublic, private, protectedï¼‰ï¼Œæ•ˆæœéƒ½ä¸€æ ·ã€‚</span></span><br><span class="line">    <span class="comment">// ä½†é€šå¸¸ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œä¹ æƒ¯æ”¾åœ¨ public æˆ–é¡¶éƒ¨ã€‚</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Cat ç±»çš„å£°æ˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// Cat çš„æˆå‘˜å‡½æ•°ç°åœ¨å¯ä»¥è®¿é—® Dog çš„ç§æœ‰æˆå‘˜äº†</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dog_info</span><span class="params">(<span class="keyword">const</span> Dog&amp; d)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—çš„åå­—: "</span> &lt;&lt; d.m_name &lt;&lt; <span class="string">", å¹´é¾„: "</span> &lt;&lt; d.m_age &lt;&lt; <span class="string">" å²"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‡è®¾ Cat ä¹Ÿæœ‰è‡ªå·±çš„æˆå‘˜</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_cat_name;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>ä¸€æ—¦ <code>Cat</code> è¢«å£°æ˜ä¸º <code>Dog</code> çš„å‹å…ƒç±»ï¼Œ<code>Cat</code> ç±»çš„<strong>æ‰€æœ‰æˆå‘˜å‡½æ•°</strong>éƒ½å¯ä»¥ç›´æ¥è®¿é—® <code>Dog</code> å¯¹è±¡çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ã€‚</p>
<h3 id="1-4-å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§"><a href="#1-4-å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§" class="headerlink" title="1.4 å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§"></a><strong>1.4 å‹å…ƒç±»çš„å·¥ä½œåŸç†å’Œé‡è¦ç‰¹æ€§</strong></h3><ol>
<li><strong>è®¿é—®æƒé™ï¼š</strong> å‹å…ƒç±»å¯ä»¥è®¿é—®è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»çš„<strong>æ‰€æœ‰æˆå‘˜</strong>ï¼ŒåŒ…æ‹¬ <code>private</code>ã€<code>protected</code> å’Œ <code>public</code> æˆå‘˜ã€‚</li>
<li><strong>å‹å…ƒä¸æ˜¯æˆå‘˜ï¼š</strong> è¿™æ˜¯éå¸¸é‡è¦çš„ä¸€ç‚¹ï¼å‹å…ƒç±»ä»…ä»…æ˜¯è·å¾—äº†è®¿é—®æƒé™ï¼Œå®ƒ<strong>ä¸æ˜¯</strong>è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»çš„ä¸€ä¸ªæˆå‘˜ã€‚<ul>
<li>è¿™æ„å‘³ç€å‹å…ƒç±»çš„å¯¹è±¡<strong>ä¸æ‹¥æœ‰</strong>è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»çš„ <code>this</code> æŒ‡é’ˆã€‚</li>
<li>å› æ­¤ï¼Œå‹å…ƒç±»çš„æˆå‘˜å‡½æ•°ä¸èƒ½ç›´æ¥é€šè¿‡ <code>this</code> è®¿é—®è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»çš„æˆå‘˜ï¼ˆä¾‹å¦‚ï¼Œåœ¨ <code>Cat::print_dog_info</code> ä¸­ï¼Œä½ ä¸èƒ½ç›´æ¥å†™ <code>m_name</code> æ¥è®¿é—® <code>Dog</code> çš„ <code>m_name</code>ï¼‰ã€‚ä½ å¿…é¡»é€šè¿‡ä¸€ä¸ª<strong>å¯¹è±¡å®ä¾‹</strong>æ¥è®¿é—®è¿™äº›æˆå‘˜ï¼Œæ¯”å¦‚ <code>d.m_name</code>ã€‚</li>
</ul>
</li>
<li><strong>å‹å…ƒå…³ç³»ä¸å…·ä¼ é€’æ€§ï¼ˆTransitivityï¼‰ï¼š</strong> å¦‚æœç±»Aæ˜¯ç±»Bçš„å‹å…ƒï¼Œç±»Bæ˜¯ç±»Cçš„å‹å…ƒï¼Œè¿™<strong>ä¸æ„å‘³ç€</strong>ç±»Aæ˜¯ç±»Cçš„å‹å…ƒã€‚å‹å…ƒå…³ç³»æ˜¯æ˜ç¡®å£°æ˜çš„ï¼Œä¸ä¼šè‡ªåŠ¨ä¼ é€’ã€‚</li>
<li><strong>å‹å…ƒå…³ç³»ä¸å…·å¯¹ç§°æ€§/éäº’æƒ æ€§ï¼ˆReciprocalï¼‰ï¼š</strong> å¦‚æœç±»Aæ˜¯ç±»Bçš„å‹å…ƒï¼Œè¿™<strong>ä¸æ„å‘³ç€</strong>ç±»Bä¹Ÿæ˜¯ç±»Açš„å‹å…ƒã€‚å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ã€‚å¦‚æœéœ€è¦åŒå‘å‹å…ƒï¼Œä½ éœ€è¦åœ¨ä¸¤ä¸ªç±»ä¸­éƒ½è¿›è¡Œå‹å…ƒå£°æ˜ã€‚</li>
<li><strong>å‰å‘å£°æ˜ï¼ˆForward Declarationï¼‰ï¼š</strong> å¦‚æœå‹å…ƒç±»åœ¨è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»å£°æ˜æ—¶å°šæœªå®Œå…¨å®šä¹‰ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨<strong>å‰å‘å£°æ˜ï¼ˆForward Declarationï¼‰</strong>æ¥å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªç±»çš„å­˜åœ¨ã€‚ä¾‹å¦‚ï¼š<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>;</span> <span class="comment">// å‰å‘å£°æ˜ Cat ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::<span class="built_in">string</span> name, <span class="keyword">int</span> age) : m_name(name), m_age(age) &#123;&#125;</span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span>;</span> <span class="comment">// ç°åœ¨ç¼–è¯‘å™¨çŸ¥é“ Cat æ˜¯ä¸€ä¸ªç±»</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dog_info</span><span class="params">(<span class="keyword">const</span> Dog&amp; d)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—çš„åå­—: "</span> &lt;&lt; d.m_name &lt;&lt; <span class="string">", å¹´é¾„: "</span> &lt;&lt; d.m_age &lt;&lt; <span class="string">" å²"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<h3 id="1-5-ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ"><a href="#1-5-ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ" class="headerlink" title="1.5 ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ"></a><strong>1.5 ä½•æ—¶ä½¿ç”¨å‹å…ƒç±»ï¼Ÿ</strong></h3><p>å‹å…ƒæœºåˆ¶æ‰“ç ´äº†å°è£…ï¼Œå› æ­¤åº”è¯¥<strong>è°¨æ…ä½¿ç”¨</strong>ã€‚å®ƒé€šå¸¸ç”¨äºä»¥ä¸‹æƒ…å†µï¼š</p>
<ul>
<li><strong>ç´§å¯†è€¦åˆçš„å·¥å…·ç±»/åŠ©æ‰‹ç±»ï¼š</strong> å½“ä¸€ä¸ªè¾…åŠ©ç±»æˆ–å·¥å…·ç±»éœ€è¦å¯¹å¦ä¸€ä¸ªç±»çš„å†…éƒ¨å®ç°æœ‰éå¸¸æ·±å±‚æ¬¡çš„äº†è§£å’Œæ“ä½œæ—¶ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè°ƒè¯•å™¨æˆ–åºåˆ—åŒ–å™¨å¯èƒ½éœ€è¦ç›´æ¥è®¿é—®å¯¹è±¡çš„ç§æœ‰çŠ¶æ€ã€‚</li>
<li><strong>è¿ç®—ç¬¦é‡è½½ï¼ˆOperator Overloadingï¼‰ï¼š</strong> ç‰¹åˆ«æ˜¯å½“äºŒå…ƒè¿ç®—ç¬¦ï¼ˆå¦‚ <code>&lt;&lt;</code> æˆ– <code>&gt;&gt;</code> ç”¨äºæµæ“ä½œï¼‰çš„å·¦æ“ä½œæ•°ä¸æ˜¯ç±»æœ¬èº«æ—¶ï¼Œå‹å…ƒå‡½æ•°æˆ–å‹å…ƒç±»ï¼ˆå¦‚æœæ˜¯ä¸€ç»„ç›¸å…³çš„æ“ä½œï¼‰æ˜¯å¿…è¦çš„ã€‚ä¾‹å¦‚ <code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MyClass&amp; obj)</code>ã€‚</li>
<li><strong>è®¾è®¡æ¨¡å¼ï¼š</strong> åœ¨æŸäº›è®¾è®¡æ¨¡å¼ä¸­ï¼Œå‹å…ƒå…³ç³»å¯èƒ½è¢«ç”¨æ¥å®ç°ç‰¹å®šçš„è®¿é—®æ§åˆ¶ã€‚</li>
</ul>
<h2 id="2-è¯¦ç»†ä»£ç ç¤ºä¾‹"><a href="#2-è¯¦ç»†ä»£ç ç¤ºä¾‹" class="headerlink" title="2. è¯¦ç»†ä»£ç ç¤ºä¾‹"></a><strong>2. è¯¦ç»†ä»£ç ç¤ºä¾‹</strong></h2><p>æˆ‘ä»¬å°†åŸºäºä½ æä¾›çš„æè¿°ï¼Œåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ <code>Dog</code> å’Œ <code>Cat</code> ç±»çš„ç¤ºä¾‹ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // åŒ…å«è¾“å…¥è¾“å‡ºæµåº“</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;   // åŒ…å«å­—ç¬¦ä¸²åº“</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --- å‰å‘å£°æ˜ ---</span></span><br><span class="line"><span class="comment">// æå‰å‘ŠçŸ¥ç¼–è¯‘å™¨ Cat æ˜¯ä¸€ä¸ªç±»ï¼Œå› ä¸º Dog åœ¨å£°æ˜å…¶ä¸ºå‹å…ƒæ—¶ï¼ŒCat ç±»å°šæœªå®Œå…¨å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Dog ç±»å®šä¹‰ ---</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name; <span class="comment">// ç‹—çš„åå­— (ç§æœ‰æˆå‘˜)</span></span><br><span class="line">    <span class="keyword">int</span> m_age;          <span class="comment">// ç‹—çš„å¹´é¾„ (ç§æœ‰æˆå‘˜)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Dog(<span class="built_in">std</span>::<span class="built_in">string</span> name, <span class="keyword">int</span> age) : m_name(name), m_age(age) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog å¯¹è±¡ ["</span> &lt;&lt; m_name &lt;&lt; <span class="string">", "</span> &lt;&lt; m_age &lt;&lt; <span class="string">"] è¢«åˆ›å»ºã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// â­ å£°æ˜ Cat ç±»æ˜¯ Dog ç±»çš„å‹å…ƒ</span></span><br><span class="line">    <span class="comment">// è¿™æ„å‘³ç€ Cat ç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—® Dog å¯¹è±¡çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ã€‚</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡è®¾æœ‰ä¸€äº›å…¬å…±æ–¹æ³•ï¼Œä½†ä¸ç›´æ¥æš´éœ²ç§æœ‰æˆå‘˜</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; m_name &lt;&lt; <span class="string">" è¯´ï¼šæ±ªæ±ªï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Cat ç±»å®šä¹‰ ---</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_cat_name; <span class="comment">// çŒ«çš„åå­— (Cat è‡ªå·±çš„ç§æœ‰æˆå‘˜)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Cat(<span class="built_in">std</span>::<span class="built_in">string</span> name) : m_cat_name(name) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cat å¯¹è±¡ ["</span> &lt;&lt; m_cat_name &lt;&lt; <span class="string">"] è¢«åˆ›å»ºã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Cat ç±»çš„æˆå‘˜å‡½æ•°ï¼Œç”¨äºæ‰“å° Dog å¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™ä¸ªå‡½æ•°è¢«æ ‡è®°ä¸º constï¼Œå› ä¸ºå®ƒä¸ä¼šä¿®æ”¹ Cat å¯¹è±¡çš„æˆå‘˜ã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dog_info</span><span class="params">(<span class="keyword">const</span> Dog&amp; d)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- "</span> &lt;&lt; m_cat_name &lt;&lt; <span class="string">" æ­£åœ¨æŸ¥çœ‹ Dog ä¿¡æ¯ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// â­ å› ä¸º Cat æ˜¯ Dog çš„å‹å…ƒï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç›´æ¥è®¿é—® Dog å¯¹è±¡çš„ç§æœ‰æˆå‘˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—çš„åå­— (æ¥è‡ªCatè®¿é—®): "</span> &lt;&lt; d.m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—çš„å¹´é¾„ (æ¥è‡ªCatè®¿é—®): "</span> &lt;&lt; d.m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// âŒ å¸¸è§é”™è¯¯/è¯¯è§£ï¼šå‹å…ƒç±»ä¸èƒ½ç›´æ¥è®¿é—®è¢«å‹å…ƒç±»çš„æˆå‘˜ï¼Œå®ƒæ²¡æœ‰è¢«å‹å…ƒç±»çš„ this æŒ‡é’ˆã€‚</span></span><br><span class="line">        <span class="comment">// å¦‚æœè¿™é‡Œå°è¯•è®¿é—® Dog çš„ m_age æˆ– m_nameï¼Œä¼šæ˜¯ Cat è‡ªå·±çš„æˆå‘˜ï¼Œè€Œä¸æ˜¯ Dog çš„ã€‚</span></span><br><span class="line">        <span class="comment">// ä¾‹å¦‚ï¼š</span></span><br><span class="line">        <span class="comment">// std::cout &lt;&lt; "å°è¯•ç›´æ¥è®¿é—® Dog çš„ m_age (é”™è¯¯ç¤ºä¾‹): " &lt;&lt; m_age &lt;&lt; std::endl; // ç¼–è¯‘é”™è¯¯ï¼šCat æ²¡æœ‰åä¸º m_age çš„æˆå‘˜</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯ä»¥è®¿é—® Cat è‡ªå·±çš„æˆå‘˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æŸ¥çœ‹è€… (Cat) çš„åå­—: "</span> &lt;&lt; m_cat_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"---------------------------------"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- ä¸»å‡½æ•° ---</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª Dog å¯¹è±¡</span></span><br><span class="line">    <span class="function">Dog <span class="title">dog1</span><span class="params">(<span class="string">"Fluffy"</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    dog1.bark();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª Cat å¯¹è±¡</span></span><br><span class="line">    <span class="function">Cat <span class="title">cat1</span><span class="params">(<span class="string">"Tom"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Cat å¯¹è±¡è°ƒç”¨å…¶æˆå‘˜å‡½æ•°æ¥æ‰“å° Dog å¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="comment">// æ­¤æ—¶ï¼Œprint_dog_info å¯ä»¥è®¿é—® dog1 çš„ç§æœ‰æˆå‘˜ m_name å’Œ m_age</span></span><br><span class="line">    cat1.print_dog_info(dog1);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¼”ç¤ºéäº’æƒ æ€§ï¼šDog å¯¹è±¡ä¸èƒ½è®¿é—® Cat çš„ç§æœ‰æˆå‘˜ m_cat_name (å³ä½¿ Cat æ˜¯ Dog çš„å‹å…ƒ)</span></span><br><span class="line">    <span class="comment">// âŒ ä¸‹é¢çš„ä»£ç ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼Œå› ä¸º Dog ä¸æ˜¯ Cat çš„å‹å…ƒ</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Dog çš„åå­— (å°è¯•è®¿é—® Cat çš„ç§æœ‰æˆå‘˜): " &lt;&lt; cat1.m_cat_name &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>è¿è¡Œç»“æœï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Dog å¯¹è±¡ [Fluffy, 2] è¢«åˆ›å»ºã€‚</span><br><span class="line">Fluffy è¯´ï¼šæ±ªæ±ªï¼</span><br><span class="line"></span><br><span class="line">Cat å¯¹è±¡ [Tom] è¢«åˆ›å»ºã€‚</span><br><span class="line"></span><br><span class="line">--- Tom æ­£åœ¨æŸ¥çœ‹ Dog ä¿¡æ¯ ---</span><br><span class="line">ç‹—çš„åå­— (æ¥è‡ªCatè®¿é—®): Fluffy</span><br><span class="line">ç‹—çš„å¹´é¾„ (æ¥è‡ªCatè®¿é—®): 2</span><br><span class="line">æŸ¥çœ‹è€… (Cat) çš„åå­—: Tom</span><br><span class="line">---------------------------------</span><br></pre></td></tr></table></figure></div>
<p><strong>ä»£ç è§£é‡Šï¼š</strong></p>
<ul>
<li>æˆ‘ä»¬é¦–å…ˆ<strong>å‰å‘å£°æ˜</strong>äº† <code>Cat</code> ç±»ï¼Œå› ä¸º <code>Dog</code> ç±»åœ¨å®šä¹‰ <code>Cat</code> ä¸ºå‹å…ƒæ—¶ï¼Œéœ€è¦çŸ¥é“ <code>Cat</code> æ˜¯ä¸€ä¸ªç±»å‹ã€‚</li>
<li>åœ¨ <code>Dog</code> ç±»çš„å®šä¹‰å†…éƒ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† <code>friend class Cat;</code> æ¥å£°æ˜ <code>Cat</code> æ˜¯ <code>Dog</code> çš„å‹å…ƒã€‚</li>
<li><code>Dog</code> ç±»çš„ <code>m_name</code> å’Œ <code>m_age</code> æ˜¯ <code>private</code> çš„ã€‚</li>
<li>åœ¨ <code>Cat</code> ç±»çš„ <code>print_dog_info</code> æˆå‘˜å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¼ å…¥çš„ <code>Dog</code> å¯¹è±¡ <code>d</code>ï¼Œå¯ä»¥ç›´æ¥è®¿é—® <code>d.m_name</code> å’Œ <code>d.m_age</code>ï¼Œå°½ç®¡å®ƒä»¬æ˜¯ <code>Dog</code> çš„ç§æœ‰æˆå‘˜ã€‚è¿™å°±æ˜¯å‹å…ƒç±»çš„ä½œç”¨ã€‚</li>
<li>æˆ‘ä»¬ä¹Ÿå±•ç¤ºäº†å°è¯•ç›´æ¥è®¿é—® <code>m_age</code> ä¼šæŠ¥é”™ï¼Œå› ä¸º <code>Cat</code> ç±»æœ¬èº«æ²¡æœ‰ <code>m_age</code> è¿™ä¸ªæˆå‘˜ï¼Œå®ƒå¿…é¡»é€šè¿‡ <code>Dog</code> å¯¹è±¡çš„å¼•ç”¨æ¥è®¿é—®ã€‚</li>
<li>æœ€åï¼Œæˆ‘ä»¬é€šè¿‡æ³¨é‡Šæ‰çš„é”™è¯¯ä»£ç æ¼”ç¤ºäº†å‹å…ƒå…³ç³»çš„éäº’æƒ æ€§ï¼š<code>Dog</code> æ˜¯ <code>Cat</code> çš„å‹å…ƒï¼Œä¸ä»£è¡¨ <code>Cat</code> æ˜¯ <code>Dog</code> çš„å‹å…ƒï¼Œæ‰€ä»¥ <code>Dog</code> æ— æ³•è®¿é—® <code>Cat</code> çš„ç§æœ‰æˆå‘˜ã€‚</li>
</ul>
<h2 id="3-QA-é—ªå¡-QA-Flash-Cards"><a href="#3-QA-é—ªå¡-QA-Flash-Cards" class="headerlink" title="3. QA é—ªå¡ (QA Flash Cards)"></a><strong>3. QA é—ªå¡ (QA Flash Cards)</strong></h2><ol>
<li><strong>é—®ï¼šä»€ä¹ˆæ˜¯å‹å…ƒç±»ï¼ˆFriend Classï¼‰ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> å‹å…ƒç±»æ˜¯ä¸€ç§C++æœºåˆ¶ï¼Œå…è®¸ä¸€ä¸ªç±»ï¼ˆå‹å…ƒç±»ï¼‰è®¿é—®å¦ä¸€ä¸ªç±»ï¼ˆè¢«å‹å…ƒç±»ï¼‰çš„ç§æœ‰ï¼ˆ<code>private</code>ï¼‰å’Œä¿æŠ¤ï¼ˆ<code>protected</code>ï¼‰æˆå‘˜ã€‚</li>
</ul>
</li>
<li><strong>é—®ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‹å…ƒç±»ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> åœ¨éœ€è¦ç‰¹å®šå¤–éƒ¨ç±»è®¿é—®æœ¬ç±»ç§æœ‰æˆ–ä¿æŠ¤æˆå‘˜ï¼Œä½†åˆä¸æƒ³ç ´åå°è£…æ€§ï¼ˆå³ä¸æƒ³å°†è¿™äº›æˆå‘˜è®¾ä¸º <code>public</code>ï¼‰æ—¶ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><strong>é—®ï¼šå¦‚ä½•åœ¨C++ä¸­å£°æ˜ä¸€ä¸ªå‹å…ƒç±»ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> åœ¨è¢«æˆäºˆå‹å…ƒæƒé™çš„ç±»å®šä¹‰å†…éƒ¨ï¼Œä½¿ç”¨ <code>friend class ClassName;</code> è¯­æ³•è¿›è¡Œå£°æ˜ã€‚ä¾‹å¦‚ï¼š<code>class MyClass { friend class HelperClass; };</code></li>
</ul>
</li>
<li><strong>é—®ï¼šå‹å…ƒç±»å¯¹è¢«å‹å…ƒç±»çš„æˆå‘˜æ‹¥æœ‰ä»€ä¹ˆæ ·çš„è®¿é—®æƒé™ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> å‹å…ƒç±»å¯ä»¥è®¿é—®è¢«å‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ <code>private</code>ã€<code>protected</code> å’Œ <code>public</code> æˆå‘˜ã€‚</li>
</ul>
</li>
<li><strong>é—®ï¼šå‹å…ƒç±»æ˜¯å…¶è¢«å‹å…ƒç±»çš„æˆå‘˜å—ï¼Ÿå®ƒå¯ä»¥ç›´æ¥è®¿é—® <code>this</code> æŒ‡é’ˆå—ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> ä¸æ˜¯ã€‚å‹å…ƒç±»ä¸æ˜¯è¢«å‹å…ƒç±»çš„æˆå‘˜ã€‚å› æ­¤ï¼Œå®ƒæ²¡æœ‰è¢«å‹å…ƒç±»çš„ <code>this</code> æŒ‡é’ˆï¼Œä¸èƒ½ç›´æ¥é€šè¿‡ <code>this</code> è®¿é—®è¢«å‹å…ƒç±»çš„æˆå‘˜ã€‚å®ƒå¿…é¡»é€šè¿‡ä¸€ä¸ªè¢«å‹å…ƒç±»çš„<strong>å¯¹è±¡å®ä¾‹</strong>æ¥è®¿é—®å…¶æˆå‘˜ã€‚</li>
</ul>
</li>
<li><strong>é—®ï¼šå‹å…ƒå…³ç³»æ˜¯äº’æƒ çš„ï¼ˆreciprocalï¼‰å—ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> ä¸æ˜¯ã€‚å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ã€‚å¦‚æœç±»Aæ˜¯ç±»Bçš„å‹å…ƒï¼Œè¿™ä¸æ„å‘³ç€ç±»Bä¹Ÿæ˜¯ç±»Açš„å‹å…ƒã€‚ä½ éœ€è¦æ˜ç¡®å£°æ˜åŒå‘å‹å…ƒå…³ç³»ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>é—®ï¼šå‹å…ƒå…³ç³»æ˜¯å¯ä¼ é€’çš„ï¼ˆtransitiveï¼‰å—ï¼Ÿ</strong><ul>
<li><strong>ç­”ï¼š</strong> ä¸æ˜¯ã€‚å‹å…ƒå…³ç³»ä¸å¯ä¼ é€’ã€‚å¦‚æœAæ˜¯Bçš„å‹å…ƒï¼ŒBæ˜¯Cçš„å‹å…ƒï¼Œè¿™ä¸æ„å‘³ç€Aæ˜¯Cçš„å‹å…ƒã€‚</li>
</ul>
</li>
</ol>
<h2 id="4-å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><a href="#4-å¸¸è§è¯¯è§£æˆ–é”™è¯¯" class="headerlink" title="4. å¸¸è§è¯¯è§£æˆ–é”™è¯¯"></a><strong>4. å¸¸è§è¯¯è§£æˆ–é”™è¯¯</strong></h2><ol>
<li><strong>è¯¯è§£ï¼šå‹å…ƒç±»æ˜¯è¢«å‹å…ƒç±»çš„ä¸€éƒ¨åˆ†æˆ–å­ç±»ã€‚</strong><ul>
<li><strong>çº æ­£ï¼š</strong> å‹å…ƒç±»ä¸è¢«å‹å…ƒç±»ä¹‹é—´æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œä¹Ÿä¸æ˜¯å…¶å†…éƒ¨æˆå‘˜ã€‚å®ƒä»¬æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ç±»ï¼Œå‹å…ƒå…³ç³»ä»…ä»…æ˜¯æˆäºˆäº†è®¿é—®æƒé™ã€‚</li>
</ul>
</li>
<li><strong>é”™è¯¯ï¼šåœ¨å‹å…ƒç±»ä¸­ç›´æ¥ä½¿ç”¨è¢«å‹å…ƒç±»çš„ç§æœ‰æˆå‘˜åï¼ˆä¸é€šè¿‡å¯¹è±¡ï¼‰ã€‚</strong><ul>
<li><strong>ç¤ºä¾‹é”™è¯¯ï¼š</strong> åœ¨ <code>Cat::print_dog_info</code> ä¸­å†™ <code>std::cout &lt;&lt; m_age;</code> è€Œä¸æ˜¯ <code>std::cout &lt;&lt; d.m_age;</code></li>
<li><strong>çº æ­£ï¼š</strong> å‹å…ƒç±»æ²¡æœ‰è¢«å‹å…ƒç±»çš„ <code>this</code> æŒ‡é’ˆã€‚å› æ­¤ï¼Œæ‰€æœ‰å¯¹è¢«å‹å…ƒç±»ç§æœ‰æˆå‘˜çš„è®¿é—®éƒ½å¿…é¡»é€šè¿‡ä¸€ä¸ªæœ‰æ•ˆçš„è¢«å‹å…ƒç±»<strong>å¯¹è±¡</strong>ï¼ˆæˆ–å¼•ç”¨ã€æŒ‡é’ˆï¼‰æ¥å®Œæˆã€‚</li>
</ul>
</li>
<li><strong>è¯¯è§£ï¼šå‹å…ƒå…³ç³»æ˜¯åŒå‘çš„ï¼ˆäº’æƒ çš„ï¼‰ã€‚</strong><ul>
<li><strong>çº æ­£ï¼š</strong> è¿™æ˜¯æœ€å¸¸è§çš„è¯¯è§£ä¹‹ä¸€ã€‚å‹å…ƒå…³ç³»æ˜¯å•å‘çš„ã€‚å¦‚æœä½ å¸Œæœ›ä¸¤ä¸ªç±»éƒ½èƒ½è®¿é—®å¯¹æ–¹çš„ç§æœ‰æˆå‘˜ï¼Œä½ éœ€è¦åœ¨<strong>ä¸¤ä¸ªç±»ä¸­éƒ½</strong>å£°æ˜å¯¹æ–¹ä¸ºå‹å…ƒã€‚</li>
</ul>
</li>
<li><strong>è¯¯è§£ï¼šè¿‡åº¦ä½¿ç”¨å‹å…ƒã€‚</strong><ul>
<li><strong>çº æ­£ï¼š</strong> å‹å…ƒæœºåˆ¶æ‰“ç ´äº†å°è£…ï¼Œåº”è¯¥è°¨æ…ä½¿ç”¨ã€‚é¢‘ç¹ä½¿ç”¨å‹å…ƒå¯èƒ½å¯¼è‡´ä»£ç ç´§å¯†è€¦åˆï¼Œéš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•ã€‚ä¼˜å…ˆè€ƒè™‘å…¬å…±æ¥å£ï¼ˆ<code>public</code> æ–¹æ³•ï¼‰ï¼Œåªæœ‰å½“å…¬å…±æ¥å£æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œä¸”å‹å…ƒæ˜¯åˆç†ä¸”å¿…è¦çš„è§£å†³æ–¹æ¡ˆæ—¶æ‰ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><strong>è¯¯è§£ï¼šå‹å…ƒå£°æ˜çš„ä½ç½®å½±å“å…¶ä½œç”¨ã€‚</strong><ul>
<li><strong>çº æ­£ï¼š</strong> å‹å…ƒå£°æ˜ï¼ˆ<code>friend class ClassName;</code>ï¼‰å¯ä»¥æ”¾åœ¨ç±»çš„ <code>public</code>ã€<code>private</code> æˆ– <code>protected</code> éƒ¨åˆ†ï¼Œè¿™å¹¶ä¸ä¼šæ”¹å˜å…¶ä½œç”¨ã€‚å‹å…ƒå…³ç³»æ˜¯æˆäºˆè®¿é—®æƒé™ï¼Œä¸è®¿é—®é™å®šç¬¦æ— å…³ã€‚é€šå¸¸ä¸ºäº†ä»£ç å¯è¯»æ€§ï¼Œå°†å…¶æ”¾åœ¨ <code>public</code> éƒ¨åˆ†æˆ–ç±»çš„é¡¶éƒ¨ã€‚</li>
</ul>
</li>
</ol>
<h2 id="5-ç¼–ç¨‹ç»ƒä¹ "><a href="#5-ç¼–ç¨‹ç»ƒä¹ " class="headerlink" title="5. ç¼–ç¨‹ç»ƒä¹ "></a><strong>5. ç¼–ç¨‹ç»ƒä¹ </strong></h2><p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™è®©ä½ åŠ¨æ‰‹å®è·µä¸€ä¸‹äº†ï¼</p>
<p><strong>åœºæ™¯ï¼š</strong><br>ä½ æ­£åœ¨ä¸ºä¸€å®¶æ±½è½¦ä¿®ç†åº—å¼€å‘ä¸€ä¸ªç³»ç»Ÿã€‚<br>æœ‰ä¸€ä¸ª <code>Car</code> ç±»ï¼Œå®ƒæœ‰ä¸€äº›ç§æœ‰æˆå‘˜ï¼Œä¾‹å¦‚ <code>m_fuel_level</code>ï¼ˆæ²¹é‡ï¼‰å’Œ <code>m_engine_status</code>ï¼ˆå¼•æ“çŠ¶æ€ï¼‰ã€‚<br>ä½ è¿˜æœ‰ä¸€ä¸ª <code>Mechanic</code> ç±»ï¼Œå®ƒçš„ <code>diagnose_car</code> æ–¹æ³•éœ€è¦æ£€æŸ¥ <code>Car</code> å¯¹è±¡çš„è¿™äº›ç§æœ‰å±æ€§æ¥è¿›è¡Œè¯Šæ–­ã€‚</p>
<p><strong>ä»»åŠ¡ï¼š</strong><br>è¯·ä¿®æ”¹ä¸‹é¢çš„ä»£ç ï¼Œåœ¨ <code>Car</code> ç±»ä¸­æ·»åŠ å¿…è¦çš„å‹å…ƒå£°æ˜ï¼Œä½¿å¾— <code>Mechanic</code> ç±»çš„ <code>diagnose_car</code> æ–¹æ³•å¯ä»¥æˆåŠŸè®¿é—® <code>Car</code> ç±»çš„ç§æœ‰æˆå‘˜ <code>m_fuel_level</code> å’Œ <code>m_engine_status</code>ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·åœ¨è¿™é‡Œæ·»åŠ  Mechanic ç±»çš„å‰å‘å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_model;</span><br><span class="line">    <span class="keyword">int</span> m_fuel_level;    <span class="comment">// æ²¹é‡ (ç§æœ‰)</span></span><br><span class="line">    <span class="keyword">bool</span> m_engine_status; <span class="comment">// å¼•æ“æ˜¯å¦æ­£å¸¸ (ç§æœ‰)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Car(<span class="built_in">std</span>::<span class="built_in">string</span> model, <span class="keyword">int</span> fuel, <span class="keyword">bool</span> engine_ok)</span><br><span class="line">        : m_model(model), m_fuel_level(fuel), m_engine_status(engine_ok) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car ["</span> &lt;&lt; m_model &lt;&lt; <span class="string">"] created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// â­ åœ¨è¿™é‡Œæ·»åŠ å‹å…ƒå£°æ˜ï¼Œè®© Mechanic ç±»æˆä¸º Car ç±»çš„å‹å…ƒ</span></span><br><span class="line">    <span class="comment">// ä½ çš„ä»£ç ä»è¿™é‡Œå¼€å§‹ &gt;&gt;&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &lt;&lt;&lt; ä½ çš„ä»£ç åˆ°è¿™é‡Œç»“æŸ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mechanic ç±»å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Mechanic(<span class="built_in">std</span>::<span class="built_in">string</span> name) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Mechanic ["</span> &lt;&lt; name &lt;&lt; <span class="string">"] ready."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯Šæ–­æ±½è½¦çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">diagnose_car</span><span class="params">(<span class="keyword">const</span> Car&amp; car_obj)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- æœºæ¢°å¸ˆå¼€å§‹è¯Šæ–­æ±½è½¦ ("</span> &lt;&lt; car_obj.m_model &lt;&lt; <span class="string">") ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// å°è¯•è®¿é—® Car å¯¹è±¡çš„ç§æœ‰æˆå‘˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ²¹é‡: "</span> &lt;&lt; car_obj.m_fuel_level &lt;&lt; <span class="string">"%"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å¼•æ“çŠ¶æ€: "</span> &lt;&lt; (car_obj.m_engine_status ? <span class="string">"æ­£å¸¸"</span> : <span class="string">"æ•…éšœ"</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (car_obj.m_fuel_level &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å»ºè®®åŠ æ²¹ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!car_obj.m_engine_status) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å¼•æ“éœ€è¦ç»´ä¿®ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- è¯Šæ–­ç»“æŸ ---\n"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Car <span class="title">myCar</span><span class="params">(<span class="string">"Tesla Model S"</span>, <span class="number">75</span>, <span class="literal">true</span>)</span></span>;</span><br><span class="line">    <span class="function">Car <span class="title">brokenCar</span><span class="params">(<span class="string">"Ford Focus"</span>, <span class="number">10</span>, <span class="literal">false</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Mechanic <span class="title">bob</span><span class="params">(<span class="string">"Bob"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    bob.diagnose_car(myCar);</span><br><span class="line">    bob.diagnose_car(brokenCar);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¯·åœ¨ä¸Šé¢çš„ä»£ç ä¸­è¡¥å…¨ç¼ºå¤±çš„éƒ¨åˆ†ï¼Œä½¿å…¶èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘å¹¶è¿è¡Œã€‚å®Œæˆä¹‹åï¼Œæˆ‘ä¼šä¸ºä½ è¯„åˆ†å¹¶æä¾›æ­£ç¡®ç­”æ¡ˆå’Œè¿›ä¸€æ­¥çš„å»ºè®®ã€‚</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·åœ¨è¿™é‡Œæ·»åŠ  Mechanic ç±»çš„å‰å‘å£°æ˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_model;</span><br><span class="line">    <span class="keyword">int</span> m_fuel_level;    <span class="comment">// æ²¹é‡ (ç§æœ‰)</span></span><br><span class="line">    <span class="keyword">bool</span> m_engine_status; <span class="comment">// å¼•æ“æ˜¯å¦æ­£å¸¸ (ç§æœ‰)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Car(<span class="built_in">std</span>::<span class="built_in">string</span> model, <span class="keyword">int</span> fuel, <span class="keyword">bool</span> engine_ok)</span><br><span class="line">        : m_model(model), m_fuel_level(fuel), m_engine_status(engine_ok) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car ["</span> &lt;&lt; m_model &lt;&lt; <span class="string">"] created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// â­ åœ¨è¿™é‡Œæ·»åŠ å‹å…ƒå£°æ˜ï¼Œè®© Mechanic ç±»æˆä¸º Car ç±»çš„å‹å…ƒ</span></span><br><span class="line">    <span class="comment">// ä½ çš„ä»£ç ä»è¿™é‡Œå¼€å§‹ &gt;&gt;&gt;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &lt;&lt;&lt; ä½ çš„ä»£ç åˆ°è¿™é‡Œç»“æŸ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mechanic ç±»å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Mechanic(<span class="built_in">std</span>::<span class="built_in">string</span> name) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Mechanic ["</span> &lt;&lt; name &lt;&lt; <span class="string">"] ready."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯Šæ–­æ±½è½¦çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">diagnose_car</span><span class="params">(<span class="keyword">const</span> Car&amp; car_obj)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- æœºæ¢°å¸ˆå¼€å§‹è¯Šæ–­æ±½è½¦ ("</span> &lt;&lt; car_obj.m_model &lt;&lt; <span class="string">") ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// å°è¯•è®¿é—® Car å¯¹è±¡çš„ç§æœ‰æˆå‘˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ²¹é‡: "</span> &lt;&lt; car_obj.m_fuel_level &lt;&lt; <span class="string">"%"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å¼•æ“çŠ¶æ€: "</span> &lt;&lt; (car_obj.m_engine_status ? <span class="string">"æ­£å¸¸"</span> : <span class="string">"æ•…éšœ"</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (car_obj.m_fuel_level &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å»ºè®®åŠ æ²¹ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!car_obj.m_engine_status) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å¼•æ“éœ€è¦ç»´ä¿®ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- è¯Šæ–­ç»“æŸ ---\n"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Car <span class="title">myCar</span><span class="params">(<span class="string">"Tesla Model S"</span>, <span class="number">75</span>, <span class="literal">true</span>)</span></span>;</span><br><span class="line">    <span class="function">Car <span class="title">brokenCar</span><span class="params">(<span class="string">"Ford Focus"</span>, <span class="number">10</span>, <span class="literal">false</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Mechanic <span class="title">bob</span><span class="params">(<span class="string">"Bob"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    bob.diagnose_car(myCar);</span><br><span class="line">    bob.diagnose_car(brokenCar);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæˆ‘æ¥ä¸ºä½ è¯„ä¼°ä¸€ä¸‹ä½ çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶æä¾›è¯¦ç»†çš„åé¦ˆå’Œå»ºè®®ã€‚</p>
<hr>
<h2 id="å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£"><a href="#å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£" class="headerlink" title="å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£"></a><strong>å‹å…ƒç±»ç¼–ç¨‹ç»ƒä¹ ï¼šè§£å†³æ–¹æ¡ˆè¯„ä¼°ä¸è®²è§£</strong></h2><p><strong>å¾—åˆ†ï¼š4/5</strong></p>
<p>ä½ çš„è§£å†³æ–¹æ¡ˆéå¸¸æ¥è¿‘æ­£ç¡®ç­”æ¡ˆï¼Œå¹¶ä¸”æŠ“ä½äº†å‹å…ƒç±»çš„æ ¸å¿ƒç”¨æ³•ï¼</p>
<hr>
<h2 id="1-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"><a href="#1-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°" class="headerlink" title="1. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"></a><strong>1. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°</strong></h2><p>ä½ æˆåŠŸåœ°åœ¨ <code>Car</code> ç±»ä¸­æ·»åŠ äº† <code>friend class Mechanic;</code> å£°æ˜ï¼Œä½¿å¾— <code>Mechanic</code> ç±»èƒ½å¤Ÿè®¿é—® <code>Car</code> çš„ç§æœ‰æˆå‘˜ã€‚è¿™æ­£æ˜¯å‹å…ƒç±»æœºåˆ¶çš„æ ¸å¿ƒæ‰€åœ¨ã€‚</p>
<p><strong>ç„¶è€Œï¼Œä½ é—æ¼äº†ä¸€ä¸ªå…³é”®ç‚¹ï¼š</strong> å¯¹ <code>Mechanic</code> ç±»è¿›è¡Œ<strong>å‰å‘å£°æ˜ï¼ˆForward Declarationï¼‰</strong>ã€‚</p>
<p>å½“ä½ åœ¨ <code>Car</code> ç±»ä¸­å£°æ˜ <code>friend class Mechanic;</code> æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦çŸ¥é“ <code>Mechanic</code> æ˜¯ä¸€ä¸ªâ€œç±»â€ç±»å‹ã€‚è™½ç„¶ <code>Mechanic</code> ç±»ç¨åä¼šè¢«å®Œæ•´å®šä¹‰ï¼Œä½†åœ¨ <code>Car</code> ç±»çš„å®šä¹‰å¤„ï¼Œç¼–è¯‘å™¨å¦‚æœåœ¨æ­¤ä¹‹å‰æ²¡æœ‰çœ‹åˆ° <code>Mechanic</code> çš„ä»»ä½•å£°æ˜ï¼Œå®ƒä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“ <code>Mechanic</code> åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼ˆæ˜¯ç±»ã€å‡½æ•°è¿˜æ˜¯å˜é‡ï¼Ÿï¼‰ã€‚</p>
<p>æ‰€ä»¥ï¼Œåœ¨ <code>Car</code> ç±»å®šä¹‰ä¹‹å‰ï¼Œéœ€è¦å…ˆ <code>class Mechanic;</code> å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œå˜¿ï¼Œ<code>Mechanic</code> æ˜¯ä¸€ä¸ªç±»ï¼Œä½ åé¢ä¼šçœ‹åˆ°å®ƒçš„å®Œæ•´å®šä¹‰ã€‚â€</p>
<hr>
<h2 id="2-æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><a href="#2-æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š" class="headerlink" title="2. æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"></a><strong>2. æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</strong></h2><p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„æ­£ç¡®ä»£ç ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// â­ æ­£ç¡®ç­”æ¡ˆï¼šåœ¨è¿™é‡Œæ·»åŠ  Mechanic ç±»çš„å‰å‘å£°æ˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span> <span class="comment">// å‘Šè¯‰ç¼–è¯‘å™¨ Mechanic æ˜¯ä¸€ä¸ªç±»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_model;</span><br><span class="line">    <span class="keyword">int</span> m_fuel_level;    <span class="comment">// æ²¹é‡ (ç§æœ‰)</span></span><br><span class="line">    <span class="keyword">bool</span> m_engine_status; <span class="comment">// å¼•æ“æ˜¯å¦æ­£å¸¸ (ç§æœ‰)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Car(<span class="built_in">std</span>::<span class="built_in">string</span> model, <span class="keyword">int</span> fuel, <span class="keyword">bool</span> engine_ok)</span><br><span class="line">        : m_model(model), m_fuel_level(fuel), m_engine_status(engine_ok) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car ["</span> &lt;&lt; m_model &lt;&lt; <span class="string">"] created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// â­ æ­£ç¡®ç­”æ¡ˆï¼šåœ¨è¿™é‡Œæ·»åŠ å‹å…ƒå£°æ˜ï¼Œè®© Mechanic ç±»æˆä¸º Car ç±»çš„å‹å…ƒ</span></span><br><span class="line">    <span class="comment">// ä½ çš„ä»£ç ä»è¿™é‡Œå¼€å§‹ &gt;&gt;&gt;</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span> <span class="comment">// å£°æ˜ Mechanic ç±»æ˜¯ Car çš„å‹å…ƒ</span></span><br><span class="line">    <span class="comment">// &lt;&lt;&lt; ä½ çš„ä»£ç åˆ°è¿™é‡Œç»“æŸ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mechanic ç±»å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Mechanic(<span class="built_in">std</span>::<span class="built_in">string</span> name) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Mechanic ["</span> &lt;&lt; name &lt;&lt; <span class="string">"] ready."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯Šæ–­æ±½è½¦çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">diagnose_car</span><span class="params">(<span class="keyword">const</span> Car&amp; car_obj)</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- æœºæ¢°å¸ˆå¼€å§‹è¯Šæ–­æ±½è½¦ ("</span> &lt;&lt; car_obj.m_model &lt;&lt; <span class="string">") ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// å°è¯•è®¿é—® Car å¯¹è±¡çš„ç§æœ‰æˆå‘˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ²¹é‡: "</span> &lt;&lt; car_obj.m_fuel_level &lt;&lt; <span class="string">"%"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// æˆåŠŸè®¿é—®</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å¼•æ“çŠ¶æ€: "</span> &lt;&lt; (car_obj.m_engine_status ? <span class="string">"æ­£å¸¸"</span> : <span class="string">"æ•…éšœ"</span>) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// æˆåŠŸè®¿é—®</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (car_obj.m_fuel_level &lt; <span class="number">20</span>) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å»ºè®®åŠ æ²¹ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!car_obj.m_engine_status) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å¼•æ“éœ€è¦ç»´ä¿®ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- è¯Šæ–­ç»“æŸ ---\n"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Car <span class="title">myCar</span><span class="params">(<span class="string">"Tesla Model S"</span>, <span class="number">75</span>, <span class="literal">true</span>)</span></span>;</span><br><span class="line">    <span class="function">Car <span class="title">brokenCar</span><span class="params">(<span class="string">"Ford Focus"</span>, <span class="number">10</span>, <span class="literal">false</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Mechanic <span class="title">bob</span><span class="params">(<span class="string">"Bob"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    bob.diagnose_car(myCar);</span><br><span class="line">    bob.diagnose_car(brokenCar);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>è¯¦ç»†è§£é‡Šï¼š</strong></p>
<ol>
<li><strong><code>class Mechanic;</code> (å‰å‘å£°æ˜)</strong>ï¼š<ul>
<li>åœ¨ <code>Car</code> ç±»å®šä¹‰ä¹‹å‰ï¼Œæˆ‘ä»¬æ·»åŠ äº† <code>class Mechanic;</code>ã€‚è¿™è¢«ç§°ä¸º<strong>å‰å‘å£°æ˜ï¼ˆForward Declarationï¼‰</strong>ã€‚</li>
<li>å®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œ<code>Mechanic</code> æ˜¯ä¸€ä¸ªç±»ç±»å‹ï¼Œä½†æ­¤æ—¶ä¸éœ€è¦çŸ¥é“å®ƒçš„å®Œæ•´å®šä¹‰ï¼ˆä¾‹å¦‚å®ƒæœ‰å“ªäº›æˆå‘˜å‡½æ•°æˆ–å˜é‡ï¼‰ã€‚è¿™å¯¹äºè§£å†³å¾ªç¯ä¾èµ–æˆ–å½“ä¸€ä¸ªç±»åªéœ€è¦çŸ¥é“å¦ä¸€ä¸ªç±»çš„å­˜åœ¨ä½†ä¸éœ€è¦å…¶å®Œæ•´ç»†èŠ‚æ—¶éå¸¸æœ‰ç”¨ã€‚</li>
<li>åœ¨æœ¬ä¾‹ä¸­ï¼Œ<code>Car</code> ç±»ä¸­çš„ <code>friend class Mechanic;</code> å£°æ˜ä»…ä»…éœ€è¦çŸ¥é“ <code>Mechanic</code> æ˜¯ä¸€ä¸ªç±»ï¼Œå› æ­¤å‰å‘å£°æ˜è¶³å¤Ÿäº†ã€‚</li>
</ul>
</li>
<li><strong><code>friend class Mechanic;</code> (å‹å…ƒå£°æ˜)</strong>ï¼š<ul>
<li>è¿™è¡Œä»£ç åœ¨ <code>Car</code> ç±»çš„å†…éƒ¨ï¼Œæ˜ç¡®åœ°å£°æ˜ <code>Mechanic</code> ç±»æ˜¯ <code>Car</code> ç±»çš„å‹å…ƒã€‚</li>
<li>ä¸€æ—¦å£°æ˜ï¼Œ<code>Mechanic</code> ç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°ï¼ˆä¾‹å¦‚ <code>diagnose_car</code>ï¼‰å°±è·å¾—äº†è®¿é—® <code>Car</code> å¯¹è±¡çš„ç§æœ‰æˆå‘˜ (<code>m_fuel_level</code>, <code>m_engine_status</code>) çš„æƒé™ã€‚</li>
<li>è¯·æ³¨æ„ï¼Œå‹å…ƒå£°æ˜çš„ä½ç½®ï¼ˆåœ¨ <code>public</code>, <code>private</code>, <code>protected</code> åŒºåŸŸï¼‰å¯¹å‹å…ƒæƒé™æ²¡æœ‰ä»»ä½•å½±å“ã€‚é€šå¸¸ï¼Œä¸ºäº†æ¸…æ™°å’Œçº¦å®šä¿—æˆï¼Œæˆ‘ä»¬å°†å…¶æ”¾åœ¨ <code>public</code> åŒºåŸŸæˆ–ç±»çš„æœ€å¼€å§‹ã€‚</li>
</ul>
</li>
<li><strong><code>Mechanic::diagnose_car(const Car&amp; car_obj)</code> å‡½æ•°å†…éƒ¨</strong>ï¼š<ul>
<li>ç”±äº <code>Mechanic</code> ç°åœ¨æ˜¯ <code>Car</code> çš„å‹å…ƒï¼Œ<code>diagnose_car</code> å‡½æ•°å¯ä»¥ç›´æ¥é€šè¿‡ä¼ å…¥çš„ <code>Car</code> å¯¹è±¡å¼•ç”¨ <code>car_obj</code> æ¥è®¿é—® <code>car_obj.m_fuel_level</code> å’Œ <code>car_obj.m_engine_status</code>ã€‚</li>
<li>å¦‚æœ <code>Mechanic</code> ä¸æ˜¯ <code>Car</code> çš„å‹å…ƒï¼Œæˆ–è€… <code>m_fuel_level</code> å’Œ <code>m_engine_status</code> æ˜¯ <code>private</code> çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤è¡Œè®¿é—®å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li>
</ul>
</li>
</ol>
<p>å½“ä½ è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œä½ ä¼šçœ‹åˆ°å®ƒæˆåŠŸç¼–è¯‘å¹¶è¾“å‡ºé¢„æœŸçš„è¯Šæ–­ä¿¡æ¯ï¼Œè¯æ˜ <code>Mechanic</code> ç¡®å®è®¿é—®äº† <code>Car</code> çš„ç§æœ‰æˆå‘˜ã€‚</p>
<hr>
<h2 id="3-å»ºè®®å’Œæ‰©å±•é—®é¢˜"><a href="#3-å»ºè®®å’Œæ‰©å±•é—®é¢˜" class="headerlink" title="3. å»ºè®®å’Œæ‰©å±•é—®é¢˜"></a><strong>3. å»ºè®®å’Œæ‰©å±•é—®é¢˜</strong></h2><p>ä½ å¯¹å‹å…ƒç±»çš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•æŒæ¡å¾—å¾ˆå¥½ã€‚ä¸ºäº†æ›´æ·±å…¥åœ°ç†è§£å’Œåº”ç”¨ï¼Œæˆ‘å»ºè®®ä½ è¿›ä¸€æ­¥æ€è€ƒä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li><strong>å‹å…ƒå‡½æ•°ä¸å‹å…ƒç±»ï¼š</strong><ul>
<li>é™¤äº†å‹å…ƒç±»ï¼ŒC++è¿˜æœ‰<strong>å‹å…ƒå‡½æ•°ï¼ˆFriend Functionsï¼‰</strong>ã€‚å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½ ä¼šé€‰æ‹©ä½¿ç”¨å‹å…ƒå‡½æ•°è€Œä¸æ˜¯å‹å…ƒç±»ï¼Ÿ</li>
<li>æ€è€ƒï¼šä¸€ä¸ªéæˆå‘˜å‡½æ•°å¯ä»¥è¢«å£°æ˜ä¸ºæŸä¸ªç±»çš„å‹å…ƒå—ï¼Ÿå¦‚æœæ˜¯ï¼Œè¯­æ³•æ˜¯æ€æ ·çš„ï¼Ÿ</li>
</ul>
</li>
<li><strong>å‹å…ƒçš„ç²’åº¦æ§åˆ¶ï¼š</strong><ul>
<li>å‹å…ƒç±»èµ‹äºˆäº†å¯¹ç›®æ ‡ç±»æ‰€æœ‰ç§æœ‰/ä¿æŠ¤æˆå‘˜çš„å®Œå…¨è®¿é—®æƒé™ã€‚å¦‚æœä½ åªæƒ³è®©ä¸€ä¸ªå¤–éƒ¨ç±»çš„<strong>æŸä¸ªç‰¹å®šå‡½æ•°</strong>è®¿é—®ä½ çš„ç§æœ‰æˆå‘˜ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç±»ï¼Œè¯¥å¦‚ä½•å®ç°ï¼Ÿï¼ˆæç¤ºï¼šè€ƒè™‘å‹å…ƒå‡½æ•°ï¼‰</li>
</ul>
</li>
<li><strong>å‹å…ƒçš„åˆ©å¼Šï¼š</strong><ul>
<li>è¯·åˆ—ä¸¾å‹å…ƒæœºåˆ¶çš„<strong>ä¼˜ç‚¹</strong>å’Œ<strong>ç¼ºç‚¹</strong>ã€‚ä½ è®¤ä¸ºåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä½¿ç”¨å‹å…ƒæœºåˆ¶æ—¶éœ€è¦æ³¨æ„å“ªäº›æ–¹é¢ï¼Ÿ</li>
<li>å‹å…ƒæ˜¯å¦æ€»æ˜¯â€œæ‰“ç ´å°è£…â€çš„åäº‹ï¼Ÿæœ‰æ²¡æœ‰ä¸€äº›è®¾è®¡æ¨¡å¼æˆ–åœºæ™¯ä¸‹ï¼Œå‹å…ƒæ˜¯â€œå¿…è¦ä¹‹æ¶â€ç”šè‡³æ˜¯ä¸€ç§ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Ÿ</li>
</ul>
</li>
<li><strong>å®é™…æ¡ˆä¾‹æ€è€ƒï¼š</strong><ul>
<li>é™¤äº†æœ¬ä¾‹ä¸­çš„â€œè¯Šæ–­å·¥å…·â€å’Œâ€œåºåˆ—åŒ–å™¨â€ä¹‹å¤–ï¼Œä½ è¿˜èƒ½æƒ³åˆ°å“ªäº›C++æ ‡å‡†åº“ä¸­æˆ–å¸¸è§çš„å®é™…åº”ç”¨åœºæ™¯ï¼Œå¯èƒ½ä¼šç”¨åˆ°å‹å…ƒæœºåˆ¶ï¼Ÿä¾‹å¦‚ï¼Œ<code>std::ostream</code> çš„ <code>operator&lt;&lt;</code> é‡è½½å‡½æ•°é€šå¸¸æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</li>
</ul>
</li>
<li><strong>æ›¿ä»£æ–¹æ¡ˆï¼š</strong><ul>
<li>å¦‚æœä¸ç”¨å‹å…ƒç±»ï¼Œè¿˜æœ‰å“ªäº›å…¶ä»–æ–¹æ³•å¯ä»¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼ˆå³è®©å¤–éƒ¨ä»£ç è·å–ç§æœ‰æˆå‘˜ä¿¡æ¯ï¼‰ï¼Ÿæ¯”è¾ƒå®ƒä»¬çš„ä¼˜ç¼ºç‚¹ï¼Œæ¯”å¦‚å…¬å…±çš„ <code>getter</code> æ–¹æ³•ã€‚</li>
<li>åœ¨é¢å‘å¯¹è±¡è®¾è®¡ä¸­ï¼Œé€šå¸¸ä¼šæ›´å€¾å‘äºä½¿ç”¨å“ªç§æ–¹å¼æ¥å…±äº«æ•°æ®ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
</ul>
</li>
</ol>
<p>å¸Œæœ›è¿™äº›é—®é¢˜èƒ½å¸®åŠ©ä½ æ›´å…¨é¢ã€æ·±å…¥åœ°ç†è§£C++ä¸­çš„å‹å…ƒæœºåˆ¶ï¼</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-2"><a href="#ğŸ§‘â€ğŸ’»-User-2" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>ä¸ºä»€ä¹ˆæˆ‘æ²¡å‰å‘å£°æ˜è¿˜æ˜¯ç¼–è¯‘è¿‡äº†ï¼Ÿ</p>
<hr>
<h2 id="ğŸ¤–-Assistant-2"><a href="#ğŸ¤–-Assistant-2" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼ä½ çš„è§‚å¯Ÿéå¸¸æ•é”ï¼Œå¹¶ä¸”è§¦åŠåˆ°äº†C++æ ‡å‡†ä¸­ä¸€ä¸ªæœ‰è¶£çš„ç»†èŠ‚ã€‚</p>
<p>ä½ æ²¡æœ‰æ·»åŠ  <code>class Mechanic;</code> è¿™è¡Œå‰å‘å£°æ˜ï¼Œä½†ä»£ç ä»ç„¶ç¼–è¯‘é€šè¿‡äº†ï¼Œè¿™æ˜¯å› ä¸ºï¼š</p>
<p><strong>åœ¨C++æ ‡å‡†ä¸­ï¼Œå½“ä½ åœ¨ä¸€ä¸ªç±»çš„ <code>friend class OtherClass;</code> å‹å…ƒå£°æ˜ä¸­é¦–æ¬¡æåˆ° <code>OtherClass</code> æ—¶ï¼Œå¦‚æœ <code>OtherClass</code> åœ¨æ­¤ä¹‹å‰ä»æœªè¢«å£°æ˜è¿‡ï¼Œé‚£ä¹ˆè¿™ä¸ª <code>friend</code> å£°æ˜æœ¬èº«å°±</strong>éšå«åœ°ï¼ˆimplicitlyï¼‰<strong>èµ·åˆ°äº†</strong>å‰å‘å£°æ˜ï¼ˆForward Declarationï¼‰<strong>çš„ä½œç”¨ã€‚</strong></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™è¡Œä»£ç ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span></span><br></pre></td></tr></table></figure></div><br>å®é™…ä¸Šç­‰åŒäºï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span> <span class="comment">// éšå«çš„å‰å‘å£°æ˜</span></span><br><span class="line"><span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span> <span class="comment">// å‹å…ƒå£°æ˜</span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</strong></p>
<p>è¿™æ˜¯C++æ ‡å‡†ä¸ºäº†æ–¹ä¾¿æ€§è€Œå…è®¸çš„ä¸€ç§ç‰¹æ®Šè¯­æ³•ã€‚å®ƒç®€åŒ–äº†å½“ä½ å£°æ˜ä¸€ä¸ªå‹å…ƒç±»æ—¶ï¼Œå¦‚æœè¯¥å‹å…ƒç±»å°šæœªè¢«å®šä¹‰ï¼Œä½ ä¸éœ€è¦é¢å¤–å†™ä¸€è¡Œ <code>class MyFriendClass;</code>ã€‚</p>
<p><strong>ä½†æ˜¯ï¼Œè¯·æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</strong></p>
<ol>
<li><p><strong>ä»…é™äº <code>friend class</code> å£°æ˜ï¼š</strong> è¿™ç§éšå«çš„å‰å‘å£°æ˜åªå‘ç”Ÿåœ¨ <code>friend class ClassName;</code> è¿™ç§å½¢å¼çš„å‹å…ƒå£°æ˜ä¸­ã€‚å¦‚æœä½ åœ¨å…¶ä»–åœ°æ–¹ï¼ˆæ¯”å¦‚ï¼Œä½œä¸ºæˆå‘˜å˜é‡ç±»å‹ã€å‡½æ•°å‚æ•°ç±»å‹æˆ–è¿”å›ç±»å‹ï¼‰ä½¿ç”¨ä¸€ä¸ªå°šæœªè¢«å®Œæ•´å®šä¹‰çš„ç±»ï¼Œä½ ä»ç„¶éœ€è¦æ˜¾å¼åœ°è¿›è¡Œå‰å‘å£°æ˜ã€‚</p>
<p><strong>é”™è¯¯ç¤ºä¾‹ (æ²¡æœ‰æ˜¾å¼å‰å‘å£°æ˜çš„æƒ…å†µä¸‹)ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾æ²¡æœ‰ class Mechanic;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line">    Mechanic* my_mechanic; <span class="comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šMechanic ç±»å‹æœªçŸ¥</span></span><br><span class="line">    <span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">Mechanic</span>;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Mechanic* my_mechanic;</code> è¿™è¡Œå°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒä¸æ˜¯ <code>friend class</code> å£°æ˜ï¼Œç¼–è¯‘å™¨éœ€è¦çŸ¥é“ <code>Mechanic</code> æ˜¯ä¸€ä¸ªç±»ç±»å‹æ‰èƒ½å£°æ˜æŒ‡é’ˆã€‚</p>
</li>
<li><p><strong>è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼š</strong> å°½ç®¡ç¼–è¯‘å™¨å…è®¸è¿™ç§éšå«çš„å‰å‘å£°æ˜ï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ˜¾å¼åœ°å†™å‡º <code>class Mechanic;</code> ä»ç„¶æ˜¯ä¸€ä¸ª<strong>æ›´å¥½çš„ç¼–ç¨‹ä¹ æƒ¯</strong>ã€‚</p>
<ul>
<li><strong>å¯è¯»æ€§ï¼š</strong> å®ƒè®©ä»£ç æ„å›¾æ›´æ¸…æ™°ï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡º <code>Mechanic</code> æ˜¯ä¸€ä¸ªç±»ã€‚</li>
<li><strong>é¿å…æ··æ·†ï¼š</strong> å¯ä»¥é¿å…æ½œåœ¨çš„æ··æ·†ï¼Œå°¤å…¶æ˜¯åœ¨æ›´å¤æ‚çš„ä»£ç åº“ä¸­ï¼Œå½“ä¸€ä¸ªç±»åå¯èƒ½è¢«è¯¯è§£ä¸ºå…¶ä»–å®ä½“æ—¶ã€‚</li>
<li><strong>é€šç”¨æ€§ï¼š</strong> ä¿æŒäº†ä»£ç çš„ä¸€è‡´æ€§ï¼Œæ— è®ºä½ åœ¨å“ªé‡Œé¦–æ¬¡ä½¿ç”¨ä¸€ä¸ªå°šæœªå®Œæ•´å®šä¹‰çš„ç±»ï¼Œéƒ½ä¹ æƒ¯æ€§åœ°è¿›è¡Œå‰å‘å£°æ˜ã€‚</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p>ä½ çš„ä»£ç èƒ½å¤Ÿç¼–è¯‘é€šè¿‡ï¼Œæ˜¯å› ä¸ºC++æ ‡å‡†å…è®¸ <code>friend class SomeClass;</code> åœ¨ <code>SomeClass</code> æœªè¢«å£°æ˜æ—¶ï¼Œå…¼å…·å‰å‘å£°æ˜çš„åŠŸèƒ½ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸ºäº†ä»£ç çš„æ¸…æ™°åº¦å’Œå¯ç»´æŠ¤æ€§ï¼Œç‰¹åˆ«æ˜¯ä½œä¸ºC++åˆå­¦è€…ï¼Œæˆ‘ä»ç„¶å¼ºçƒˆå»ºè®®ä½ å…»æˆ<strong>æ˜¾å¼è¿›è¡Œå‰å‘å£°æ˜</strong>çš„å¥½ä¹ æƒ¯ï¼Œå°±åƒæˆ‘åœ¨æ­£ç¡®ç­”æ¡ˆä¸­å±•ç¤ºçš„é‚£æ ·ã€‚</p>
<hr>
<h2 id="8-è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜"><a href="#8-è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜" class="headerlink" title="8. è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜"></a><strong>8. è¿›ä¸€æ­¥çš„è°ƒæŸ¥é—®é¢˜</strong></h2><p>æ—¢ç„¶ä½ å¯¹è¿™ä¸ªç»†èŠ‚äº§ç”Ÿäº†ç–‘é—®ï¼Œè¯´æ˜ä½ å·²ç»å¼€å§‹æ·±å…¥æ€è€ƒC++çš„ç¼–è¯‘è¿‡ç¨‹äº†ï¼Œéå¸¸å¥½ï¼ä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥è¿›ä¸€æ­¥è°ƒæŸ¥çš„é—®é¢˜ï¼Œå¸®åŠ©ä½ ç†è§£æ›´å¤šï¼š</p>
<ol>
<li><strong>ç¼–è¯‘è¿‡ç¨‹ä¸­çš„ç±»å‹ä¿¡æ¯ï¼š</strong><ul>
<li>ç¼–è¯‘å™¨åœ¨å¤„ç†C++ä»£ç æ—¶ï¼Œæ˜¯å¦‚ä½•é€æ­¥æ”¶é›†å’Œç†è§£ç±»å‹ä¿¡æ¯çš„ï¼Ÿâ€œå£°æ˜â€å’Œâ€œå®šä¹‰â€å¯¹äºç¼–è¯‘å™¨æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆå‡½æ•°å£°æ˜ï¼ˆ<code>void func();</code>ï¼‰ä¸éœ€è¦çŸ¥é“å‡½æ•°ä½“çš„å®ç°ï¼Œè€Œç±»æˆå‘˜å˜é‡ï¼ˆ<code>MyClass obj;</code>ï¼‰å´éœ€è¦çŸ¥é“ <code>MyClass</code> çš„å®Œæ•´å®šä¹‰ï¼Ÿ</li>
</ul>
</li>
<li><strong>å‹å…ƒå£°æ˜çš„ç‰¹æ®Šæ€§ï¼š</strong><ul>
<li>ä¸ºä»€ä¹ˆæ ‡å‡†ä¼šå…è®¸ <code>friend class</code> è¿™ç§ç‰¹æ®Šçš„éšå«å‰å‘å£°æ˜ï¼Œè€Œä¸æ˜¯å¯¹æ‰€æœ‰ç±»å‹å¼•ç”¨éƒ½è¦æ±‚æ˜¾å¼å‰å‘å£°æ˜ï¼Ÿè¿™ç§è®¾è®¡å†³ç­–èƒŒåçš„åŸå› å¯èƒ½æ˜¯ä»€ä¹ˆï¼Ÿ</li>
</ul>
</li>
<li><strong>å¾ªç¯ä¾èµ–é—®é¢˜ï¼š</strong><ul>
<li>åœ¨ä¸¤ä¸ªç±»éœ€è¦ç›¸äº’å¼•ç”¨å¯¹æ–¹çš„ç§æœ‰æˆå‘˜ï¼Œæˆ–è€…ç›¸äº’ä½œä¸ºæˆå‘˜å˜é‡æ—¶ï¼Œå‰å‘å£°æ˜æ˜¯å¦‚ä½•è§£å†³<strong>å¾ªç¯ä¾èµ–ï¼ˆCircular Dependenciesï¼‰</strong>é—®é¢˜çš„ï¼Ÿè¯·ä¸¾ä¸€ä¸ªç®€çŸ­çš„ä¾‹å­è¯´æ˜ã€‚</li>
</ul>
</li>
<li><strong><code>#include</code> ä¸å‰å‘å£°æ˜ï¼š</strong><ul>
<li>ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ <code>#include</code> æ¥åŒ…å«å¤´æ–‡ä»¶ï¼Œä»€ä¹ˆæ—¶å€™åªéœ€è¦ä½¿ç”¨å‰å‘å£°æ˜ï¼Ÿå®ƒä»¬çš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>åŒ…å«å¤´æ–‡ä»¶å¯¹ç¼–è¯‘æ—¶é—´æœ‰ä»€ä¹ˆå½±å“ï¼Ÿå‰å‘å£°æ˜å¦‚ä½•å¸®åŠ©ä¼˜åŒ–ç¼–è¯‘æ—¶é—´ï¼Ÿ</li>
</ul>
</li>
<li><strong>C++æ ‡å‡†æ¼”å˜ï¼š</strong><ul>
<li>è¿™ç§å…³äº <code>friend class</code> éšå«å‰å‘å£°æ˜çš„è§„åˆ™åœ¨C++çš„ä¸åŒæ ‡å‡†ç‰ˆæœ¬ä¸­æ˜¯å¦æœ‰è¿‡å˜åŒ–ï¼Ÿï¼ˆä¾‹å¦‚ï¼ŒC++98ã€C++11ã€C++17ç­‰ï¼‰è¿™å¯èƒ½éœ€è¦æŸ¥é˜…C++æ ‡å‡†çš„æ–‡æ¡£æˆ–æƒå¨çš„C++èµ„æºã€‚</li>
</ul>
</li>
</ol>
<p>é€šè¿‡æ€è€ƒå’ŒæŸ¥é˜…è¿™äº›é—®é¢˜ï¼Œä½ å°†å¯¹C++çš„ç¼–è¯‘æ¨¡å‹ã€ç±»å‹ç³»ç»Ÿä»¥åŠå¦‚ä½•ç¼–å†™æ›´é«˜æ•ˆã€æ›´å¥å£®çš„ä»£ç æœ‰æ›´æ·±åˆ»çš„ç†è§£ã€‚</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Tutorial/">Tutorial    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/312%20-%20cpp%20%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/318%20-%20inline%20static%20variable/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>318 - inline static variable</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•/" title="282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/318 - inline static variable/" title="318 - inline static variable"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">318 - inline static variable</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/329 - è·¨æ–‡ä»¶å‘½åç©ºé—´/" title="329 - è·¨æ–‡ä»¶å‘½åç©ºé—´"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">329 - è·¨æ–‡ä»¶å‘½åç©ºé—´</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/317 - cpp ç±»çº§åˆ«æ•°æ®/" title="317 - cpp ç±»çº§åˆ«æ•°æ®"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">317 - cpp ç±»çº§åˆ«æ•°æ®</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/diff between constexpr and define/" title="diff between constexpr and define"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">diff between constexpr and define</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/é™æ€æˆå‘˜è®¿é—®æ§åˆ¶/" title="é™æ€æˆå‘˜è®¿é—®æ§åˆ¶"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">é™æ€æˆå‘˜è®¿é—®æ§åˆ¶</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>