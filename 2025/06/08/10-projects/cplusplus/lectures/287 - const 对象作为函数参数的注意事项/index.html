<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹ | Bear's dream</title><meta name="description" content="287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><meta name="keywords" content="Cpp,Coding,Function,Object,Parameter"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><meta name="twitter:description" content="287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"><link rel="prev" title="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/286%20-%20const%20%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98%E4%B8%8E%E6%8C%87%E9%92%88%E5%BC%95%E7%94%A8%E8%AE%BF%E9%97%AE/"><link rel="next" title="297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/297%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">178</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">160</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">23</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Const-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-æ•™ç¨‹ï¼šconst-å¸¸é‡-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">C++ æ•™ç¨‹ï¼šconst (å¸¸é‡) å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">6. ç¼–ç ç»ƒä¹ </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">2.6.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">2.7.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-2"><span class="toc_mobile_items-number">2.8.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#include"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">include </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#include-1"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">include </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#include-2"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">include </span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-2"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#7-è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">7. è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">8. æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Const-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><span class="toc-number">1.</span> <span class="toc-text">Const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-æ•™ç¨‹ï¼šconst-å¸¸é‡-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°"><span class="toc-number">2.</span> <span class="toc-text">C++ æ•™ç¨‹ï¼šconst (å¸¸é‡) å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc-number">2.1.</span> <span class="toc-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc-number">2.2.</span> <span class="toc-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc-number">2.3.</span> <span class="toc-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc-number">2.4.</span> <span class="toc-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc-number">2.5.</span> <span class="toc-text">6. ç¼–ç ç»ƒä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">2.6.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">2.7.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-2"><span class="toc-number">2.8.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include"><span class="toc-number">3.</span> <span class="toc-text">include </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include-1"><span class="toc-number">4.</span> <span class="toc-text">include </span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#include-2"><span class="toc-number">5.</span> <span class="toc-text">include </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-2"><span class="toc-number">5.1.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š"><span class="toc-number">5.2.</span> <span class="toc-text">7. è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®"><span class="toc-number">5.3.</span> <span class="toc-text">8. æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Const-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"><a href="#Const-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="Const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹"></a>Const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture.Weâ€™re going to see whatâ€™s going to happen if you try and use a const object as a function argument.Weâ€™re going to be using the same class weâ€™ve used in the last lecture.No change at all.Weâ€™re going to have a few constructors and weâ€™re going to have the setters and getters and weâ€™re goingto have a principal function and weâ€™re going to have our member variables which are going to be modeledas a string view variables, and the age is going to be a row int variable.So itâ€™s not going to be quite like this, but itâ€™s going to be exactly like what we did in the lastlecture.The main thing we want to see is what happens if you use a const object as a function argument and weâ€™regoing to have a couple of options.We could either pass by value, we could either pass our parameters by Non-const reference, we couldpass by const reference, we could pass by pointer to non const, or we could even pass by pointer tocost.So I want you to pause the video and try to think about what could happen in each of these cases.If we pass a const dog object as a function of parameter, try to think about it and then I am goingto tell you the first case is going to be passing by value.And here we have a simple example of that.We have a function called function taking dog.Itâ€™s not going to return anything and itâ€™s going to take a dog object by value inside.Weâ€™re going to try and set the name and print the information.And this is what the function here does.In the main function.You see, we have a const dog object and weâ€™re going to pass it by value.The thing is, this is going to work because what we really have inside the function is not the originalvariable, itâ€™s a copy.And we want to have any problem trying to modify a copy because the customers of the original objectis going to be preserved.Weâ€™re not going to be modifying it.Weâ€™re going to be modifying the copy.So passing by value is going to work fine.So what if you pass by Non-const reference?Here we have another simple example.We have a function taking dog ref.Itâ€™s not going to return anything, but itâ€™s going to take a dog object by Non-const reference.Notice that we donâ€™t have a const in front of the dog parameter here, so this is a non-const reference.The compiler is not going to allow this because this reference could be used to modify the originalobject.So this code here wonâ€™t even compile.And the reason is because our object is const, weâ€™re not allowed to do any modification on this objectand we are trying to pass that to a function by reference which could allow us to potentially modifythis object.The compiler is going to prevent us from making a call like this.Okay, so this is not going to compile.If we pass by const reference, things are going to be improved a little bit.The function is going to be set up like this.Itâ€™s going to be called function taking a const dog ref.Itâ€™s not going to return anything, but itâ€™s going to take the parameter by const reference.Here we have a const.This is going to protect from modification from this reference here.So if we didnâ€™t have anything in the body of the function, the code here could compile.But the problem is going to come if we try and do any modification here.For example, if we call set name here, weâ€™re going to be prevented from doing this from this constreference because it is a const reference.We canâ€™t go through it to modify our object that we are referencing.But the call to Printinfo here is also not going to work.And this is the exact same thing we saw in the last lecture.The compiler doesnâ€™t really know that the Printinfo function isnâ€™t modifying our object, but we knowthat.But the compiler doesnâ€™t know that thatâ€™s the problem here and the compiler is going to throw a compilererror If we try to call the printinfo function from our reference here.So we are back to the same problem in the last lecture.Our dog object that we passed by reference here is really going to be useless in this function bodyhere.We canâ€™t read from it, we canâ€™t write to it.We canâ€™t basically do anything with it.So passing by const reference isnâ€™t really going to work for you either.Okay.Passing by reference isnâ€™t really working for us.What about passing by Pointer?Well, I hate to disappoint you, but this is also not going to work.Here we are passing by Non-const pointer and this pointer could be used to modify the original thingwe are pointing to.So the compiler is going to prevent the call like this to even compile because we are passing an addressto a const object and the pointer parameter here could be used to modify that object.So weâ€™re going to get a compiler error.If we try to compile this function call, this is not going to work either.Okay.So you might.Be saying, What if we pass our parameter by pointer to const and here we have an example doing that.The function is not returning anything and itâ€™s taking its parameter by const dog pointer.So the compiler is going to allow the signature here to compile.But if we try to do any modification inside, weâ€™re going to get a compiler error on our setter here.And this is expected because this is a pointer to const, so we canâ€™t go through this pointer to modifythe object we are pointing to.But the call to Printinfo here is also not going to work because the compiler thanks plentiful herecould be used to modify the object we are pointing to, but that object happens to be cast, so we reallyare not allowed to modify that and the compiler is going to do everything it can to protect the consumersof this object here.So hopefully you can see that even in function calls, const objects can be problematic to work withbecause the compiler is not going to allow us to read or write through the object.And the object is basically going to be useless in our eyes.So now that you have an idea about this problems, weâ€™re going to head over to Visual Studio code andplay with this a little more.Okay.Here we are in our working folder.The current project is Const Objects as the function parameters.Weâ€™re going to grab the code from the last lecture because weâ€™re going to be using that as a startingpoint.We can grab the class header and CPP file and the main function.Letâ€™s copy that and use that in our current project here.So weâ€™re going to do that and we donâ€™t want to forget the VS code folder, which is going to bring usthe settings we can use in our project.So letâ€™s go back to our project here and make sure we have this dot vs code folder.And once we have it set up, weâ€™re going to open it in Visual Studio code by dragging and dropping here.This is going to open our project.You see, we have the main function.We have our dog class which lives in the header and the CPP file here.Now that we have this, we can actually close the left pane because we donâ€™t need it anymore and weâ€™regoing to remove everything and leave our cast dog object here.The first thing weâ€™re going to do is put in a function that takes the parameter by value.So function taking dog is taking the parameter by value here and inside youâ€™re going to see that weâ€™regoing to set the name to our dog object and weâ€™re going to say print info in the function body here.Letâ€™s use this function, letâ€™s say function taking parameter by value.And notice that we are passing our const object as a parameter.Weâ€™re going to say function taking dog and passing dog one.So what do you think will happen?This is a const object and we are passing it by value.Notice that the parameter is not const, so because we are passing by value, what we will have in thebody is going to be a copy of this dog object that we passed here.So modifying it is not going to cause any problem because the changes we do in the body of the functionare not going to affect our original const object.So the constantness of the original thing is going to be preserved.If we try to compile this program in GCC, weâ€™re going to see that itâ€™s going to work.Weâ€™re not going to have any problem.And if we bring up a terminal to run this program and run Rooster, try to think about what weâ€™re goingto get.We have a const object here and I actually think we should also print eval before we call the function,because this is going to be better.Weâ€™re going to say dog one and say principal and weâ€™re going to be able to see that the memory addresses,oh, we canâ€™t call the principal function because it could potentially be modifying our const object.This is really bad.So letâ€™s not do that.We can run the program as is now, So weâ€™re going to run Rooster and weâ€™re going to see the memory addressinside to be ending in D50.Weâ€™re going to see that the name has been changed from the inside of the function and weâ€™re going toprint the information after we apply the change to really prove that this is a copy.We could try and print the address ourselves from the outside of this function here so we could saystdcout address of object, and weâ€™re going to put that out.Weâ€™re going to say address of dog one.And if weâ€™re bold, weâ€™re going to see that letâ€™s world with GCC.Okay, so letâ€™s clear and run Rooster.Weâ€™re going to see that the address on the outside ends in DE0 and the address on the inside ends inD50.So there are two different objects because they live at two different memory locations.And the main message here is if you pass a const dog object as a function parameter.To a function that takes its parameter by value.The code is going to compile and you are going to be allowed to do anything in the body of the functionbecause the function will be basically working on a copy.And the changes you do inside the function body are not going to affect the original object.So this is what I want you to see here.So this is going to work.Okay.So letâ€™s comment this call out and we are going to go on top and put in a function that takes the parameterby reference.Weâ€™re going to put this in and letâ€™s say reference properly.Reference.Okay.So this is a function weâ€™re going to set up to do stuff with that and we will try to use it with ourconst object here.So letâ€™s do that.Itâ€™s going to be called function taking the ref, letâ€™s call it.Weâ€™re going to go down here and do that and weâ€™re going to try and pass in our dog object here.The moment we do that, weâ€™re going to get a squiggly line and this is going to say qualifiers droppedin binding reference of type dog reference to initializer of type const dog.So what this really means is if the compiler allowed this to compile, this is not a const reference,so this is a non const reference.So it could potentially be used to modify the parameter that we pass to it and the compiler is goingto prevent us from doing this because we donâ€™t want to modify our const object here.Thatâ€™s the reason.So this is not going to compile.Weâ€™re going to get a compiler error, so weâ€™re going to build this and pass this through GCC to reallylet you see this.And weâ€™re going to get the same error we have seen before.Weâ€™re going to try and bind the reference of dog reference type to cast dog.And this is not going to work.Again, from the context of this function, call our const dog object here is really not working.You canâ€™t use it in this function here.Okay, so if we try and pass our parameter by const reference, so this function here is going to seemto work.Letâ€™s go down and save that here.Weâ€™re going to copy the name of this function because I donâ€™t want to type all this here.Weâ€™re going to put it in place and weâ€™re going to pass in Dog one.And if we issue a call like this and weâ€™re not doing anything in the body of the function, if we tryto compile, youâ€™re going to see that code is going to compile fine because the parameter is const reference.So this const reference is really going to protect the constants of the object here because we canâ€™tgo through it and modify the object.But if we uncomment what we have inside here, weâ€™re going to get a compiler error which is expectedon the first line here.But because we canâ€™t really go through this const reference to modify the object.But the problem is the second line here is also not going to compile because the compiler doesnâ€™t reallyknow that the printinfo function here isnâ€™t modifying our object.So itâ€™s going to throw an error here.Letâ€™s do that.Weâ€™re going to build this with GCC and show you these compiler errors.Youâ€™re going to see that we have a problem with our setname function, but we also have a problem withour Printf function because they all use the this pointer and the this pointer could be used to modifythe object.So the compiler is not going to allow us to use a function like this.And again, our const object is really useless in the body of this function.We canâ€™t read from it, we canâ€™t write data into it, we canâ€™t really do anything with it.So it is useless in this context here.So this is the problem I want you to be aware of.Okay, so we have seen that references arenâ€™t really going to work.What about pointers?Letâ€™s pass a parameter which is a pointer to Non-const and we can set up a function like this, whichis going to take a dog pointer parameter.And if we go down and try to call this function, you probably know what is going to happen.The compiler is not going to allow us to even call with the address of our dog object here.The moment we do this, weâ€™re going to get a squiggly line and Visual Studio code is going to say theerror here is not clear.Letâ€™s pass this through the compiler and see the compiler error.And it is basically going to be the same thing we have seen before.Itâ€™s going to say invalid conversion from const dog pointer to dog pointer.So what we have in our function parameter here or as a function argument is a const dog pointer becauseit is pointing to a const object.But our function here is taking its parameter clearly as a non const and this pointer could potentiallymodify our object.So the compiler is not going to allow this call here to compile.We canâ€™t use this.Okay, so this is not going to work.And if you try to pass your.By pointer to const.Weâ€™re also going to have problems.So letâ€™s go down and put in our function here.Itâ€™s going to be called function taking pointer to const the dog and the parameter is going to be takenby pointer to const here.If we go down and call our function, letâ€™s comment out what we have in the body.Show you that this is going to actually compile.So weâ€™re going to call the function here and we donâ€™t want the entire thing.We just want the name of the function.Sorry for this.So letâ€™s take out the void thing here.We just want to call our function and weâ€™re going to give it the address of our dog object.So weâ€™re going to say dog one.If we try to compile this code and weâ€™re not doing anything in the body, the code is going to compileand try to think about why.Why do we have a problem here?Well, finished with errors and which problem do we have here?We have a const dog reference and we are trying to go through it to modify stuff here.So this is going to give us a compiler error.This function here wouldnâ€™t compile.This is the problem here and weâ€™re going to build again.And now you see that we also have another compiler error.So what is the problem here?We have an expected unqualified ID for return and weâ€™re going to see that we have the problem at lineLetâ€™s go there.A curly brace here from the function that we had.Thatâ€™s the problem here.So what weâ€™re going to see is that this function call here is going to compile.Letâ€™s do that.Weâ€™re going to pass this through.JK Now the bolt is good, but if we go into the function body and try to do anything, for example,we try to say to the name, This is not going to work because we canâ€™t go through a pointer to constand modify the object we are pointing to.So this is not going to work.But our printf function is also not going to work because the compiler thinks we could go through thisfunction to modify our object through the this pointer because thatâ€™s going to be a pointer to the currentobject.And if we try to compile, weâ€™re going to get a weird error, which is basically going to say that wecould go through the this pointer to modify our object.Itâ€™s going to say that this pointer could be used to modify our object in set name and itâ€™s going tosay the same thing in the principal here.Plentiful.We have a problem because weâ€™re not using pointer access notation.So letâ€™s fix this a little bit, but weâ€™re going to build again and weâ€™re going to get the same error.Basically, weâ€™re going to say that this pointer could be used to modify our object from the printingfunction.This is what the compiler is saying here.And you see we have the same problem in set name that this pointer could be used to modify our object.So what I really wanted you to see in this lecture is that you have to be careful If you want to useconst objects of your classes, the object is almost going to be useless because the compiler is goingto thank your getters have potential to modify the object and your setters have the potential to modifythe object and the compiler is going to really stop you from using these guys and your objects are reallygoing to be useless.This is really bad and weâ€™re going to see how we can solve this problem starting in the next lecture.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼å¾ˆé«˜å…´èƒ½å¸®åŠ©ä½ å­¦ä¹  C++ã€‚æˆ‘ä»¬ä¼šå¾ªåºæ¸è¿›ï¼Œç¡®ä¿ä½ ç†è§£æ¯ä¸€ä¸ªæ¦‚å¿µã€‚</p>
<h1 id="C-æ•™ç¨‹ï¼šconst-å¸¸é‡-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°"><a href="#C-æ•™ç¨‹ï¼šconst-å¸¸é‡-å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°" class="headerlink" title="C++ æ•™ç¨‹ï¼šconst (å¸¸é‡) å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°"></a>C++ æ•™ç¨‹ï¼š<code>const</code> (å¸¸é‡) å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°</h1><p><strong>æ‘˜è¦ï¼š</strong> æœ¬è®²åº§å°†æ¢è®¨å°† <code>const</code> (å¸¸é‡) <code>object</code> (å¯¹è±¡) ä½œä¸ºå‡½æ•°å‚æ•°ä¼ é€’æ—¶çš„ä¸åŒæƒ…å†µï¼ŒåŒ…æ‹¬<code>pass by value</code> (æŒ‰å€¼ä¼ é€’)ã€æŒ‰ <code>reference</code> (å¼•ç”¨) ä¼ é€’ï¼ˆ<code>const</code> å’Œé <code>const</code>ï¼‰ä»¥åŠæŒ‰ <code>pointer</code> (æŒ‡é’ˆ) ä¼ é€’ï¼ˆ<code>const</code> å’Œé <code>const</code>ï¼‰ï¼Œå¹¶è§£é‡Š <code>compiler</code> (ç¼–è¯‘å™¨) çš„è¡Œä¸ºå’ŒåŸå› ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ <code>Dog</code> <code>class</code> (ç±») æ¥è¿›è¡Œæ¼”ç¤ºã€‚</p>
<hr>
<h2 id="2-è¯¦ç»†è§£é‡Š"><a href="#2-è¯¦ç»†è§£é‡Š" class="headerlink" title="2. è¯¦ç»†è§£é‡Š"></a>2. è¯¦ç»†è§£é‡Š</h2><p>å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªè¢« <code>const</code> ä¿®é¥°çš„å¯¹è±¡æ—¶ï¼Œæ„å‘³ç€æˆ‘ä»¬ä¸å¸Œæœ›è¿™ä¸ªå¯¹è±¡çš„çŠ¶æ€è¢«ä¿®æ”¹ã€‚C++ ç¼–è¯‘å™¨ä¼šå°½åŠ›ä¿è¯è¿™ä¸€ç‚¹ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å½“æˆ‘ä»¬å°†è¿™æ ·ä¸€ä¸ª <code>const</code> å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p>
<p>æˆ‘ä»¬å°†åŸºäºä»¥ä¸‹ç®€å•çš„ <code>Dog</code> ç±»ï¼ˆå‡è®¾å®ƒåœ¨ä¹‹å‰çš„è¯¾ç¨‹ä¸­å·²ç»å®šä¹‰ï¼‰ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾ Dog ç±»çš„å®šä¹‰å¦‚ä¸‹ (ä¸ºäº†æœ¬è®²åº§çš„ç›®çš„ç®€åŒ–)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string_view&gt; // å­—ç¬¦ä¸²è§†å›¾</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::string_view name, <span class="keyword">int</span> age) : m_name(name.data(), name.length()), m_age(age) &#123; <span class="comment">// ä½¿ç”¨ string_view åˆå§‹åŒ– string</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" è¢«åˆ›å»ºäº†ã€‚\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‹·è´æ„é€ å‡½æ•°ï¼Œæ–¹ä¾¿è§‚å¯Ÿæ˜¯å¦å‘ç”Ÿæ‹·è´</span></span><br><span class="line">    Dog(<span class="keyword">const</span> Dog&amp; other) : m_name(other.m_name), m_age(other.m_age) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" è¢«æ‹·è´åˆ›å»ºäº†ã€‚\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_name</span><span class="params">(<span class="built_in">std</span>::string_view name)</span> </span>&#123;</span><br><span class="line">        m_name = name.data(); <span class="comment">// ä¿®æ”¹æˆå‘˜å˜é‡</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"["</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">"] ç‹—ç‹—çš„åå­—è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™ä¸ªæˆå‘˜å‡½æ•°ç›®å‰ä¸æ˜¯ const æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—ä¿¡æ¯:åå­—="</span> &lt;&lt; m_name &lt;&lt; <span class="string">", å¹´é¾„="</span> &lt;&lt; m_age</span><br><span class="line">                  &lt;&lt; <span class="string">" (å¯¹è±¡åœ°å€: "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åˆ†æä¸åŒçš„å‚æ•°ä¼ é€’æ–¹å¼ï¼š</p>
<p><strong>2.1 æŒ‰å€¼ä¼ é€’ (Pass by Value)</strong></p>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼šå½“æŒ‰å€¼ä¼ é€’å‚æ•°æ—¶ï¼Œå‡½æ•°ä¼šæ¥æ”¶åˆ°åŸå§‹å¯¹è±¡çš„ä¸€ä¸ª <code>copy</code> (æ‹·è´)ã€‚å‡½æ•°å†…éƒ¨å¯¹è¿™ä¸ªæ‹·è´çš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šå½±å“åˆ°åŸå§‹å¯¹è±¡ã€‚</li>
<li><p><strong>å¯¹äº <code>const</code> å¯¹è±¡</strong>ï¼š</p>
<ul>
<li>ä½ å¯ä»¥å°†ä¸€ä¸ª <code>const</code> å¯¹è±¡æŒ‰å€¼ä¼ é€’ç»™ä¸€ä¸ªæ¥å—é <code>const</code> å‚æ•°çš„å‡½æ•°ã€‚</li>
<li>å› ä¸ºå‡½æ•°æ“ä½œçš„æ˜¯å¯¹è±¡çš„å‰¯æœ¬ï¼Œæ‰€ä»¥åŸå§‹ <code>const</code> å¯¹è±¡çš„å¸¸é‡æ€§å¾—åˆ°äº†ä¿è¯ï¼Œå®ƒæœ¬èº«ä¸ä¼šè¢«ä¿®æ”¹ã€‚</li>
<li>å‡½æ•°å†…éƒ¨å¯ä»¥è‡ªç”±ä¿®æ”¹è¿™ä¸ªå‰¯æœ¬ã€‚</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_value</span><span class="params">(Dog dog_param)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è¿›å…¥ function_pass_by_value...\n"</span>;</span><br><span class="line">    dog_param.set_name(<span class="string">"æ—ºè´¢ (å‰¯æœ¬)"</span>); <span class="comment">// ä¿®æ”¹å‰¯æœ¬æ˜¯å…è®¸çš„</span></span><br><span class="line">    dog_param.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¦»å¼€ function_pass_by_value...\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// const Dog dog1("å°ç™½", 2);</span></span><br><span class="line"><span class="comment">// function_pass_by_value(dog1); // è¿™æ˜¯å…è®¸çš„</span></span><br></pre></td></tr></table></figure></div>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>dog1</code> æ˜¯ <code>const</code> çš„ã€‚å½“å®ƒä¼ é€’ç»™ <code>function_pass_by_value</code> æ—¶ï¼Œä¼šè°ƒç”¨ <code>Dog</code> ç±»çš„æ‹·è´æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Dog</code> å¯¹è±¡ <code>dog_param</code>ã€‚å‡½æ•°å†…éƒ¨å¯¹ <code>dog_param</code> çš„ä¿®æ”¹ï¼ˆä¾‹å¦‚è°ƒç”¨ <code>set_name</code>ï¼‰åªå½±å“è¿™ä¸ªå‰¯æœ¬ï¼Œä¸å½±å“ <code>dog1</code>ã€‚</p>
</li>
</ul>
<p><strong>2.2 æŒ‰é <code>const</code> å¼•ç”¨ä¼ é€’ (Pass by Non-const Reference)</strong></p>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼šå¼•ç”¨æ˜¯å¯¹è±¡çš„åˆ«åã€‚ä¼ é€’é <code>const</code> å¼•ç”¨æ„å‘³ç€å‡½æ•°å¯ä»¥é€šè¿‡è¿™ä¸ªå¼•ç”¨ä¿®æ”¹åŸå§‹å¯¹è±¡ã€‚</li>
<li><p><strong>å¯¹äº <code>const</code> å¯¹è±¡</strong>ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘å™¨ä¼šç¦æ­¢è¿™ç§è¡Œä¸º</strong>ã€‚ä½ ä¸èƒ½å°†ä¸€ä¸ª <code>const</code> å¯¹è±¡ä¼ é€’ç»™ä¸€ä¸ªæ¥å—é <code>const</code> å¼•ç”¨çš„å‡½æ•°ã€‚</li>
<li>åŸå› å¾ˆç›´æ¥ï¼šå¦‚æœå…è®¸è¿™æ ·åšï¼Œå‡½æ•°å†…éƒ¨å°±å¯èƒ½é€šè¿‡è¿™ä¸ªé <code>const</code> å¼•ç”¨ä¿®æ”¹ <code>const</code> å¯¹è±¡ï¼Œè¿™å°±è¿èƒŒäº† <code>const</code> çš„æ‰¿è¯ºã€‚</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_non_const_ref</span><span class="params">(Dog&amp; dog_ref_param)</span> </span>&#123; <span class="comment">//æ³¨æ„æ˜¯ Dog&amp;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è¿›å…¥ function_pass_by_non_const_ref...\n"</span>;</span><br><span class="line">    <span class="comment">// dog_ref_param.set_name("å°é»‘ (é€šè¿‡å¼•ç”¨)"); // å¦‚æœèƒ½è°ƒç”¨ï¼Œä¼šä¿®æ”¹åŸå§‹å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// dog_ref_param.print_info();</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¦»å¼€ function_pass_by_non_const_ref...\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// const Dog dog1("å°ç™½", 2);</span></span><br><span class="line"><span class="comment">// function_pass_by_non_const_ref(dog1); // ç¼–è¯‘å™¨é”™è¯¯ï¼</span></span><br></pre></td></tr></table></figure></div>
<p>ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œç±»ä¼¼äºï¼šâ€binding â€˜const Dogâ€™ to reference of type â€˜Dog&amp;â€™ discards qualifiersâ€ (å°† <code>const Dog</code> ç±»å‹çš„å¯¹è±¡ç»‘å®šåˆ° <code>Dog&amp;</code> ç±»å‹çš„å¼•ç”¨ä¼šä¸¢å¼ƒ <code>const</code> é™å®šç¬¦)ã€‚</p>
</li>
</ul>
<p><strong>2.3 æŒ‰ <code>const</code> å¼•ç”¨ä¼ é€’ (Pass by Const Reference)</strong></p>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼š<code>const</code> å¼•ç”¨ä¹Ÿæ˜¯å¯¹è±¡çš„åˆ«åï¼Œä½†å®ƒæ‰¿è¯ºä¸ä¼šé€šè¿‡è¿™ä¸ªå¼•ç”¨æ¥ä¿®æ”¹å¯¹è±¡ã€‚è¿™ä½¿å¾—å®ƒå¯ä»¥å®‰å…¨åœ°å¼•ç”¨ <code>const</code> å¯¹è±¡å’Œé <code>const</code> å¯¹è±¡ã€‚</li>
<li><p><strong>å¯¹äº <code>const</code> å¯¹è±¡</strong>ï¼š</p>
<ul>
<li><strong>è¿™æ˜¯å…è®¸çš„</strong>ã€‚å°† <code>const</code> å¯¹è±¡ä¼ é€’ç»™æ¥å— <code>const</code> å¼•ç”¨çš„å‡½æ•°æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå‡½æ•°ä¿è¯ä¸ä¼šä¿®æ”¹å®ƒã€‚</li>
<li><strong>ä½†æœ‰ä¸€ä¸ªé™·é˜±</strong>ï¼šå³ä½¿ä½ é€šè¿‡ <code>const</code> å¼•ç”¨ä¼ é€’äº†å¯¹è±¡ï¼Œå¦‚æœå°è¯•è°ƒç”¨è¯¥å¯¹è±¡ä¸Šçš„é <code>const</code> <code>member function</code> (æˆå‘˜å‡½æ•°)ï¼Œç¼–è¯‘å™¨ä»ç„¶ä¼šæŠ¥é”™ã€‚</li>
<li>è¿™æ˜¯å› ä¸ºé <code>const</code> æˆå‘˜å‡½æ•°ç†è®ºä¸Šå¯ä»¥ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼ˆå³ä½¿å®ƒå®é™…ä¸Šæ²¡æœ‰ä¿®æ”¹ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ <code>print_info</code>ï¼‰ã€‚ç¼–è¯‘å™¨åªçœ‹å‡½æ•°çš„å£°æ˜ï¼Œå¦‚æœä¸€ä¸ªæˆå‘˜å‡½æ•°æ²¡æœ‰è¢«å£°æ˜ä¸º <code>const</code>ï¼Œç¼–è¯‘å™¨å°±å‡è®¾å®ƒä¼šä¿®æ”¹å¯¹è±¡ã€‚</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_const_ref</span><span class="params">(<span class="keyword">const</span> Dog&amp; dog_const_ref_param)</span> </span>&#123; <span class="comment">// æ³¨æ„æ˜¯ const Dog&amp;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è¿›å…¥ function_pass_by_const_ref...\n"</span>;</span><br><span class="line">    <span class="comment">// dog_const_ref_param.set_name("å°é»„ (é€šè¿‡constå¼•ç”¨)"); // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡ const å¼•ç”¨è°ƒç”¨ä¿®æ”¹å‡½æ•°</span></span><br><span class="line">    <span class="comment">// dog_const_ref_param.print_info(); // é”™è¯¯ï¼å› ä¸º print_info() ä¸æ˜¯ const æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¦»å¼€ function_pass_by_const_ref...\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// const Dog dog1("å°ç™½", 2);</span></span><br><span class="line"><span class="comment">// function_pass_by_const_ref(dog1); // è°ƒç”¨æœ¬èº«æ˜¯å…è®¸çš„</span></span><br></pre></td></tr></table></figure></div>
<p>è°ƒç”¨ <code>set_name</code> ä¼šå¤±è´¥ï¼Œå› ä¸º <code>dog_const_ref_param</code> æ˜¯ <code>const</code> å¼•ç”¨ï¼Œä¸èƒ½è°ƒç”¨ä¿®æ”¹å™¨ã€‚<br>è°ƒç”¨ <code>print_info</code> ä¹Ÿä¼šå¤±è´¥ï¼ˆåœ¨å½“å‰çš„ <code>Dog</code> ç±»å®šä¹‰ä¸‹ï¼‰ï¼Œå› ä¸º <code>print_info</code> æ²¡æœ‰è¢«å£°æ˜ä¸º <code>const</code> æˆå‘˜å‡½æ•°ã€‚ç¼–è¯‘å™¨ä¸çŸ¥é“ <code>print_info</code> æ˜¯å¦å®‰å…¨ï¼Œæ‰€ä»¥å®ƒä¼šé˜»æ­¢è¿™ä¸ªè°ƒç”¨ã€‚è¿™æ˜¯ä¸Šä¸€è®²ä¸­æåˆ°çš„é—®é¢˜ï¼š<code>const</code> å¯¹è±¡å˜å¾—â€œå‡ ä¹æ— ç”¨â€ã€‚</p>
</li>
</ul>
<p><strong>2.4 æŒ‰é <code>const</code> æŒ‡é’ˆä¼ é€’ (Pass by Non-const Pointer)</strong></p>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼šæŒ‡é’ˆå­˜å‚¨å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚é€šè¿‡é <code>const</code> æŒ‡é’ˆï¼Œå‡½æ•°å¯ä»¥ä¿®æ”¹æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ã€‚</li>
<li><p><strong>å¯¹äº <code>const</code> å¯¹è±¡</strong>ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘å™¨ä¼šç¦æ­¢è¿™ç§è¡Œä¸º</strong>ã€‚ä½ ä¸èƒ½å°†ä¸€ä¸ª <code>const</code> å¯¹è±¡çš„åœ°å€ä¼ é€’ç»™ä¸€ä¸ªæ¥å—é <code>const</code> æŒ‡é’ˆå‚æ•°çš„å‡½æ•°ï¼ˆä¾‹å¦‚ <code>Dog*</code>ï¼‰ã€‚</li>
<li>åŸå› ä¸é <code>const</code> å¼•ç”¨ç±»ä¼¼ï¼šå¦‚æœå…è®¸ï¼Œå‡½æ•°å†…éƒ¨å°±å¯ä»¥é€šè¿‡è¿™ä¸ªæŒ‡é’ˆä¿®æ”¹ <code>const</code> å¯¹è±¡ã€‚</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_non_const_ptr</span><span class="params">(Dog* dog_ptr_param)</span> </span>&#123; <span class="comment">// æ³¨æ„æ˜¯ Dog*</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è¿›å…¥ function_pass_by_non_const_ptr...\n"</span>;</span><br><span class="line">    <span class="comment">// if (dog_ptr_param) &#123;</span></span><br><span class="line">    <span class="comment">//     dog_ptr_param-&gt;set_name("å°ç° (é€šè¿‡æŒ‡é’ˆ)");</span></span><br><span class="line">    <span class="comment">//     dog_ptr_param-&gt;print_info();</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¦»å¼€ function_pass_by_non_const_ptr...\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// const Dog dog1("å°ç™½", 2);</span></span><br><span class="line"><span class="comment">// function_pass_by_non_const_ptr(&amp;dog1); // ç¼–è¯‘å™¨é”™è¯¯ï¼</span></span><br></pre></td></tr></table></figure></div>
<p>ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œç±»ä¼¼äºï¼šâ€invalid conversion from â€˜const Dog<em>â€˜ to â€˜Dog</em>â€˜â€œ (ä» <code>const Dog*</code> åˆ° <code>Dog*</code> çš„è½¬æ¢æ— æ•ˆ)ã€‚</p>
</li>
</ul>
<p><strong>2.5 æŒ‰ <code>const</code> æŒ‡é’ˆä¼ é€’ (Pass by Const Pointer / Pointer to Const)</strong></p>
<ul>
<li><strong>æœºåˆ¶</strong>ï¼šè¿™é‡ŒæŒ‡çš„æ˜¯æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ (<code>const Dog*</code> æˆ– <code>Dog const*</code>)ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½é€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ¥ä¿®æ”¹å®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚æŒ‡é’ˆæœ¬èº«å¯ä»¥è¢«ä¿®æ”¹ä»¥æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ï¼ˆé™¤éæŒ‡é’ˆæœ¬èº«ä¹Ÿæ˜¯ <code>const</code>ï¼Œå¦‚ <code>const Dog* const</code>ï¼‰ã€‚</li>
<li><p><strong>å¯¹äº <code>const</code> å¯¹è±¡</strong>ï¼š</p>
<ul>
<li><strong>è¿™æ˜¯å…è®¸çš„</strong>ã€‚ä½ å¯ä»¥å°† <code>const</code> å¯¹è±¡çš„åœ°å€ä¼ é€’ç»™ä¸€ä¸ªæ¥å—æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆçš„å‡½æ•°ã€‚</li>
<li><strong>åŒæ ·çš„é™·é˜±</strong>ï¼šä¸ <code>const</code> å¼•ç”¨ç±»ä¼¼ï¼Œå³ä½¿ä½ é€šè¿‡æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆä¼ é€’äº†å¯¹è±¡ï¼Œå¦‚æœå°è¯•è°ƒç”¨è¯¥å¯¹è±¡ä¸Šçš„é <code>const</code> æˆå‘˜å‡½æ•°ï¼Œç¼–è¯‘å™¨ä»ç„¶ä¼šæŠ¥é”™ã€‚</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_const_ptr</span><span class="params">(<span class="keyword">const</span> Dog* dog_const_ptr_param)</span> </span>&#123; <span class="comment">// æ³¨æ„æ˜¯ const Dog*</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è¿›å…¥ function_pass_by_const_ptr...\n"</span>;</span><br><span class="line">    <span class="comment">// if (dog_const_ptr_param) &#123;</span></span><br><span class="line">    <span class="comment">//     dog_const_ptr_param-&gt;set_name("å°ç´« (é€šè¿‡constæŒ‡é’ˆ)"); // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡ const æŒ‡é’ˆè°ƒç”¨ä¿®æ”¹å‡½æ•°</span></span><br><span class="line">    <span class="comment">//     dog_const_ptr_param-&gt;print_info(); // é”™è¯¯ï¼å› ä¸º print_info() ä¸æ˜¯ const æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¦»å¼€ function_pass_by_const_ptr...\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line"><span class="comment">// const Dog dog1("å°ç™½", 2);</span></span><br><span class="line"><span class="comment">// function_pass_by_const_ptr(&amp;dog1); // è°ƒç”¨æœ¬èº«æ˜¯å…è®¸çš„</span></span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œçš„è¡Œä¸ºå’Œ <code>const</code> å¼•ç”¨éå¸¸ç›¸ä¼¼ã€‚è°ƒç”¨ <code>set_name</code> ä¼šå¤±è´¥ã€‚è°ƒç”¨ <code>print_info</code> ä¹Ÿä¼šå¤±è´¥ï¼Œå› ä¸ºå®ƒä¸æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ã€‚</p>
</li>
</ul>
<p><strong>æ€»ç»“ä¸€ä¸‹å…³é”®ç‚¹ï¼š</strong></p>
<ol>
<li><strong>æŒ‰å€¼ä¼ é€’</strong>ï¼šæ€»æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºæ“ä½œçš„æ˜¯å‰¯æœ¬ã€‚<code>const</code> å¯¹è±¡çš„åŸå§‹å€¼ä¸ä¼šæ”¹å˜ã€‚</li>
<li><strong>é <code>const</code> å¼•ç”¨/æŒ‡é’ˆ</strong>ï¼šä¸èƒ½ç”¨äºä¼ é€’ <code>const</code> å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬æš—ç¤ºäº†ä¿®æ”¹åŸå§‹å¯¹è±¡çš„å¯èƒ½æ€§ï¼Œè¿™ä¼šç ´å <code>const</code> å¯¹è±¡çš„å¸¸é‡æ€§ã€‚ç¼–è¯‘å™¨ä¼šé˜»æ­¢ä½ ã€‚</li>
<li><strong><code>const</code> å¼•ç”¨/æŒ‡é’ˆ</strong>ï¼šå¯ä»¥ç”¨äºä¼ é€’ <code>const</code> å¯¹è±¡ã€‚å®ƒä»¬æ‰¿è¯ºä¸é€šè¿‡å¼•ç”¨æˆ–æŒ‡é’ˆä¿®æ”¹å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œè¿™å¼•å‡ºäº†ä¸€ä¸ªé‡è¦é—®é¢˜ï¼šå³ä½¿ä½ æœ‰ä¸€ä¸ª <code>const</code> å¼•ç”¨æˆ–æŒ‡å‘ <code>const</code> å¯¹è±¡çš„æŒ‡é’ˆï¼Œä½ ä¹Ÿåªèƒ½è°ƒç”¨è¯¥å¯¹è±¡ä¸Šè¢«å£°æ˜ä¸º <code>const</code> çš„æˆå‘˜å‡½æ•°ã€‚å¦‚æœä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼ˆæ¯”å¦‚æˆ‘ä»¬çš„ <code>print_info</code>ï¼‰æ²¡æœ‰è¢«æ ‡è®°ä¸º <code>const</code>ï¼Œç¼–è¯‘å™¨å°±è®¤ä¸ºå®ƒå¯èƒ½ä¼šä¿®æ”¹å¯¹è±¡ï¼Œå› æ­¤ä¸å…è®¸åœ¨ <code>const</code> ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨å®ƒã€‚è¿™ä½¿å¾— <code>const</code> å¯¹è±¡åœ¨å¾ˆå¤šæƒ…å†µä¸‹çœ‹èµ·æ¥â€œåŠŸèƒ½å—é™â€æˆ–â€œæ— ç”¨â€ï¼Œé™¤éç±»è®¾è®¡è€…æ­£ç¡®åœ°ä½¿ç”¨äº† <code>const</code> å…³é”®å­—æ¥æ ‡è®°é‚£äº›çœŸæ­£ä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æˆå‘˜å‡½æ•°ã€‚</li>
</ol>
<p>è¿™ä¸ªé—®é¢˜ï¼ˆå¦‚ä½•è®© <code>print_info</code> è¿™æ ·çš„å‡½æ•°èƒ½åœ¨ <code>const</code> å¯¹è±¡ä¸Šè¢«è°ƒç”¨ï¼‰çš„è§£å†³æ–¹æ¡ˆï¼Œé€šå¸¸æ˜¯åœ¨æˆå‘˜å‡½æ•°å£°æ˜çš„æœ«å°¾åŠ ä¸Š <code>const</code> å…³é”®å­—ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­çš„è¯¾ç¨‹ä¸­è¯¦ç»†æ¢è®¨ã€‚</p>
<hr>
<h2 id="3-ä»£ç ç¤ºä¾‹"><a href="#3-ä»£ç ç¤ºä¾‹" class="headerlink" title="3. ä»£ç ç¤ºä¾‹"></a>3. ä»£ç ç¤ºä¾‹</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†ä¸Šè¿°æ‰€æœ‰æƒ…å†µã€‚ä¸ºäº†èƒ½ç¼–è¯‘é€šè¿‡å¹¶è§‚å¯Ÿè¡Œä¸ºï¼Œæˆ‘ä¼šæ³¨é‡Šæ‰é‚£äº›ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯çš„ä»£ç è¡Œï¼Œå¹¶å»ºè®®ä½ å–æ¶ˆæ³¨é‡Šæ¥äº²è‡ªçœ‹çœ‹ç¼–è¯‘å™¨çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string_view&gt; // C++17, for std::string_view</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Dog Class Definition ---</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::string_view name, <span class="keyword">int</span> age) : m_name(name.data(), name.length()), m_age(age) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" constructed. Address: "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Copy constructor</span></span><br><span class="line">    Dog(<span class="keyword">const</span> Dog&amp; other) : m_name(other.m_name), m_age(other.m_age) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" COPIED. New address: "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> </span><br><span class="line">                  &lt;&lt; <span class="string">" from old address: "</span> &lt;&lt; (<span class="keyword">void</span>*)&amp;other &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Dog() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" destructed. Address: "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_name</span><span class="params">(<span class="built_in">std</span>::string_view name)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Attempting to set name for dog at "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">        m_name = name.data();</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog at "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">" name set to: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// IMPORTANT: print_info is NOT a const member function yet</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="comment">/* no const here */</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog Info (object @ "</span> &lt;&lt; (<span class="keyword">void</span>*)<span class="keyword">this</span> &lt;&lt; <span class="string">"): Name="</span> &lt;&lt; m_name &lt;&lt; <span class="string">", Age="</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Let's add a const version of a getter for demonstration later if needed</span></span><br><span class="line">    <span class="comment">// const std::string&amp; get_name() const &#123; return m_name; &#125;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Function Definitions ---</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. Pass by value</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_value</span><span class="params">(Dog dog_param)</span> </span>&#123; <span class="comment">// A copy is made</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- Inside function_pass_by_value ---\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of dog_param (copy): "</span> &lt;&lt; (<span class="keyword">void</span>*)&amp;dog_param &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    dog_param.set_name(<span class="string">"ValueDog"</span>); <span class="comment">// Modifies the copy</span></span><br><span class="line">    dog_param.print_info();        <span class="comment">// Calls print_info on the copy</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Exiting function_pass_by_value ---\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. Pass by non-const reference</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_non_const_ref</span><span class="params">(Dog&amp; dog_ref_param)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- Inside function_pass_by_non_const_ref ---\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of object via dog_ref_param: "</span> &lt;&lt; (<span class="keyword">void</span>*)&amp;dog_ref_param &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    dog_ref_param.set_name(<span class="string">"NonConstRefDog"</span>);</span><br><span class="line">    dog_ref_param.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Exiting function_pass_by_non_const_ref ---\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. Pass by const reference</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_const_ref</span><span class="params">(<span class="keyword">const</span> Dog&amp; dog_const_ref_param)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- Inside function_pass_by_const_ref ---\n"</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of object via dog_const_ref_param: "</span> &lt;&lt; (<span class="keyword">void</span>*)&amp;dog_const_ref_param &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// dog_const_ref_param.set_name("ConstRefDog"); // COMPILE ERROR: set_name is not const and modifies</span></span><br><span class="line">    <span class="comment">// dog_const_ref_param.print_info();         // COMPILE ERROR: print_info is not a const member function</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123; <span class="comment">// Placeholder to avoid unused parameter warning if lines above are commented</span></span><br><span class="line">         <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cannot call non-const member functions like set_name or print_info (as it is currently defined) on a const reference.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Exiting function_pass_by_const_ref ---\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. Pass by non-const pointer</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_non_const_ptr</span><span class="params">(Dog* dog_ptr_param)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- Inside function_pass_by_non_const_ptr ---\n"</span>;</span><br><span class="line">    <span class="keyword">if</span> (dog_ptr_param) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of object via dog_ptr_param: "</span> &lt;&lt; (<span class="keyword">void</span>*)dog_ptr_param &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        dog_ptr_param-&gt;set_name(<span class="string">"NonConstPtrDog"</span>);</span><br><span class="line">        dog_ptr_param-&gt;print_info();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Exiting function_pass_by_non_const_ptr ---\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. Pass by const pointer (pointer to const)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">function_pass_by_const_ptr</span><span class="params">(<span class="keyword">const</span> Dog* dog_const_ptr_param)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- Inside function_pass_by_const_ptr ---\n"</span>;</span><br><span class="line">    <span class="keyword">if</span> (dog_const_ptr_param) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of object via dog_const_ptr_param: "</span> &lt;&lt; (<span class="keyword">void</span>*)dog_const_ptr_param &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="comment">// dog_const_ptr_param-&gt;set_name("ConstPtrDog"); // COMPILE ERROR: set_name is not const and modifies</span></span><br><span class="line">        <span class="comment">// dog_const_ptr_param-&gt;print_info();       // COMPILE ERROR: print_info is not a const member function</span></span><br><span class="line">         <span class="keyword">if</span> (<span class="literal">true</span>) &#123; <span class="comment">// Placeholder</span></span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cannot call non-const member functions like set_name or print_info (as it is currently defined) using a pointer-to-const.\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Exiting function_pass_by_const_ptr ---\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> Dog <span class="title">const_dog</span><span class="params">(<span class="string">"Buddy (const)"</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of const_dog in main: "</span> &lt;&lt; (<span class="keyword">void</span>*)&amp;const_dog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// const_dog.set_name("Tom"); // COMPILE ERROR: cannot call set_name on a const object</span></span><br><span class="line">    <span class="comment">// const_dog.print_info();    // COMPILE ERROR: print_info is not a const member function, cannot be called on const_dog</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n======= Testing Pass by Value =======\n"</span>;</span><br><span class="line">    function_pass_by_value(const_dog); <span class="comment">// OK: A copy is made. const_dog is not affected.</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"After function_pass_by_value, const_dog is: "</span>;</span><br><span class="line">    <span class="comment">// const_dog.print_info(); // Still can't call directly for the same reason</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Dog <span class="title">non_const_dog</span><span class="params">(<span class="string">"Lucy (non-const)"</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Address of non_const_dog in main: "</span> &lt;&lt; (<span class="keyword">void</span>*)&amp;non_const_dog &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n======= Testing Pass by Non-const Reference =======\n"</span>;</span><br><span class="line">    <span class="comment">// function_pass_by_non_const_ref(const_dog); // COMPILE ERROR: cannot bind const Dog to Dog&amp;</span></span><br><span class="line">    function_pass_by_non_const_ref(non_const_dog); <span class="comment">// OK for non-const object</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"After function_pass_by_non_const_ref, non_const_dog is: "</span>;</span><br><span class="line">    non_const_dog.print_info();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n======= Testing Pass by Const Reference =======\n"</span>;</span><br><span class="line">    function_pass_by_const_ref(const_dog);       <span class="comment">// OK: const Dog can be passed to const Dog&amp;</span></span><br><span class="line">                                                 <span class="comment">// (but inside the function, non-const methods cannot be called)</span></span><br><span class="line">    function_pass_by_const_ref(non_const_dog);   <span class="comment">// OK: non-const Dog can also be passed to const Dog&amp;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n======= Testing Pass by Non-const Pointer =======\n"</span>;</span><br><span class="line">    <span class="comment">// function_pass_by_non_const_ptr(&amp;const_dog); // COMPILE ERROR: cannot convert const Dog* to Dog*</span></span><br><span class="line">    function_pass_by_non_const_ptr(&amp;non_const_dog); <span class="comment">// OK for non-const object</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"After function_pass_by_non_const_ptr, non_const_dog is: "</span>;</span><br><span class="line">    non_const_dog.print_info();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n======= Testing Pass by Const Pointer =======\n"</span>;</span><br><span class="line">    function_pass_by_const_ptr(&amp;const_dog);     <span class="comment">// OK: const Dog* can be passed to const Dog*</span></span><br><span class="line">                                                <span class="comment">// (but inside the function, non-const methods cannot be called)</span></span><br><span class="line">    function_pass_by_const_ptr(&amp;non_const_dog); <span class="comment">// OK: Dog* can be converted to const Dog*</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\nEnd of main.\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å½“ä½ ç¼–è¯‘å¹¶è¿è¡Œï¼ˆæˆ–å°è¯•ç¼–è¯‘ï¼‰ä»¥ä¸Šä»£ç æ—¶ï¼Œè¯·ç‰¹åˆ«æ³¨æ„ï¼š</p>
<ol>
<li><code>const_dog.print_info()</code> åœ¨ <code>main</code> å‡½æ•°ä¸­ç›´æ¥è°ƒç”¨ä¹Ÿä¼šå¤±è´¥ï¼Œå› ä¸º <code>const_dog</code> æ˜¯ <code>const</code> å¯¹è±¡ï¼Œè€Œ <code>Dog::print_info()</code> ä¸æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ã€‚</li>
<li>åœ¨ <code>function_pass_by_const_ref</code> å’Œ <code>function_pass_by_const_ptr</code> å†…éƒ¨ï¼Œå¯¹ <code>print_info()</code> çš„è°ƒç”¨ï¼ˆå¦‚æœå–æ¶ˆæ³¨é‡Šï¼‰ä¹Ÿä¼šå¤±è´¥ï¼ŒåŸå› ç›¸åŒã€‚</li>
</ol>
<hr>
<h2 id="4-QA-é—ªå¡-QA-Flash-Cards"><a href="#4-QA-é—ªå¡-QA-Flash-Cards" class="headerlink" title="4. QA é—ªå¡ (QA Flash Cards)"></a>4. QA é—ªå¡ (QA Flash Cards)</h2><ol>
<li><p><strong>Q:</strong> å°† <code>const</code> å¯¹è±¡æŒ‰å€¼ä¼ é€’ç»™å‡½æ•°ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ<br><strong>A:</strong> ä¼šåˆ›å»ºå¯¹è±¡çš„å‰¯æœ¬ã€‚å‡½æ•°å¯¹å‰¯æœ¬çš„ä¿®æ”¹ä¸å½±å“åŸå§‹ <code>const</code> å¯¹è±¡ã€‚ç¼–è¯‘é€šè¿‡ã€‚</p>
</li>
<li><p><strong>Q:</strong> ä¸ºä»€ä¹ˆä¸èƒ½å°† <code>const</code> å¯¹è±¡ä¼ é€’ç»™æ¥å—é <code>const</code> å¼•ç”¨çš„å‡½æ•°ï¼Ÿ<br><strong>A:</strong> å› ä¸ºé <code>const</code> å¼•ç”¨æ„å‘³ç€å‡½æ•°å¯èƒ½ä¿®æ”¹å¯¹è±¡ï¼Œè¿™è¿åäº†åŸå§‹å¯¹è±¡çš„ <code>const</code> å±æ€§ã€‚ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
</li>
<li><p><strong>Q:</strong> å°† <code>const</code> å¯¹è±¡ä¼ é€’ç»™æ¥å— <code>const</code> å¼•ç”¨çš„å‡½æ•°ï¼Œä¸ºä»€ä¹ˆè°ƒç”¨é <code>const</code> æˆå‘˜å‡½æ•°ï¼ˆå¦‚ <code>print_info</code>ï¼Œå¦‚æœå®ƒæœªæ ‡è®°ä¸º <code>const</code>ï¼‰ä»å¯èƒ½å¤±è´¥ï¼Ÿ<br><strong>A:</strong> å› ä¸ºç¼–è¯‘å™¨åªçœ‹å‡½æ•°ç­¾åã€‚å¦‚æœä¸€ä¸ªæˆå‘˜å‡½æ•°æ²¡æœ‰è¢«å£°æ˜ä¸º <code>const</code>ï¼Œç¼–è¯‘å™¨å°±å‡è®¾å®ƒå¯èƒ½ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼Œå› æ­¤ä¸å…è®¸åœ¨ <code>const</code> ä¸Šä¸‹æ–‡ï¼ˆå¦‚é€šè¿‡ <code>const</code> å¼•ç”¨ï¼‰ä¸­è°ƒç”¨å®ƒã€‚</p>
</li>
<li><p><strong>Q:</strong> <code>const Dog* p</code> å’Œ <code>Dog* const p</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br><strong>A:</strong></p>
<ul>
<li><code>const Dog* p</code> (æˆ– <code>Dog const* p</code>)ï¼š<code>p</code> æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>const Dog</code> å¯¹è±¡çš„æŒ‡é’ˆã€‚ä½ ä¸èƒ½é€šè¿‡ <code>p</code> æ¥ä¿®æ”¹ <code>Dog</code> å¯¹è±¡ï¼ˆä¾‹å¦‚ <code>p-&gt;set_name(...)</code> ä¼šæŠ¥é”™ï¼‰ã€‚ä½† <code>p</code> æœ¬èº«å¯ä»¥æŒ‡å‘å¦ä¸€ä¸ª <code>Dog</code> å¯¹è±¡ï¼ˆ<code>p = &amp;another_dog;</code> æ˜¯å…è®¸çš„ï¼Œåªè¦ <code>another_dog</code> çš„ç±»å‹å…¼å®¹ï¼‰ã€‚</li>
<li><code>Dog* const p</code>ï¼š<code>p</code> æ˜¯ä¸€ä¸ª <code>const</code> æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª <code>Dog</code> å¯¹è±¡ã€‚è¿™æ„å‘³ç€ <code>p</code> å¿…é¡»åœ¨åˆå§‹åŒ–æ—¶æŒ‡å‘ä¸€ä¸ªåœ°å€ï¼Œä¹‹åä¸èƒ½å†æŒ‡å‘å…¶ä»–åœ°å€ï¼ˆ<code>p = &amp;another_dog;</code> ä¼šæŠ¥é”™ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒæŒ‡å‘çš„å¯¹è±¡ä¸æ˜¯ <code>const</code> çš„ï¼Œä½ å¯ä»¥é€šè¿‡ <code>p</code> ä¿®æ”¹è¯¥å¯¹è±¡ï¼ˆä¾‹å¦‚ <code>p-&gt;set_name(...)</code> æ˜¯å…è®¸çš„ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>Q:</strong> <code>const</code> å¯¹è±¡åœ¨å‡½æ•°å‚æ•°ä¼ é€’ä¸­æ˜¾å¾—â€œæ— ç”¨â€çš„ä¸»è¦åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ<br><strong>A:</strong> å¦‚æœç±»çš„æˆå‘˜å‡½æ•°ï¼ˆå°¤å…¶æ˜¯é‚£äº›æœ¬æ„ä¸ºåªè¯»çš„å‡½æ•°ï¼Œå¦‚æ‰“å°ä¿¡æ¯ï¼‰æ²¡æœ‰è¢«æ­£ç¡®åœ°å£°æ˜ä¸º <code>const</code> æˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆè¿™äº›å‡½æ•°å°±ä¸èƒ½åœ¨ <code>const</code> å¯¹è±¡ä¸Šè¢«è°ƒç”¨ï¼Œå³ä½¿æ˜¯é€šè¿‡ <code>const</code> å¼•ç”¨æˆ– <code>const</code> æŒ‡é’ˆä¼ é€’ã€‚</p>
</li>
</ol>
<hr>
<h2 id="5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><a href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯" class="headerlink" title="5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"></a>5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</h2><ol>
<li><p><strong>æ··æ·† <code>const T*</code> å’Œ <code>T* const</code></strong>ï¼š</p>
<ul>
<li><code>const T* ptr</code>ï¼šæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ (pointer to const)ã€‚ä¸èƒ½é€šè¿‡ <code>ptr</code> ä¿®æ”¹ <code>T</code> å¯¹è±¡ã€‚<code>ptr</code> æœ¬èº«å¯ä»¥æ”¹å˜ï¼ŒæŒ‡å‘å¦ä¸€ä¸ª <code>T</code>ã€‚</li>
<li><code>T* const ptr</code>ï¼šå¸¸é‡æŒ‡é’ˆ (const pointer)ã€‚<code>ptr</code> åˆå§‹åŒ–åä¸èƒ½æ”¹å˜ï¼Œå³ä¸èƒ½æŒ‡å‘å¦ä¸€ä¸ªåœ°å€ã€‚ä½†å¯ä»¥é€šè¿‡ <code>ptr</code> ä¿®æ”¹å®ƒæ‰€æŒ‡å‘çš„ <code>T</code> å¯¹è±¡ï¼ˆå¦‚æœ <code>T</code> æœ¬èº«ä¸æ˜¯ <code>const</code>ï¼‰ã€‚</li>
<li><code>const T* const ptr</code>ï¼šæŒ‡å‘å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆã€‚<code>ptr</code> ä¸èƒ½æ”¹å˜ï¼Œä¹Ÿä¸èƒ½é€šè¿‡ <code>ptr</code> ä¿®æ”¹ <code>T</code> å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p><strong>è®¤ä¸ºé <code>const</code> æˆå‘˜å‡½æ•°åªè¦å®é™…ä¸Šä¸ä¿®æ”¹æ•°æ®ï¼Œå°±å¯ä»¥åœ¨ <code>const</code> å¯¹è±¡ä¸Šè°ƒç”¨</strong>ï¼šè¿™æ˜¯é”™è¯¯çš„ã€‚ç¼–è¯‘å™¨åªæ£€æŸ¥æˆå‘˜å‡½æ•°çš„å£°æ˜ã€‚å¦‚æœå‡½æ•°æ²¡æœ‰ <code>const</code> å…³é”®å­—ä¿®é¥°ï¼Œç¼–è¯‘å™¨å°±è®¤ä¸ºå®ƒä¼šä¿®æ”¹å¯¹è±¡ï¼Œä»è€Œç¦æ­¢åœ¨ <code>const</code> å¯¹è±¡æˆ–é€šè¿‡ <code>const</code> å¼•ç”¨/æŒ‡é’ˆè°ƒç”¨ã€‚</p>
</li>
<li><p><strong>å¿˜è®° <code>this</code> æŒ‡é’ˆçš„ç±»å‹</strong>ï¼šåœ¨é <code>const</code> æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹æ˜¯ <code>T* const</code> (å¯¹äºç±» <code>T</code>)ã€‚åœ¨ <code>const</code> æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹æ˜¯ <code>const T* const</code>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ <code>const</code> æˆå‘˜å‡½æ•°ä¸­ä¸èƒ½ä¿®æ”¹æˆå‘˜å˜é‡ï¼ˆé™¤éå®ƒä»¬è¢«å£°æ˜ä¸º <code>mutable</code>ï¼‰ï¼Œä¹Ÿä¸èƒ½è°ƒç”¨é <code>const</code> æˆå‘˜å‡½æ•°ã€‚</p>
</li>
<li><p><strong>å¯¹æŒ‰å€¼ä¼ é€’çš„è¯¯è§£</strong>ï¼šæ–°æ‰‹æœ‰æ—¶å¯èƒ½ä¼šæ‹…å¿ƒæŒ‰å€¼ä¼ é€’ <code>const</code> å¯¹è±¡æ—¶ï¼Œ<code>const</code> æ€§è´¨ä¼šä¸¢å¤±æˆ–å¯¼è‡´é—®é¢˜ã€‚å®é™…ä¸Šï¼ŒæŒ‰å€¼ä¼ é€’ä¼šåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼ŒåŸå§‹ <code>const</code> å¯¹è±¡å®Œå…¨ä¸å—å½±å“ï¼Œæ‰€ä»¥è¿™æ˜¯å®‰å…¨çš„ã€‚å‡½æ•°å†…éƒ¨çš„å‰¯æœ¬æ˜¯ä¸æ˜¯ <code>const</code> å–å†³äºå‡½æ•°å‚æ•°çš„å£°æ˜ã€‚</p>
</li>
<li><p><strong>è¿‡åº¦ä½¿ç”¨ <code>const_cast</code></strong>ï¼šè™½ç„¶ <code>const_cast</code> å¯ä»¥ç§»é™¤å¯¹è±¡çš„ <code>const</code> é™å®šï¼Œä½†è¿™é€šå¸¸æ˜¯å±é™©çš„ï¼Œåº”é¿å…ä½¿ç”¨ã€‚å¦‚æœåŸå§‹å¯¹è±¡ç¡®å®æ˜¯ <code>const</code> çš„ï¼Œé€šè¿‡ <code>const_cast</code> å»æ‰ <code>const</code> åå†å°è¯•ä¿®æ”¹å®ƒï¼Œä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</p>
</li>
</ol>
<hr>
<h2 id="6-ç¼–ç ç»ƒä¹ "><a href="#6-ç¼–ç ç»ƒä¹ " class="headerlink" title="6. ç¼–ç ç»ƒä¹ "></a>6. ç¼–ç ç»ƒä¹ </h2><p>ç°åœ¨ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç»ƒä¹ ã€‚ä¸‹é¢çš„ä»£ç ä¸­ï¼Œ<code>main</code> å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ª <code>const Dog</code> å¯¹è±¡ï¼Œå¹¶å°è¯•é€šè¿‡ä¸€ä¸ªæ¥å— <code>const Dog&amp;</code> çš„å‡½æ•°æ¥è°ƒç”¨å®ƒçš„ <code>print_info()</code> æ–¹æ³•ã€‚ç›®å‰ï¼Œè¿™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</p>
<p><strong>ä½ çš„ä»»åŠ¡æ˜¯ï¼š</strong> åªä¿®æ”¹ <code>Dog</code> ç±»çš„å®šä¹‰ï¼ˆç‰¹åˆ«æ˜¯ <code>print_info</code> å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ï¼‰ï¼Œä½¿å¾— <code>main</code> å‡½æ•°ä¸­çš„ <code>use_const_dog_ref</code> å‡½æ•°è°ƒç”¨èƒ½å¤ŸæˆåŠŸç¼–è¯‘å¹¶æ­£ç¡®æ‰“å°ç‹—ç‹—çš„ä¿¡æ¯ï¼Œ<strong>ä¸è¦</strong>ä¿®æ”¹ <code>main</code> å‡½æ•°æˆ– <code>use_const_dog_ref</code> å‡½æ•°çš„ä»»ä½•ä»£ç ï¼Œä¹Ÿ<strong>ä¸è¦</strong>ç§»é™¤ <code>dog1</code> çš„ <code>const</code> é™å®šç¬¦ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string_view&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Dog Class Definition ---</span></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> ä¿®æ”¹ Dog ç±»çš„ print_info æ–¹æ³•ï¼Œä½¿å…¶å¯ä»¥åœ¨ const å¯¹è±¡ä¸Šè¢«è°ƒç”¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::string_view name, <span class="keyword">int</span> age) : m_name(name.data(), name.length()), m_age(age) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" constructed.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸ªå‡½æ•°éœ€è¦è¢«ä¿®æ”¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> </span>&#123; <span class="comment">// &lt;- æ€è€ƒè¿™é‡Œéœ€è¦åŠ ä»€ä¹ˆ</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog Info: Name="</span> &lt;&lt; m_name &lt;&lt; <span class="string">", Age="</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_name</span><span class="params">(<span class="built_in">std</span>::string_view name)</span> </span>&#123;</span><br><span class="line">        m_name = name.data();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- ä¸è¦ä¿®æ”¹è¿™ä¸ªå‡½æ•° ---</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">use_const_dog_ref</span><span class="params">(<span class="keyword">const</span> Dog&amp; a_dog)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Inside use_const_dog_ref:\n"</span>;</span><br><span class="line">    a_dog.print_info(); <span class="comment">// &lt;- è¿™é‡Œåº”è¯¥èƒ½å¤ŸæˆåŠŸè°ƒç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- ä¸è¦ä¿®æ”¹ main å‡½æ•° ---</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"Max (const)"</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬å¸Œæœ›ä¸‹é¢çš„è°ƒç”¨èƒ½å¤Ÿå·¥ä½œ</span></span><br><span class="line">    use_const_dog_ref(dog1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸ºäº†å¯¹æ¯”ï¼Œä¸€ä¸ªé const å¯¹è±¡</span></span><br><span class="line">    <span class="function">Dog <span class="title">dog2</span><span class="params">(<span class="string">"Bella (non-const)"</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    <span class="comment">// dog2.print_info(); // è¿™ä¸ªæœ¬æ¥å°±èƒ½å·¥ä½œï¼Œä½†ä¸æ˜¯ç»ƒä¹ çš„é‡ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œ<code>print_info</code> å‡½æ•°åº”è¯¥å¦‚ä½•ä¿®æ”¹æ‰èƒ½åœ¨ <code>const Dog&amp; a_dog</code> ä¸Šè¢«è°ƒç”¨ã€‚å®Œæˆåï¼Œå°†ä½ ä¿®æ”¹åçš„ <code>Dog</code> ç±»å®šä¹‰å›å¤ç»™æˆ‘ã€‚</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>å›ç­”ä¹‹å‰æˆ‘é—®ä¸€ä¸‹ï¼Œ å¦‚æœæŒ‰å€¼ä¼ é€’ï¼Œ é‚£ä¹ˆå¦‚æœåŸæ¥çš„const å¯¹è±¡é‡Œå¦‚æœåŒ…å«const å‡½æ•°ï¼Œ é‚£ä¹ˆä¼ é€’åçš„Localå¯¹è±¡é‚£ä¸ªå‡½æ•°è¿˜æ˜¯Constå‡½æ•°ä¹ˆï¼Ÿ</p>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼å®ƒè§¦åŠäº† <code>const</code> æ­£ç¡®æ€§çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä»¥åŠç±»æˆå‘˜å‡½æ•°çš„ç‰¹æ€§ã€‚</p>
<p>åœ¨ä½ å°è¯•ç»ƒä¹ ä¹‹å‰ï¼Œæˆ‘å…ˆæ¥è§£ç­”ä½ çš„ç–‘é—®ï¼š</p>
<p><strong>é—®é¢˜ï¼š</strong> å¦‚æœæŒ‰å€¼ä¼ é€’ï¼Œé‚£ä¹ˆå¦‚æœåŸæ¥çš„ <code>const</code> å¯¹è±¡é‡Œå¦‚æœåŒ…å« <code>const</code> æˆå‘˜å‡½æ•° (const member function)ï¼Œé‚£ä¹ˆä¼ é€’åçš„ <code>local object</code> (å±€éƒ¨å¯¹è±¡) çš„é‚£ä¸ªæˆå‘˜å‡½æ•°è¿˜æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ä¹ˆï¼Ÿ</p>
<p><strong>å›ç­”ï¼š</strong></p>
<p>æ˜¯çš„ï¼Œé‚£ä¸ªæˆå‘˜å‡½æ•°<strong>ä¾ç„¶æ˜¯</strong>ä¸€ä¸ª <code>const</code> æˆå‘˜å‡½æ•°ã€‚</p>
<p>è®©æˆ‘è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼š</p>
<ol>
<li><p><strong>æˆå‘˜å‡½æ•°çš„ <code>const</code> å±æ€§æ˜¯ç±»å®šä¹‰çš„ä¸€éƒ¨åˆ†</strong>ï¼š<br>å½“ä½ åœ¨ç±»ä¸­å£°æ˜ä¸€ä¸ªæˆå‘˜å‡½æ•°æ—¶ï¼Œæ¯”å¦‚ <code>void print_info() const;</code>ï¼Œè¿™ä¸ª <code>const</code> å…³é”®å­—æ„å‘³ç€è¯¥å‡½æ•°æ‰¿è¯ºä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡çš„ä»»ä½•æˆå‘˜å˜é‡ï¼ˆé™¤éè¿™äº›æˆå‘˜å˜é‡è¢«å£°æ˜ä¸º <code>mutable</code>ï¼‰ã€‚è¿™ä¸ª <code>const</code> å±æ€§æ˜¯å‡½æ•°ç­¾å (function signature) çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯è¿™ä¸ªå‡½æ•°åœ¨ <code>Dog</code> ç±»ä¸­çš„å›ºæœ‰ç‰¹æ€§ã€‚å®ƒä¸ä¼šå› ä¸ºå¯¹è±¡æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼ˆæ˜¯åŸå§‹å¯¹è±¡è¿˜æ˜¯å‰¯æœ¬ï¼‰æˆ–å¯¹è±¡æœ¬èº«æ˜¯å¦ä¸º <code>const</code> è€Œæ”¹å˜å…¶â€œ<code>const</code> æˆå‘˜å‡½æ•°â€çš„èº«ä»½ã€‚</p>
</li>
<li><p><strong>æŒ‰å€¼ä¼ é€’åˆ›å»ºå‰¯æœ¬</strong>ï¼š<br>å½“ä½ å°†ä¸€ä¸ªå¯¹è±¡ï¼ˆæ— è®ºæ˜¯ <code>const</code> è¿˜æ˜¯é <code>const</code>ï¼‰æŒ‰å€¼ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°å†…éƒ¨ä¼šå¾—åˆ°è¿™ä¸ªå¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</p>
</li>
<li><p><strong>å‰¯æœ¬çš„ <code>const</code> çŠ¶æ€å–å†³äºå‡½æ•°å‚æ•°çš„å£°æ˜</strong>ï¼š</p>
<ul>
<li>å¦‚æœå‡½æ•°å‚æ•°æ˜¯ <code>void my_func(Dog local_dog)</code>ï¼Œé‚£ä¹ˆ <code>local_dog</code> è¿™ä¸ªå‰¯æœ¬æ˜¯<strong>é <code>const</code></strong> çš„ã€‚</li>
<li>å¦‚æœå‡½æ•°å‚æ•°æ˜¯ <code>void my_func(const Dog local_dog)</code>ï¼ˆè™½ç„¶æŒ‰å€¼ä¼ é€’ <code>const</code> å‰¯æœ¬ä¸å¸¸è§ï¼Œä½†è¯­æ³•ä¸Šæ˜¯å…è®¸çš„ï¼‰ï¼Œé‚£ä¹ˆ <code>local_dog</code> è¿™ä¸ªå‰¯æœ¬æ˜¯ <strong><code>const</code></strong> çš„ã€‚</li>
</ul>
</li>
<li><p><strong>åœ¨å‰¯æœ¬ä¸Šè°ƒç”¨æˆå‘˜å‡½æ•°</strong>ï¼š</p>
<ul>
<li><strong>æˆå‘˜å‡½æ•°æœ¬èº«çš„å®šä¹‰ä¸å˜</strong>ï¼š<code>Dog</code> ç±»ä¸­å®šä¹‰çš„ <code>print_info() const</code> å§‹ç»ˆæ˜¯ä¸€ä¸ª <code>const</code> æˆå‘˜å‡½æ•°ã€‚<code>Dog</code> ç±»ä¸­å®šä¹‰çš„ <code>set_name()</code> (å‡è®¾å®ƒä¸æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°) å§‹ç»ˆæ˜¯ä¸€ä¸ªé <code>const</code> æˆå‘˜å‡½æ•°ã€‚</li>
<li><strong>å¯è°ƒç”¨æ€§å–å†³äºå‰¯æœ¬çš„ <code>const</code> çŠ¶æ€</strong>ï¼š<ul>
<li>å¦‚æœå±€éƒ¨å‰¯æœ¬ <code>local_dog</code> æ˜¯<strong>é <code>const</code></strong> (ä¾‹å¦‚å‚æ•°æ˜¯ <code>Dog local_dog</code>)ï¼š<ul>
<li>ä½ å¯ä»¥è°ƒç”¨ <code>local_dog.print_info()</code>ï¼Œå› ä¸º <code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥è¢«é <code>const</code> å¯¹è±¡è°ƒç”¨ã€‚</li>
<li>ä½ ä¹Ÿå¯ä»¥è°ƒç”¨ <code>local_dog.set_name(&quot;NewName&quot;)</code>ï¼Œå› ä¸ºé <code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥è¢«é <code>const</code> å¯¹è±¡è°ƒç”¨ã€‚</li>
</ul>
</li>
<li>å¦‚æœå±€éƒ¨å‰¯æœ¬ <code>local_dog</code> æ˜¯ <strong><code>const</code></strong> (ä¾‹å¦‚å‚æ•°æ˜¯ <code>const Dog local_dog</code>)ï¼š<ul>
<li>ä½ å¯ä»¥è°ƒç”¨ <code>local_dog.print_info()</code>ï¼Œå› ä¸º <code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥è¢« <code>const</code> å¯¹è±¡è°ƒç”¨ã€‚</li>
<li>ä½ <strong>ä¸èƒ½</strong>è°ƒç”¨ <code>local_dog.set_name(&quot;NewName&quot;)</code>ï¼Œå› ä¸ºé <code>const</code> æˆå‘˜å‡½æ•°ä¸èƒ½è¢« <code>const</code> å¯¹è±¡è°ƒç”¨ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“ä¸€ä¸‹ä½ çš„é—®é¢˜ï¼š</strong><br>åŸå§‹çš„ <code>const</code> å¯¹è±¡æ‹¥æœ‰ä¸€äº›æˆå‘˜å‡½æ•°ï¼Œå…¶ä¸­ä¸€äº›è¢«å®šä¹‰ä¸º <code>const</code> æˆå‘˜å‡½æ•°ã€‚å½“ä½ æŒ‰å€¼ä¼ é€’è¿™ä¸ª <code>const</code> å¯¹è±¡æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ã€‚<br>å¯¹äºè¿™ä¸ªå‰¯æœ¬ï¼š</p>
<ul>
<li>é‚£äº›åœ¨ç±»å®šä¹‰ä¸­è¢«å£°æ˜ä¸º <code>const</code> çš„æˆå‘˜å‡½æ•°ï¼ˆä¾‹å¦‚ <code>print_info() const</code>ï¼‰å¯¹äºè¿™ä¸ªå‰¯æœ¬æ¥è¯´<strong>ä»ç„¶æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°</strong>ã€‚å®ƒä»¬çš„â€œèº«ä»½â€æ²¡æœ‰å˜ã€‚</li>
<li>å…³é”®åœ¨äºè¿™ä¸ªå‰¯æœ¬å¯¹è±¡æœ¬èº«æ˜¯ <code>const</code> è¿˜æ˜¯é <code>const</code>ã€‚å¦‚æœå‡½æ•°å‚æ•°æ˜¯ <code>Dog d</code>ï¼Œé‚£ä¹ˆå‰¯æœ¬ <code>d</code> æ˜¯é <code>const</code> çš„ï¼Œä½ å¯ä»¥å¯¹å®ƒè°ƒç”¨ <code>const</code> æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨é <code>const</code> æˆå‘˜å‡½æ•°ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œä¸€ä¸ªå‡½æ•°æ˜¯ä¸æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ï¼Œæ˜¯ç”±å®ƒåœ¨ç±»ä¸­çš„å£°æ˜å†³å®šçš„ï¼Œè€Œä¸æ˜¯ç”±å®ƒè¢«è°ƒç”¨çš„å¯¹è±¡å®ä¾‹æ˜¯å¦ä¸º <code>const</code> æˆ–æ˜¯å¦ä¸ºå‰¯æœ¬å†³å®šçš„ã€‚å¯¹è±¡å®ä¾‹çš„ <code>const</code> çŠ¶æ€å†³å®šäº†ä½ <em>èƒ½å¤Ÿ</em>åœ¨è¯¥å®ä¾‹ä¸Šè°ƒç”¨å“ªäº›ç±»å‹çš„æˆå‘˜å‡½æ•°ã€‚</p>
<p>å¸Œæœ›è¿™ä¸ªè§£é‡Šæ¸…æ¥šäº†ä½ çš„ç–‘é—®ï¼ç°åœ¨ä½ å¯ä»¥æ›´æœ‰ä¿¡å¿ƒåœ°å°è¯•é‚£ä¸ªç»ƒä¹ äº†ã€‚</p>
<hr>
<p>ç°åœ¨ï¼Œå›åˆ°æˆ‘ä»¬çš„ç»ƒä¹ ã€‚</p>
<p><strong>7. è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š</strong></p>
<p>è¯·ä½ æä¾›ä½ å¯¹ <code>Dog</code> ç±»çš„ä¿®æ”¹æ–¹æ¡ˆï¼Œç‰¹åˆ«æ˜¯ <code>print_info</code> å‡½æ•°ã€‚æˆ‘ä¼šæ ¹æ®ä½ çš„æ–¹æ¡ˆç»™å‡ºè¯„ä»·ã€‚</p>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰å®Œæˆï¼Œè¿™é‡Œæ˜¯æç¤ºï¼šä¸ºäº†è®© <code>print_info()</code> å¯ä»¥åœ¨ä¸€ä¸ª <code>const Dog&amp;</code> (å¸¸é‡ç‹—çš„å¼•ç”¨) ä¸Šè¢«è°ƒç”¨ï¼Œä½ éœ€è¦å‘ç¼–è¯‘å™¨ä¿è¯ <code>print_info()</code> å‡½æ•°ä¸ä¼šä¿®æ”¹ <code>Dog</code> å¯¹è±¡çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚</p>
<p>ç­‰ä½ å‡†å¤‡å¥½åï¼Œè¯·åˆ†äº«ä½ çš„ä»£ç ã€‚</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-2"><a href="#ğŸ§‘â€ğŸ’»-User-2" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><h1 id="include"><a href="#include" class="headerlink" title="include "></a>include <iostream></iostream></h1><h1 id="include-1"><a href="#include-1" class="headerlink" title="include "></a>include <string></string></h1><h1 id="include-2"><a href="#include-2" class="headerlink" title="include "></a>include <string_view></string_view></h1><p>// â€”- Dog Class Definition â€”-<br>// TODO: ä¿®æ”¹ Dog ç±»çš„ print_info æ–¹æ³•ï¼Œä½¿å…¶å¯ä»¥åœ¨ const å¯¹è±¡ä¸Šè¢«è°ƒç”¨<br>class Dog {<br>private:<br>    std::string m_name;<br>    int m_age;</p>
<p>public:<br>    Dog(std::string_view name, int age) : m_name(name.data(), name.length()), m_age(age) {<br>        std::cout &lt;&lt; â€œDog \â€â€ &lt;&lt; m_name &lt;&lt; â€œ\â€ constructed.\nâ€;<br>    }</p>
<pre><code>// è¿™ä¸ªå‡½æ•°éœ€è¦è¢«ä¿®æ”¹
void print_info() const{ // &lt;- æ€è€ƒè¿™é‡Œéœ€è¦åŠ ä»€ä¹ˆ
    std::cout &lt;&lt; &quot;Dog Info: Name=&quot; &lt;&lt; m_name &lt;&lt; &quot;, Age=&quot; &lt;&lt; m_age &lt;&lt; std::endl;
}

void set_name(std::string_view name) {
    m_name = name.data();
}
</code></pre><p>};</p>
<p>// â€”- ä¸è¦ä¿®æ”¹è¿™ä¸ªå‡½æ•° â€”-<br>void use_const_dog_ref(const Dog&amp; a_dog) {<br>    std::cout &lt;&lt; â€œInside use_const_dog_ref:\nâ€;<br>    a_dog.print_info(); // &lt;- è¿™é‡Œåº”è¯¥èƒ½å¤ŸæˆåŠŸè°ƒç”¨<br>}</p>
<p>// â€”- ä¸è¦ä¿®æ”¹ main å‡½æ•° â€”-<br>int main() {<br>    const Dog dog1(â€œMax (const)â€, 5);</p>
<pre><code>// æˆ‘ä»¬å¸Œæœ›ä¸‹é¢çš„è°ƒç”¨èƒ½å¤Ÿå·¥ä½œ
use_const_dog_ref(dog1);

// ä¸ºäº†å¯¹æ¯”ï¼Œä¸€ä¸ªé const å¯¹è±¡
Dog dog2(&quot;Bella (non-const)&quot;, 2);
// dog2.print_info(); // è¿™ä¸ªæœ¬æ¥å°±èƒ½å·¥ä½œï¼Œä½†ä¸æ˜¯ç»ƒä¹ çš„é‡ç‚¹

return 0;
</code></pre><p>}</p>
<hr>
<h2 id="ğŸ¤–-Assistant-2"><a href="#ğŸ¤–-Assistant-2" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¤ªæ£’äº†ï¼ä½ çš„ä¿®æ”¹å®Œå…¨æ­£ç¡®ï¼</p>
<h2 id="7-è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š"><a href="#7-è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š" class="headerlink" title="7. è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š"></a>7. è¯„ä»·ä½ çš„è§£ç­”å¹¶ç»™å‡ºæ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Š</h2><p><strong>ä½ çš„è§£ç­”è¯„ä»·ï¼š</strong></p>
<ul>
<li><strong>å¾—åˆ†ï¼š10/10</strong></li>
<li><strong>è¯„ä»·ï¼š</strong> ä½ å‡†ç¡®åœ°æ‰¾åˆ°äº†é—®é¢˜çš„å…³é”®ï¼Œå¹¶åœ¨ <code>print_info</code> å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰æœ«å°¾æ·»åŠ äº† <code>const</code> å…³é”®å­—ã€‚è¿™æ­£æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ­£ç¡®æ–¹æ³•ã€‚åšå¾—éå¸¸å¥½ï¼</li>
</ul>
<p><strong>æ­£ç¡®ç­”æ¡ˆå’Œè§£é‡Šï¼š</strong></p>
<p>ä½ çš„ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string_view&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// --- Dog Class Definition ---</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">    <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::string_view name, <span class="keyword">int</span> age) : m_name(name.data(), name.length()), m_age(age) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog \""</span> &lt;&lt; m_name &lt;&lt; <span class="string">"\" constructed.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­£ç¡®çš„ä¿®æ”¹ï¼šåœ¨å‡½æ•°å£°æ˜æœ«å°¾æ·»åŠ  const</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">// &lt;--- åœ¨è¿™é‡Œæ·»åŠ äº† const</span></span><br><span class="line">        <span class="comment">// åœ¨ const æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œæˆå‘˜å˜é‡ m_name å’Œ m_age è¢«è§†ä¸º const</span></span><br><span class="line">        <span class="comment">// å› æ­¤ï¼Œä½ ä¸èƒ½åœ¨è¿™é‡Œåšç±»ä¼¼ m_age++; çš„æ“ä½œï¼ˆé™¤é m_age æ˜¯ mutableï¼‰</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog Info: Name="</span> &lt;&lt; m_name &lt;&lt; <span class="string">", Age="</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_name</span><span class="params">(<span class="built_in">std</span>::string_view name)</span> </span>&#123;</span><br><span class="line">        m_name = name.data();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- ä¸è¦ä¿®æ”¹è¿™ä¸ªå‡½æ•° ---</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">use_const_dog_ref</span><span class="params">(<span class="keyword">const</span> Dog&amp; a_dog)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Inside use_const_dog_ref:\n"</span>;</span><br><span class="line">    a_dog.print_info(); <span class="comment">// &lt;- ç°åœ¨è¿™é‡Œå¯ä»¥æˆåŠŸè°ƒç”¨äº†ï¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --- ä¸è¦ä¿®æ”¹ main å‡½æ•° ---</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"Max (const)"</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬å¸Œæœ›ä¸‹é¢çš„è°ƒç”¨èƒ½å¤Ÿå·¥ä½œ</span></span><br><span class="line">    use_const_dog_ref(dog1); <span class="comment">// ç¼–è¯‘é€šè¿‡ï¼Œè¿è¡Œæ­£å¸¸</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Dog <span class="title">dog2</span><span class="params">(<span class="string">"Bella (non-const)"</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    dog2.print_info(); <span class="comment">// é const å¯¹è±¡ä¹Ÿå¯ä»¥è°ƒç”¨ const æˆå‘˜å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·ä¿®æ”¹æœ‰æ•ˆï¼Ÿ</strong></p>
<ol>
<li><p><strong><code>const</code> æˆå‘˜å‡½æ•° (Const Member Function)ï¼š</strong><br>å½“ä½ åœ¨ä¸€ä¸ªæˆå‘˜å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰åé¢åŠ ä¸Š <code>const</code> å…³é”®å­—æ—¶ï¼Œä½ æ˜¯åœ¨å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªâ€œ<code>const</code> æˆå‘˜å‡½æ•°â€ã€‚</p>
</li>
<li><p><strong>å¯¹ <code>this</code> æŒ‡é’ˆçš„å½±å“ï¼š</strong></p>
<ul>
<li>åœ¨<strong>é <code>const</code></strong> æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹æ˜¯ <code>Dog* const</code> (ä¸€ä¸ªæŒ‡å‘ <code>Dog</code> ç±»å‹çš„å¸¸é‡æŒ‡é’ˆï¼ŒæŒ‡é’ˆæœ¬èº«ä¸èƒ½è¢«ä¿®æ”¹æŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œä½†æŒ‡å‘çš„å¯¹è±¡å¯ä»¥è¢«ä¿®æ”¹)ã€‚</li>
<li>åœ¨<strong><code>const</code></strong> æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹å˜ä¸º <code>const Dog* const</code> (ä¸€ä¸ªæŒ‡å‘ <code>const Dog</code> ç±»å‹çš„å¸¸é‡æŒ‡é’ˆï¼ŒæŒ‡é’ˆæœ¬èº«ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå¹¶ä¸”å®ƒæŒ‡å‘çš„å¯¹è±¡ä¹Ÿè¢«è§†ä¸º <code>const</code>ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ <code>this</code> ä¿®æ”¹å¯¹è±¡çš„æˆå‘˜å˜é‡)ã€‚</li>
</ul>
</li>
<li><p><strong><code>const</code> å¯¹è±¡çš„å…¼å®¹æ€§ï¼š</strong></p>
<ul>
<li>å½“ä½ æœ‰ä¸€ä¸ª <code>const Dog dog1;</code> æˆ–è€… <code>const Dog&amp; a_dog;</code> æ—¶ï¼Œä½ åªèƒ½è°ƒç”¨é‚£äº›ä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æˆå‘˜å‡½æ•°ã€‚</li>
<li>ç¼–è¯‘å™¨é€šè¿‡æ£€æŸ¥æˆå‘˜å‡½æ•°æ˜¯å¦è¢«å£°æ˜ä¸º <code>const</code> æ¥åˆ¤æ–­è¿™ä¸€ç‚¹ã€‚å¦‚æœä¸€ä¸ªæˆå‘˜å‡½æ•°è¢«å£°æ˜ä¸º <code>const</code>ï¼Œç¼–è¯‘å™¨å°±è®¤ä¸ºè°ƒç”¨å®ƒæ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒæ‰¿è¯ºä¸ä¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ã€‚</li>
<li>å¦‚æœ <code>print_info()</code> æ²¡æœ‰ <code>const</code> ä¿®é¥°ï¼Œç¼–è¯‘å™¨ä¼šè®¤ä¸ºå®ƒå¯èƒ½ä¼šä¿®æ”¹å¯¹è±¡ï¼ˆå› ä¸º <code>this</code> æ˜¯ <code>Dog*</code> ç±»å‹ï¼‰ï¼Œå› æ­¤ä¸å…è®¸åœ¨ <code>const Dog</code> å¯¹è±¡ä¸Šè°ƒç”¨å®ƒã€‚</li>
<li>é€šè¿‡å°† <code>print_info()</code> å£°æ˜ä¸º <code>void print_info() const</code>ï¼Œä½ æ˜ç¡®å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œè¿™ä¸ªå‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„ä»»ä½•æˆå‘˜ï¼ˆé™¤éå®ƒä»¬æ˜¯ <code>mutable</code> çš„ï¼‰ã€‚â€å› æ­¤ï¼Œç¼–è¯‘å™¨å…è®¸åœ¨ <code>const Dog</code> å¯¹è±¡ï¼ˆå¦‚ <code>dog1</code>ï¼‰æˆ–é€šè¿‡ <code>const Dog&amp;</code> (å¸¸é‡å¼•ç”¨)ï¼ˆå¦‚ <code>a_dog</code>ï¼‰è°ƒç”¨ <code>print_info() const</code>ã€‚</li>
</ul>
</li>
<li><p><strong>é <code>const</code> å¯¹è±¡ä¹Ÿå¯ä»¥è°ƒç”¨ <code>const</code> æˆå‘˜å‡½æ•°ï¼š</strong><br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé <code>const</code> å¯¹è±¡ï¼ˆå¦‚ <code>dog2</code>ï¼‰ä¹Ÿå¯ä»¥è°ƒç”¨ <code>const</code> æˆå‘˜å‡½æ•°ã€‚è¿™æ˜¯å®Œå…¨å®‰å…¨çš„ï¼Œå› ä¸º <code>const</code> æˆå‘˜å‡½æ•°åªæ˜¯æ‰¿è¯ºä¸ä¿®æ”¹å¯¹è±¡ï¼Œè¿™å¯¹é <code>const</code> å¯¹è±¡æ¥è¯´ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ“ä½œã€‚</p>
</li>
</ol>
<p>é€šè¿‡è¿™ä¸ªä¿®æ”¹ï¼Œ<code>Dog</code> ç±»å˜å¾—æ›´åŠ  <code>const</code> æ­£ç¡® (<code>const-correct</code>)ï¼Œä½¿å¾— <code>const</code> å¯¹è±¡ä¹Ÿèƒ½å‘æŒ¥å…¶åº”æœ‰çš„â€œåªè¯»â€ä½œç”¨ï¼Œè€Œä¸æ˜¯å˜å¾—â€œæ— ç”¨â€ã€‚</p>
<hr>
<h2 id="8-æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®"><a href="#8-æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®" class="headerlink" title="8. æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®"></a>8. æ‰©å±•é—®é¢˜ä¸è°ƒæŸ¥å»ºè®®</h2><p>ç°åœ¨ä½ å·²ç»æŒæ¡äº† <code>const</code> å¯¹è±¡å’Œ <code>const</code> æˆå‘˜å‡½æ•°çš„åŸºç¡€ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¯ä»¥è¿›ä¸€æ­¥æ¢ç´¢å’Œæ€è€ƒçš„æ–¹å‘ï¼š</p>
<ol>
<li><p><strong><code>mutable</code> å…³é”®å­—ï¼š</strong></p>
<ul>
<li>äº†è§£ <code>mutable</code> (å¯å˜çš„) å…³é”®å­—çš„ç”¨é€”ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå³ä½¿åœ¨ä¸€ä¸ª <code>const</code> æˆå‘˜å‡½æ•°ä¸­ï¼Œä½ å¯èƒ½ä¹Ÿéœ€è¦ä¿®æ”¹æŸä¸ªç‰¹å®šçš„æˆå‘˜å˜é‡ï¼ˆä¾‹å¦‚ï¼Œç”¨äºç¼“å­˜è®¡ç®—ç»“æœæˆ–è°ƒè¯•çš„è®¡æ•°å™¨ï¼Œè¿™äº›ä¿®æ”¹ä¸å½±å“å¯¹è±¡çš„å¤–éƒ¨å¯è§çŠ¶æ€ï¼‰ã€‚<code>mutable</code> å…³é”®å­—å…è®¸ä½ åœ¨ <code>const</code> æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹è¢«å®ƒä¿®é¥°çš„æˆå‘˜å˜é‡ã€‚</li>
<li><strong>æ€è€ƒï¼š</strong> ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ <code>mutable</code> æ˜¯åˆé€‚çš„ï¼Ÿä»€ä¹ˆæ—¶å€™åº”è¯¥é¿å…ï¼Ÿ</li>
</ul>
</li>
<li><p><strong><code>const</code> é‡è½½ (Const Overloading)ï¼š</strong></p>
<ul>
<li>ä¸€ä¸ªç±»å¯ä»¥æ‹¥æœ‰ä¸¤ä¸ªåŒåæˆå‘˜å‡½æ•°ï¼Œå®ƒä»¬ä»…åœ¨ <code>const</code> é™å®šç¬¦ä¸Šæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼š<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ResourceType&amp; <span class="title">get_resource</span><span class="params">()</span></span>;       <span class="comment">// é const ç‰ˆæœ¬</span></span><br><span class="line">    <span class="function"><span class="keyword">const</span> ResourceType&amp; <span class="title">get_resource</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// const ç‰ˆæœ¬</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></li>
<li>å½“å¯¹è±¡æ˜¯ <code>const</code> æ—¶ï¼Œä¼šè°ƒç”¨ <code>const</code> ç‰ˆæœ¬ï¼›å½“å¯¹è±¡æ˜¯é <code>const</code> æ—¶ï¼Œä¼šè°ƒç”¨é <code>const</code> ç‰ˆæœ¬ã€‚</li>
<li><strong>æ€è€ƒï¼š</strong> è¿™ç§é‡è½½åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹æœ‰ç”¨ï¼Ÿå®ƒå¦‚ä½•å¸®åŠ©æˆ‘ä»¬ç¼–å†™æ›´çµæ´»å’Œå®‰å…¨çš„ä»£ç ï¼Ÿï¼ˆæç¤ºï¼šè€ƒè™‘è¿”å›å¼•ç”¨çš„æƒ…å†µï¼‰</li>
</ul>
</li>
<li><p><strong>é€»è¾‘ <code>const</code> vs ä½ <code>const</code> (Logical Constness vs. Bitwise Constness)ï¼š</strong></p>
<ul>
<li><strong>ä½ <code>const</code> (Bitwise constness)</strong>ï¼šæŒ‡æˆå‘˜å‡½æ•°ä¸ä¿®æ”¹å¯¹è±¡çš„ä»»ä½•ä¸€ä¸ªå­—èŠ‚ï¼ˆé™¤äº† <code>mutable</code> æˆå‘˜ï¼‰ã€‚è¿™æ˜¯ç¼–è¯‘å™¨é€šå¸¸å¼ºåˆ¶æ‰§è¡Œçš„ã€‚</li>
<li><strong>é€»è¾‘ <code>const</code> (Logical constness)</strong>ï¼šæŒ‡æˆå‘˜å‡½æ•°ä¸ä¿®æ”¹å¯¹è±¡çš„â€œæŠ½è±¡çŠ¶æ€â€æˆ–â€œå¤–éƒ¨å¯è§çŠ¶æ€â€ï¼Œå³ä½¿å®ƒå¯èƒ½ä¿®æ”¹äº†æŸäº›å†…éƒ¨çš„ã€éå…³é”®çš„å­—èŠ‚ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ <code>mutable</code> æˆå‘˜æˆ–é€šè¿‡æŒ‡é’ˆä¿®æ”¹äº†å…¶ä»–éå¯¹è±¡è‡ªèº«æ‹¥æœ‰çš„æ•°æ®ï¼‰ã€‚</li>
<li><strong>æ€è€ƒï¼š</strong> <code>const</code> æˆå‘˜å‡½æ•°ä¿è¯çš„æ˜¯å“ªä¸€ç§ <code>const</code>ï¼Ÿ<code>mutable</code> åœ¨è¿™é‡Œæ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ</li>
</ul>
</li>
<li><p><strong><code>const</code> åœ¨è¿­ä»£å™¨ (iterators) ä¸­çš„åº”ç”¨ï¼š</strong></p>
<ul>
<li>STL (æ ‡å‡†æ¨¡æ¿åº“) å®¹å™¨æä¾›äº†ä¸åŒç±»å‹çš„è¿­ä»£å™¨ï¼Œä¾‹å¦‚ <code>iterator</code> å’Œ <code>const_iterator</code>ã€‚</li>
<li><strong>è°ƒæŸ¥ï¼š</strong> <code>const_iterator</code> æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå®ƒä¸ <code>const</code> æˆå‘˜å‡½æ•°å’Œ <code>const</code> å¯¹è±¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦ <code>const_iterator</code>ï¼Ÿ</li>
</ul>
</li>
<li><p><strong>åœ¨ä½ çš„é¡¹ç›®ä¸­è´¯å½» <code>const</code> æ­£ç¡®æ€§ï¼š</strong></p>
<ul>
<li>å°è¯•å›é¡¾ä½ ä¹‹å‰å†™çš„æˆ–çœ‹åˆ°çš„ C++ ä»£ç ï¼Œæ€è€ƒå“ªäº›åœ°æ–¹å¯ä»¥åº”ç”¨ <code>const</code> æ¥æé«˜ä»£ç çš„å¥å£®æ€§å’Œå¯è¯»æ€§ã€‚å…»æˆåœ¨åˆé€‚çš„åœ°æ–¹ä½¿ç”¨ <code>const</code> çš„ä¹ æƒ¯ï¼ŒåŒ…æ‹¬ï¼š<ul>
<li>å°†ä¸ä¼šè¢«ä¿®æ”¹çš„å˜é‡å£°æ˜ä¸º <code>const</code>ã€‚</li>
<li>å°†ä¸ä¼šä¿®æ”¹æ‰€å¼•ç”¨æˆ–æ‰€æŒ‡å‘æ•°æ®çš„æŒ‡é’ˆ/å¼•ç”¨å‚æ•°å£°æ˜ä¸º <code>const T*</code> æˆ– <code>const T&amp;</code>ã€‚</li>
<li>å°†ä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æˆå‘˜å‡½æ•°å£°æ˜ä¸º <code>const</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>é€šè¿‡æ¢ç´¢è¿™äº›é—®é¢˜ï¼Œä½ å°†å¯¹ C++ ä¸­çš„ <code>const</code> æœ‰æ›´æ·±å…¥å’Œå…¨é¢çš„ç†è§£ã€‚ç»§ç»­åŠªåŠ›ï¼Œä½ åšå¾—å¾ˆå¥½ï¼</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Function/">Function    </a><a class="post-meta__tags" href="/tags/Object/">Object    </a><a class="post-meta__tags" href="/tags/Parameter/">Parameter    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/286%20-%20const%20%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98%E4%B8%8E%E6%8C%87%E9%92%88%E5%BC%95%E7%94%A8%E8%AE%BF%E9%97%AE/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/297%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/return type for lambda function template/" title="return type for lambda function template"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">return type for lambda function template</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/258 - Non type template parameters/" title="258 - Non type template parameters"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">258 - Non type template parameters</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/259 - Auto Function Templates/" title="259 - Auto Function Templates"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">259 - Auto Function Templates</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/265 - using concept/" title="265 - using concept"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">265 - using concept</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/268 - Combining concepts/" title="268 - Combining concepts"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">268 - Combining concepts</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶/" title="283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>