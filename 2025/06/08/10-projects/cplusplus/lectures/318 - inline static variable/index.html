<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>318 - inline static variable | Bear's dream</title><meta name="description" content="318 - inline static variable"><meta name="keywords" content="Cpp,Coding,Tutorial,Development,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="318 - inline static variable"><meta name="twitter:description" content="318 - inline static variable"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="318 - inline static variable"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/318%20-%20inline%20static%20variable/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="318 - inline static variable"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/318%20-%20inline%20static%20variable/"><link rel="prev" title="313 - friend of class" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/313%20-%20friend%20of%20class/"><link rel="next" title="320 - cppæˆå‘˜å¸¸é‡ pre cpp17" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">152</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">20</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#318-Inline-Static-Variable"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">318 - Inline Static Variable</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-è¿›é˜¶ï¼šæ·±å…¥ç†è§£-inline-static-æˆå‘˜å˜é‡"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">C++ è¿›é˜¶ï¼šæ·±å…¥ç†è§£ inline static æˆå‘˜å˜é‡</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-è¯¦ç»†è®²è§£-Detailed-Explanation"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">1. è¯¦ç»†è®²è§£ (Detailed Explanation)</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-static-æˆå‘˜å˜é‡å›é¡¾"><span class="toc_mobile_items-number">1.4.1.</span> <span class="toc_mobile_items-text">1.1 static æˆå‘˜å˜é‡å›é¡¾</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-2-â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€-One-Definition-Rule-ODR"><span class="toc_mobile_items-number">1.4.2.</span> <span class="toc_mobile_items-text">1.2 â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ (One Definition Rule, ODR)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-3-inline-static-æˆå‘˜å˜é‡çš„å¼•å…¥-C-17"><span class="toc_mobile_items-number">1.4.3.</span> <span class="toc_mobile_items-text">1.3 inline static æˆå‘˜å˜é‡çš„å¼•å…¥ (C++17)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-4-inline-å…³é”®å­—çš„ä½œç”¨"><span class="toc_mobile_items-number">1.4.4.</span> <span class="toc_mobile_items-text">1.4 inline å…³é”®å­—çš„ä½œç”¨</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-5-C-ç‰ˆæœ¬å…¼å®¹æ€§"><span class="toc_mobile_items-number">1.4.5.</span> <span class="toc_mobile_items-text">1.5 C++ ç‰ˆæœ¬å…¼å®¹æ€§</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-ä»£ç ç¤ºä¾‹-Code-Example"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2. ä»£ç ç¤ºä¾‹ (Code Example)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-é—®ç­”é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">3. é—®ç­”é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-å¸¸è§è¯¯è§£ä¸é”™è¯¯-Common-Misunderstandings-and-Mistakes"><span class="toc_mobile_items-number">1.7.</span> <span class="toc_mobile_items-text">4. å¸¸è§è¯¯è§£ä¸é”™è¯¯ (Common Misunderstandings and Mistakes)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise"><span class="toc_mobile_items-number">1.8.</span> <span class="toc_mobile_items-text">5. ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#318-Inline-Static-Variable"><span class="toc-number">1.</span> <span class="toc-text">318 - Inline Static Variable</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-è¿›é˜¶ï¼šæ·±å…¥ç†è§£-inline-static-æˆå‘˜å˜é‡"><span class="toc-number">1.3.</span> <span class="toc-text">C++ è¿›é˜¶ï¼šæ·±å…¥ç†è§£ inline static æˆå‘˜å˜é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-è¯¦ç»†è®²è§£-Detailed-Explanation"><span class="toc-number">1.4.</span> <span class="toc-text">1. è¯¦ç»†è®²è§£ (Detailed Explanation)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-static-æˆå‘˜å˜é‡å›é¡¾"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.1 static æˆå‘˜å˜é‡å›é¡¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€-One-Definition-Rule-ODR"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.2 â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ (One Definition Rule, ODR)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-inline-static-æˆå‘˜å˜é‡çš„å¼•å…¥-C-17"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.3 inline static æˆå‘˜å˜é‡çš„å¼•å…¥ (C++17)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-inline-å…³é”®å­—çš„ä½œç”¨"><span class="toc-number">1.4.4.</span> <span class="toc-text">1.4 inline å…³é”®å­—çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-C-ç‰ˆæœ¬å…¼å®¹æ€§"><span class="toc-number">1.4.5.</span> <span class="toc-text">1.5 C++ ç‰ˆæœ¬å…¼å®¹æ€§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-ä»£ç ç¤ºä¾‹-Code-Example"><span class="toc-number">1.5.</span> <span class="toc-text">2. ä»£ç ç¤ºä¾‹ (Code Example)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-é—®ç­”é—ªå¡-QA-Flash-Cards"><span class="toc-number">1.6.</span> <span class="toc-text">3. é—®ç­”é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-å¸¸è§è¯¯è§£ä¸é”™è¯¯-Common-Misunderstandings-and-Mistakes"><span class="toc-number">1.7.</span> <span class="toc-text">4. å¸¸è§è¯¯è§£ä¸é”™è¯¯ (Common Misunderstandings and Mistakes)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise"><span class="toc-number">1.8.</span> <span class="toc-text">5. ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">318 - inline static variable</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/318%20-%20inline%20static%20variable/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/318%20-%20inline%20static%20variable/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="318-Inline-Static-Variable"><a href="#318-Inline-Static-Variable" class="headerlink" title="318 - Inline Static Variable"></a>318 - Inline Static Variable</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to learn about inline static member variables, and these are static membervariables you can set up and initialize them in the class definition itself.If you remember in the last lecture, we werenâ€™t able to do something like this, and if we did that,we did get a compiler error.If we marked the member variable as inline, we are telling the compiler to allow this syntax here tocompile.And what it is going to do is to constrain this member variable to the translation unit where this classis going to show up and thatâ€™s going to avoid problems and thatâ€™s going to be avoiding one definitionrule issues.And this is going to work.We canâ€™t really say much about how this is going to work under the hood.Weâ€™re going to have more details to understand that starting the next chapter.But for now, note that if you want to initialize your static member variable inside the class, youcan mark it as inline and it is going to work.Now that you know this, weâ€™re going to head over to Visual Studio code and play with this a littlemore.Okay.So here we are in our working folder.The current project is in line static member variables.Weâ€™re going to grab the files from the last project because we have a good starting point from there.So weâ€™re going to go there and grab everything except for the rooster file because weâ€™re going to bebuilding our own in this lecture and weâ€™re going to paste them in place and weâ€™re going to open thisup in Visual Studio code pretty quick.Okay, Weâ€™re going to open up our main CPP file and the point files, and I donâ€™t think we need thesome other translation file anymore so we can ditch it and really take this out.And letâ€™s see, letâ€™s see what we can do.We can delete that.We donâ€™t need this anymore.Letâ€™s remove this and we are going to go in our class and mark our static member variable as inlineand weâ€™re going to be allowed to initialize that like this.The syntax is going to work now because this guy is in line and the compiler knows that this is notgoing to be problematic.If we go in the main function, we can use our program like we have been using it in the last lectureand it is going to work.Weâ€™re going to see a one and a four printed out because thatâ€™s what we got in the last lecture.And the point count was basically how many points we have created in our program.At this point, we have one, which is this guy here.So we print a one, weâ€™re going to add three points that we store in this array.And if we print here, weâ€™re going to get four points.So letâ€™s build this with GCC.Weâ€™re going to do that.The world is good.We can clear and run Rooster.We should see a one and a four.And this is working exactly as we expect.This is really all I wanted you to see in this lecture that you can use inline static member variablesif you want to initialize your thanks in the class declaration itself.And another thing I should point out is that this was only possible starting in C plus plus 17.So if you are on C plus plus 14 or 11 or any other C plus plus version, this is not going to work,but we are using C plus plus 20 here.So this is working.So this is really all I had to share in this lecture.I hope you found it interesting.We are going to stop here in this one.In the next one, weâ€™re going to learn about static constants.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>ä½ å¥½ï¼å¾ˆé«˜å…´èƒ½å¸®åŠ©ä½ å­¦ä¹ C++ã€‚ä½œä¸ºä¸€ä¸ªC++å¼€å‘è€…å’Œä½ çš„è€å¸ˆï¼Œæˆ‘å°†ç”¨æœ€æ¸…æ™°ã€æœ€è¯¦ç»†çš„æ–¹å¼æ¥è®²è§£â€œinline static æˆå‘˜å˜é‡â€è¿™ä¸ªæ¦‚å¿µã€‚</p>
<hr>
<h2 id="C-è¿›é˜¶ï¼šæ·±å…¥ç†è§£-inline-static-æˆå‘˜å˜é‡"><a href="#C-è¿›é˜¶ï¼šæ·±å…¥ç†è§£-inline-static-æˆå‘˜å˜é‡" class="headerlink" title="C++ è¿›é˜¶ï¼šæ·±å…¥ç†è§£ inline static æˆå‘˜å˜é‡"></a><strong>C++ è¿›é˜¶ï¼šæ·±å…¥ç†è§£ <code>inline static</code> æˆå‘˜å˜é‡</strong></h2><p><strong>è¯¾ç¨‹æ‘˜è¦ï¼š</strong> æœ¬è¯¾ç¨‹å°†è¯¦ç»†è®²è§£C++17å¼•å…¥çš„ <code>inline static</code> æˆå‘˜å˜é‡ã€‚ä½ å°†å­¦ä¼šå¦‚ä½•åœ¨ç±»å®šä¹‰ä¸­ç›´æ¥åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Œä»¥åŠ <code>inline</code> å…³é”®å­—åœ¨æ­¤å¤„çš„ç‰¹æ®Šä½œç”¨ï¼Œä»è€Œé¿å…ä¼ ç»Ÿé™æ€æˆå‘˜åˆå§‹åŒ–ä¸­çš„â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ [One Definition Rule (ODR)] é—®é¢˜ã€‚</p>
<hr>
<h2 id="1-è¯¦ç»†è®²è§£-Detailed-Explanation"><a href="#1-è¯¦ç»†è®²è§£-Detailed-Explanation" class="headerlink" title="1. è¯¦ç»†è®²è§£ (Detailed Explanation)"></a><strong>1. è¯¦ç»†è®²è§£ (Detailed Explanation)</strong></h2><p>åœ¨C++ä¸­ï¼Œ<code>static</code> å…³é”®å­—æœ‰å¾ˆå¤šç”¨é€”ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯ä¿®é¥°ç±»çš„æˆå‘˜å˜é‡ã€‚æˆ‘ä»¬é¦–å…ˆæ¥å›é¡¾ä¸€ä¸‹ <code>static</code> æˆå‘˜å˜é‡ï¼Œç„¶åå¼•å…¥ <code>inline static</code> çš„æ¦‚å¿µã€‚</p>
<h3 id="1-1-static-æˆå‘˜å˜é‡å›é¡¾"><a href="#1-1-static-æˆå‘˜å˜é‡å›é¡¾" class="headerlink" title="1.1 static æˆå‘˜å˜é‡å›é¡¾"></a>1.1 <code>static</code> æˆå‘˜å˜é‡å›é¡¾</h3><ul>
<li><p><strong>å®šä¹‰ï¼š</strong> å½“ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡è¢«å£°æ˜ä¸º <code>static</code> æ—¶ï¼Œå®ƒå°±ä¸å†å±äºç±»çš„æŸä¸ªå…·ä½“å¯¹è±¡ï¼Œè€Œæ˜¯å±äºæ•´ä¸ªç±»æœ¬èº«ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>å…±äº«æ€§ï¼š</strong> æ‰€æœ‰çš„ç±»å¯¹è±¡å…±äº«åŒä¸€ä¸ª <code>static</code> æˆå‘˜å˜é‡çš„å‰¯æœ¬ã€‚æ— è®ºä½ åˆ›å»ºå¤šå°‘ä¸ªç±»çš„å¯¹è±¡ï¼Œå®ƒä»¬éƒ½è®¿é—®å’Œä¿®æ”¹çš„æ˜¯åŒä¸€ä¸ª <code>static</code> æˆå‘˜å˜é‡ã€‚</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸï¼š</strong> <code>static</code> æˆå‘˜å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚å®ƒåœ¨ç¨‹åºå¯åŠ¨æ—¶è¢«åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶è¢«é”€æ¯ï¼Œè€Œä¸æ˜¯åœ¨å¯¹è±¡åˆ›å»ºæ—¶åˆ›å»ºï¼Œå¯¹è±¡é”€æ¯æ—¶é”€æ¯ã€‚</li>
<li><strong>è®¿é—®æ–¹å¼ï¼š</strong> ä½ å¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—® <code>static</code> æˆå‘˜å˜é‡ï¼ˆä¾‹å¦‚ <code>ClassName::static_variable</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è®¿é—®ï¼Œä½†é€šå¸¸æ¨èé€šè¿‡ç±»åè®¿é—®ï¼Œå› ä¸ºå®ƒæ›´æ¸…æ™°åœ°è¡¨æ˜äº†å˜é‡çš„ç±»çº§åˆ«å±æ€§ã€‚</li>
</ul>
</li>
<li><p><strong>ä¼ ç»Ÿåˆå§‹åŒ–æ–¹å¼ï¼š</strong> åœ¨C++17ä¹‹å‰ï¼ˆä»¥åŠå¯¹äºé <code>const static</code> æ•´å‹æˆå‘˜å˜é‡ï¼‰ï¼Œ<code>static</code> æˆå‘˜å˜é‡é€šå¸¸ä¸èƒ½åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥åˆå§‹åŒ–ã€‚ä½ éœ€è¦åœ¨ç±»å®šä¹‰ä¹‹å¤–ï¼Œåœ¨ä¸€ä¸ª <code>æºæ–‡ä»¶</code> [.cpp file] ä¸­è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ã€‚</p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆä¸èƒ½åœ¨ç±»å†…éƒ¨ç›´æ¥åˆå§‹åŒ–ï¼Ÿ</strong> è¿™æ¶‰åŠåˆ°C++çš„â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ [One Definition Rule (ODR)]ã€‚å¦‚æœä¸€ä¸ª <code>static</code> æˆå‘˜å˜é‡åœ¨å¤´æ–‡ä»¶ä¸­è¢«å£°æ˜ï¼Œå¹¶åœ¨å¤´æ–‡ä»¶ä¸­ç›´æ¥åˆå§‹åŒ–ï¼Œé‚£ä¹ˆå½“è¿™ä¸ªå¤´æ–‡ä»¶è¢«å¤šä¸ª <code>æºæ–‡ä»¶</code> [source files] åŒ…å«æ—¶ï¼Œè¿™ä¸ª <code>static</code> æˆå‘˜å˜é‡å°±ä¼šåœ¨æ¯ä¸ª <code>æºæ–‡ä»¶</code> å¯¹åº”çš„ <code>ç¿»è¯‘å•å…ƒ</code> [translation unit] ä¸­éƒ½è¢«å®šä¹‰ä¸€æ¬¡ã€‚é“¾æ¥å™¨åœ¨å°è¯•å°†è¿™äº› <code>ç¿»è¯‘å•å…ƒ</code> ç»„åˆæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æ—¶ï¼Œå°±ä¼šå‘ç°åŒä¸€ä¸ªå˜é‡è¢«å®šä¹‰äº†å¤šæ¬¡ï¼Œä»è€Œå¯¼è‡´é“¾æ¥é”™è¯¯ã€‚</li>
</ul>
<p><strong>ä¸¾ä¾‹è¯´æ˜ä¼ ç»Ÿæ–¹å¼ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point();</span><br><span class="line">    <span class="comment">// å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> point_count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="comment">// åœ¨æºæ–‡ä»¶ä¸­å®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">int</span> Point::point_count = <span class="number">0</span>; <span class="comment">// å¿…é¡»åœ¨è¿™é‡Œåˆå§‹åŒ–</span></span><br><span class="line">Point::Point() &#123;</span><br><span class="line">    point_count++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¿™ç§æ–¹å¼ç¡®ä¿äº† <code>point_count</code> åœ¨æ•´ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ªå®šä¹‰ã€‚</p>
</li>
</ul>
<h3 id="1-2-â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€-One-Definition-Rule-ODR"><a href="#1-2-â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€-One-Definition-Rule-ODR" class="headerlink" title="1.2 â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ (One Definition Rule, ODR)"></a>1.2 â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ (One Definition Rule, ODR)</h3><p>â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ [One Definition Rule (ODR)] æ˜¯C++ç¼–ç¨‹ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µã€‚å®ƒè§„å®šäº†åœ¨æ•´ä¸ªç¨‹åºä¸­ï¼Œæ¯ä¸ªéå†…è” [non-inline] çš„å‡½æ•°ã€æ¯ä¸ªå˜é‡ã€æ¯ä¸ªç±»å‹ç­‰éƒ½åªèƒ½æœ‰å”¯ä¸€çš„å®šä¹‰ã€‚å¦‚æœåŒä¸€ä¸ªå®ä½“è¢«å®šä¹‰äº†å¤šæ¬¡ï¼Œå°±ä¼šå¯¼è‡´é“¾æ¥é”™è¯¯ã€‚å¯¹äº <code>static</code> æˆå‘˜å˜é‡è€Œè¨€ï¼Œä¼ ç»Ÿçš„åšæ³•å°±æ˜¯å°†å…¶å®šä¹‰å’Œåˆå§‹åŒ–æ”¾åœ¨ä¸€ä¸ª <code>.cpp</code> æ–‡ä»¶ä¸­ï¼Œä»¥ç¡®ä¿å®ƒåªè¢«å®šä¹‰ä¸€æ¬¡ã€‚</p>
<h3 id="1-3-inline-static-æˆå‘˜å˜é‡çš„å¼•å…¥-C-17"><a href="#1-3-inline-static-æˆå‘˜å˜é‡çš„å¼•å…¥-C-17" class="headerlink" title="1.3 inline static æˆå‘˜å˜é‡çš„å¼•å…¥ (C++17)"></a>1.3 <code>inline static</code> æˆå‘˜å˜é‡çš„å¼•å…¥ (C++17)</h3><p>ä»C++17æ ‡å‡†å¼€å§‹ï¼ŒC++å¼•å…¥äº†ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„ç‰¹æ€§ï¼šå…è®¸åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥åˆå§‹åŒ– <code>static</code> æˆå‘˜å˜é‡ï¼Œåªéœ€è¦ç»™å®ƒåŠ ä¸Š <code>inline</code> å…³é”®å­—ã€‚</p>
<ul>
<li><p><strong>è¯­æ³•ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ClassName.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassName</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">int</span> static_member_variable = initial_value;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong> å®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºé‚£äº›éœ€è¦åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰å’Œåˆå§‹åŒ–çš„ <code>static</code> æˆå‘˜å˜é‡ï¼Œæ¯”å¦‚åœ¨ <code>header-only</code> åº“ä¸­ã€‚é€šè¿‡ <code>inline static</code>ï¼Œä½ ä¸å†éœ€è¦é¢å¤–çš„ <code>.cpp</code> æ–‡ä»¶æ¥å®šä¹‰å’Œåˆå§‹åŒ–è¿™äº›é™æ€æˆå‘˜ã€‚</p>
</li>
</ul>
<h3 id="1-4-inline-å…³é”®å­—çš„ä½œç”¨"><a href="#1-4-inline-å…³é”®å­—çš„ä½œç”¨" class="headerlink" title="1.4 inline å…³é”®å­—çš„ä½œç”¨"></a>1.4 <code>inline</code> å…³é”®å­—çš„ä½œç”¨</h3><p>ä½ å¯èƒ½å·²ç»çŸ¥é“ï¼Œ<code>inline</code> å…³é”®å­—å¯ä»¥ç”¨äºå‡½æ•°ï¼Œä½œä¸ºå¯¹ç¼–è¯‘å™¨çš„â€œå»ºè®®â€ï¼Œå¸Œæœ›ç¼–è¯‘å™¨å°†å‡½æ•°ä½“ç›´æ¥å±•å¼€åˆ°è°ƒç”¨ç‚¹ï¼Œä»¥å‡å°‘å‡½æ•°è°ƒç”¨çš„å¼€é”€ã€‚ä½†å½“ <code>inline</code> ç”¨äº <code>static</code> æˆå‘˜å˜é‡æ—¶ï¼Œå®ƒçš„ä½œç”¨å®Œå…¨ä¸åŒï¼Œå®ƒä¸»è¦ä¸â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ [One Definition Rule (ODR)] ç›¸å…³ï¼š</p>
<ul>
<li><strong>å…è®¸åœ¨å¤šä¸ªç¿»è¯‘å•å…ƒä¸­å®šä¹‰ï¼š</strong> å½“ä¸€ä¸ª <code>static</code> æˆå‘˜å˜é‡è¢«æ ‡è®°ä¸º <code>inline</code> æ—¶ï¼Œç¼–è¯‘å™¨å°±çŸ¥é“ï¼Œå³ä½¿è¿™ä¸ªå˜é‡åœ¨å¤šä¸ª <code>ç¿»è¯‘å•å…ƒ</code> [translation units]ï¼ˆå³å¤šä¸ª <code>.cpp</code> æ–‡ä»¶ç¼–è¯‘åçš„ç›®æ ‡æ–‡ä»¶ï¼‰ä¸­éƒ½è¢«å®šä¹‰å’Œåˆå§‹åŒ–äº†ï¼Œå®ƒä¹Ÿæ˜¯åˆæ³•çš„ã€‚</li>
<li><strong>é“¾æ¥å™¨å¤„ç†ï¼š</strong> é“¾æ¥å™¨åœ¨æœ€ç»ˆé“¾æ¥æ—¶ä¼šç¡®ä¿æ‰€æœ‰è¿™äº›å®šä¹‰éƒ½æŒ‡å‘åŒä¸€ä¸ªå®é™…çš„å˜é‡å®ä¾‹ï¼Œä»è€Œé¿å…äº†é“¾æ¥é”™è¯¯ã€‚å®ƒå°±åƒç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ä¹‹é—´çš„ä¸€ä¸ªç‰¹æ®Šçº¦å®šï¼š<code>inline</code> çš„ <code>static</code> æˆå‘˜å˜é‡å…è®¸åœ¨å¤šä¸ªåœ°æ–¹å‡ºç°å®šä¹‰ï¼Œä½†æœ€ç»ˆåªä¼šè¢«â€œæŒ‘é€‰â€ä¸€ä¸ªå‡ºæ¥ä½¿ç”¨ã€‚</li>
</ul>
<p><strong>æ€»ç»“ä¸€ä¸‹ <code>inline static</code> çš„æ ¸å¿ƒï¼š</strong><br>å®ƒå…è®¸ä½ åœ¨ <code>å¤´æ–‡ä»¶</code> [header file] ä¸­çš„ç±»å®šä¹‰å†…éƒ¨å£°æ˜å’Œåˆå§‹åŒ– <code>static</code> æˆå‘˜å˜é‡ï¼ŒåŒæ—¶é¿å…äº†ä¼ ç»Ÿ <code>static</code> æˆå‘˜å˜é‡å¯èƒ½å¯¼è‡´çš„ <code>ODR</code> é—®é¢˜ã€‚è¿™ä½¿å¾—ä»£ç æ›´ç®€æ´ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå°å‹é¡¹ç›®æˆ– <code>header-only</code> åº“éå¸¸æœ‰ç”¨ã€‚</p>
<h3 id="1-5-C-ç‰ˆæœ¬å…¼å®¹æ€§"><a href="#1-5-C-ç‰ˆæœ¬å…¼å®¹æ€§" class="headerlink" title="1.5 C++ ç‰ˆæœ¬å…¼å®¹æ€§"></a>1.5 C++ ç‰ˆæœ¬å…¼å®¹æ€§</h3><p><strong>éå¸¸é‡è¦çš„ä¸€ç‚¹ï¼š</strong> <code>inline static</code> æˆå‘˜å˜é‡æ˜¯åœ¨ <strong>C++17</strong> æ ‡å‡†ä¸­å¼•å…¥çš„ã€‚è¿™æ„å‘³ç€å¦‚æœä½ ä½¿ç”¨C++11ã€C++14æˆ–æ›´æ—©çš„æ ‡å‡†ï¼Œè¿™ä¸ªç‰¹æ€§å°†ä¸å¯ç”¨ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚åœ¨å­¦ä¹ æˆ–ä½¿ç”¨æ—¶ï¼Œè¯·ç¡®ä¿ä½ çš„ç¼–è¯‘å™¨æ”¯æŒC++17æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆä¾‹å¦‚C++20ï¼‰ã€‚æœ¬è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‡è®¾ä½ ä½¿ç”¨çš„æ˜¯C++17æˆ–C++20ã€‚</p>
<h2 id="2-ä»£ç ç¤ºä¾‹-Code-Example"><a href="#2-ä»£ç ç¤ºä¾‹-Code-Example" class="headerlink" title="2. ä»£ç ç¤ºä¾‹ (Code Example)"></a><strong>2. ä»£ç ç¤ºä¾‹ (Code Example)</strong></h2><p>è®©æˆ‘ä»¬æ ¹æ®è¯¾ç¨‹å†…å®¹ï¼Œé€šè¿‡ä¸€ä¸ªå…·ä½“çš„ä»£ç ç¤ºä¾‹æ¥ç†è§£ <code>inline static</code> æˆå‘˜å˜é‡çš„ä½¿ç”¨ã€‚</p>
<p><strong>ç›®æ ‡ï¼š</strong> æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ª <code>Point</code> ç±»ï¼Œå¹¶ä½¿ç”¨ <code>inline static</code> æˆå‘˜å˜é‡ <code>point_count</code> æ¥è¿½è¸ªåˆ›å»ºäº†å¤šå°‘ä¸ª <code>Point</code> å¯¹è±¡ã€‚</p>
<p>é¦–å…ˆï¼Œè®¾ç½®ä½ çš„é¡¹ç›®ã€‚å‡è®¾ä½ æœ‰ä¸€ä¸ªåä¸º <code>inline_static_member_variables</code> çš„å·¥ä½œæ–‡ä»¶å¤¹ã€‚</p>
<p><strong>æ–‡ä»¶ç»“æ„ï¼š</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inline_static_member_variables&#x2F;</span><br><span class="line">â”œâ”€â”€ Point.h</span><br><span class="line">â””â”€â”€ main.cpp</span><br></pre></td></tr></table></figure></div></p>
<p><strong>Point.h (ç±»çš„å®šä¹‰)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once <span class="comment">// é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šæ¬¡åŒ…å«</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ï¼šæ¯åˆ›å»ºä¸€ä¸ªPointå¯¹è±¡ï¼Œå°±å¢åŠ point_count</span></span><br><span class="line">    Point(); </span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°ï¼šè™½ç„¶è¿™é‡Œæˆ‘ä»¬ä¸å‡å°‘point_countï¼Œä½†å¥½çš„å®è·µä¼šè€ƒè™‘èµ„æºé‡Šæ”¾</span></span><br><span class="line">    <span class="comment">// ~Point(); </span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å½“å‰Pointå¯¹è±¡çš„IDï¼ˆå‡è®¾æˆ‘ä»¬ç»™æ¯ä¸ªPointä¸€ä¸ªç‹¬ç‰¹çš„IDï¼‰</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">get_id</span><span class="params">()</span> <span class="keyword">const</span></span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// C++17ç‰¹æ€§ï¼šinline static æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥å£°æ˜å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// å®ƒæ˜¯ä¸€ä¸ªintç±»å‹ï¼Œåä¸º point_countï¼Œåˆå§‹å€¼ä¸º0</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">int</span> point_count = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_id; <span class="comment">// æ¯ä¸ªPointå¯¹è±¡çš„å”¯ä¸€ID</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>main.cpp (ç¨‹åºå…¥å£)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // ç”¨äºè¾“å…¥è¾“å‡º</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;   // ç”¨äºå­˜å‚¨Pointå¯¹è±¡</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span>  <span class="comment">// åŒ…å«Pointç±»çš„å®šä¹‰</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Pointç±»çš„å®ç°ï¼Œæ”¾åœ¨main.cppä¸­æˆ–å•ç‹¬çš„Point.cppä¸­</span></span><br><span class="line"><span class="comment">// ä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬ç›´æ¥æ”¾åœ¨main.cppä¸­ï¼ˆå®é™…é¡¹ç›®ä¸­Point.cppæ›´è§„èŒƒï¼‰</span></span><br><span class="line">Point::Point() &#123;</span><br><span class="line">    <span class="comment">// æ¯æ¬¡åˆ›å»ºPointå¯¹è±¡æ—¶ï¼Œm_id è®¾ç½®ä¸ºå½“å‰çš„ point_count å€¼ï¼Œç„¶å point_count é€’å¢</span></span><br><span class="line">    <span class="comment">// è¿™æ ·æ¯ä¸ªPointå¯¹è±¡éƒ½ä¼šæœ‰ä¸€ä¸ªä»0å¼€å§‹é€’å¢çš„å”¯ä¸€ID</span></span><br><span class="line">    m_id = point_count; </span><br><span class="line">    point_count++; <span class="comment">// æ¯æ¬¡æ„é€ å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé™æ€å˜é‡ point_count å°±ä¼šå¢åŠ </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Point::get_id</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"------------------------------------------"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ¬¢è¿æ¥åˆ° inline static æˆå‘˜å˜é‡å­¦ä¹ ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"------------------------------------------"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. åœ¨åˆ›å»ºä»»ä½•Pointå¯¹è±¡ä¹‹å‰ï¼Œæ‰“å° point_count</span></span><br><span class="line">    <span class="comment">// æ­¤æ—¶ point_count åº”è¯¥ä¸º 0 (æˆ–è€…å¦‚æœPoint::Point() å·²ç»åˆå§‹åŒ–äº†ç¬¬ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¸º1)</span></span><br><span class="line">    <span class="comment">// æ ¹æ®Point::Point()çš„å®ç°ï¼Œm_id = point_count; point_count++;</span></span><br><span class="line">    <span class="comment">// å¦‚æœ main å‡½æ•°ä¸­ç¬¬ä¸€ä¸ª Point æ˜¯ `Point p1;` é‚£ä¹ˆç¬¬ä¸€ä¸ª m_id ä¸º 0ï¼Œpoint_count å˜ä¸º 1</span></span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯ Point::point_count = 0; é‚£ä¹ˆ m_id ä¸º 0ã€‚</span></span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œæˆ‘ä»¬æ˜¯åˆ›å»ºäº†ä¸€ä¸ª Point å¯¹è±¡ p1ã€‚</span></span><br><span class="line">    Point p1; <span class="comment">// åˆ›å»ºç¬¬ä¸€ä¸ªPointå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»ºç¬¬ä¸€ä¸ªPointå¯¹è±¡åï¼Œå½“å‰ Point æ•°é‡: "</span> &lt;&lt; Point::point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„è®¡è¾“å‡º 1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. åˆ›å»ºä¸€ä¸ªPointå¯¹è±¡çš„æ•°ç»„ï¼Œå¹¶æ·»åŠ ä¸€äº›å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// è¿™å°†åˆ›å»º 3 ä¸ªé¢å¤–çš„Pointå¯¹è±¡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Point&gt; points_array;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</span><br><span class="line">        points_array.emplace_back(); <span class="comment">// ä½¿ç”¨emplace_backæ•ˆç‡æ›´é«˜</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å†åˆ›å»º3ä¸ªPointå¯¹è±¡åï¼Œå½“å‰ Point æ•°é‡: "</span> &lt;&lt; Point::point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„è®¡è¾“å‡º 1 + 3 = 4</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"------------------------------------------"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¤ºä¾‹å®Œæˆï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"------------------------------------------"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>ç¼–è¯‘å’Œè¿è¡Œï¼š</strong></p>
<ol>
<li><strong>ä¿å­˜æ–‡ä»¶ï¼š</strong> å°†ä¸Šè¿°ä»£ç åˆ†åˆ«ä¿å­˜ä¸º <code>Point.h</code> å’Œ <code>main.cpp</code>ã€‚</li>
<li><strong>æ‰“å¼€ç»ˆç«¯/å‘½ä»¤æç¤ºç¬¦ï¼š</strong> å¯¼èˆªåˆ°ä½ ä¿å­˜æ–‡ä»¶çš„ç›®å½•ã€‚</li>
<li><strong>ç¼–è¯‘ (ä½¿ç”¨ g++ æˆ– clang++)ï¼š</strong><br>ä¸ºäº†ç¡®ä¿ä½¿ç”¨C++17æˆ–æ›´é«˜æ ‡å‡†ï¼Œè¯·æ·»åŠ  <code>-std=c++17</code> æˆ– <code>-std=c++20</code> æ ‡å¿—ã€‚<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp -o my_program -std=c++17 -Wall -Wextra</span><br></pre></td></tr></table></figure></div>
<ul>
<li><code>g++</code>: C++ ç¼–è¯‘å™¨ï¼ˆå¦‚æœä½ åœ¨Windowsä¸Šï¼Œå¯èƒ½éœ€è¦å®‰è£… MinGW æˆ– MSYS2ï¼›åœ¨Linux/macOSä¸Šé€šå¸¸é¢„è£…ï¼‰ã€‚</li>
<li><code>main.cpp</code>: è¦ç¼–è¯‘çš„æºæ–‡ä»¶ã€‚</li>
<li><code>-o my_program</code>: æŒ‡å®šè¾“å‡ºå¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ä¸º <code>my_program</code> (Windowsä¸Šæ˜¯ <code>my_program.exe</code>)ã€‚</li>
<li><code>-std=c++17</code>: å¯ç”¨C++17æ ‡å‡†ã€‚</li>
<li><code>-Wall -Wextra</code>: å¯ç”¨æ‰€æœ‰å¸¸ç”¨è­¦å‘Šå’Œé¢å¤–è­¦å‘Šï¼Œå¸®åŠ©ä½ å†™å‡ºæ›´å¥å£®çš„ä»£ç ã€‚</li>
</ul>
</li>
<li><strong>è¿è¡Œï¼š</strong><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./my_program</span><br></pre></td></tr></table></figure></div>
<strong>é¢„æœŸè¾“å‡ºï¼š</strong><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">------------------------------------------</span><br><span class="line">æ¬¢è¿æ¥åˆ° inline static æˆå‘˜å˜é‡å­¦ä¹ ï¼</span><br><span class="line">------------------------------------------</span><br><span class="line">åˆ›å»ºç¬¬ä¸€ä¸ªPointå¯¹è±¡åï¼Œå½“å‰ Point æ•°é‡: 1</span><br><span class="line">å†åˆ›å»º3ä¸ªPointå¯¹è±¡åï¼Œå½“å‰ Point æ•°é‡: 4</span><br><span class="line">------------------------------------------</span><br><span class="line">ç¤ºä¾‹å®Œæˆï¼</span><br><span class="line">------------------------------------------</span><br></pre></td></tr></table></figure></div>
è¿™ä¸ªè¾“å‡ºä¸è¯¾ç¨‹ä¸­æåˆ°çš„é¢„æœŸè¾“å‡º <code>1</code> å’Œ <code>4</code> å®Œå…¨ä¸€è‡´ã€‚</li>
</ol>
<h2 id="3-é—®ç­”é—ªå¡-QA-Flash-Cards"><a href="#3-é—®ç­”é—ªå¡-QA-Flash-Cards" class="headerlink" title="3. é—®ç­”é—ªå¡ (QA Flash Cards)"></a><strong>3. é—®ç­”é—ªå¡ (QA Flash Cards)</strong></h2><p><strong>Q1:</strong> <code>inline static</code> æˆå‘˜å˜é‡å’Œæ™®é€šçš„ <code>static</code> æˆå‘˜å˜é‡åœ¨å£°æ˜å’Œåˆå§‹åŒ–ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ<br><strong>A1:</strong> æ™®é€šçš„ <code>static</code> æˆå‘˜å˜é‡é€šå¸¸åœ¨ç±»å®šä¹‰å†…éƒ¨å£°æ˜ï¼Œä½†åœ¨ç±»å®šä¹‰å¤–éƒ¨çš„ä¸€ä¸ªæºæ–‡ä»¶ä¸­å®šä¹‰å¹¶åˆå§‹åŒ–ï¼ˆå› ä¸ºè¦éµå®ˆODRï¼‰ã€‚è€Œ <code>inline static</code> æˆå‘˜å˜é‡å…è®¸åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥å£°æ˜å¹¶åˆå§‹åŒ–ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å¤šä¸ªç¿»è¯‘å•å…ƒä¸­å‡ºç°ï¼Œé“¾æ¥å™¨ä¼šå¤„ç†å¥½ ODR é—®é¢˜ã€‚</p>
<p><strong>Q2:</strong> ä¸ºä»€ä¹ˆC++17ä¹‹å‰ä¸èƒ½åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥åˆå§‹åŒ– <code>static</code> æˆå‘˜å˜é‡ï¼ˆé™¤äº† <code>const static</code> æ•´å‹ï¼‰ï¼Ÿ<br><strong>A2:</strong> ä¸»è¦æ˜¯å› ä¸ºâ€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ [One Definition Rule (ODR)]ã€‚å¦‚æœå¤´æ–‡ä»¶ä¸­çš„ <code>static</code> æˆå‘˜å˜é‡åœ¨ç±»å®šä¹‰å†…éƒ¨è¢«åˆå§‹åŒ–ï¼Œå½“è¯¥å¤´æ–‡ä»¶è¢«å¤šä¸ªæºæ–‡ä»¶åŒ…å«æ—¶ï¼Œè¿™ä¸ªå˜é‡å°±ä¼šè¢«å®šä¹‰å¤šæ¬¡ï¼Œå¯¼è‡´é“¾æ¥é”™è¯¯ã€‚</p>
<p><strong>Q3:</strong> <code>inline</code> å…³é”®å­—ç”¨äº <code>static</code> æˆå‘˜å˜é‡æ—¶ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br><strong>A3:</strong> <code>inline</code> å…³é”®å­—åœ¨è¿™é‡Œå¹¶ä¸æ„å‘³ç€å¼ºåˆ¶å†…è”ä»£ç ï¼Œè€Œæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨ï¼Œå…è®¸è¿™ä¸ª <code>static</code> æˆå‘˜å˜é‡åœ¨å¤šä¸ª <code>ç¿»è¯‘å•å…ƒ</code> [translation units] ä¸­è¢«å®šä¹‰ã€‚é“¾æ¥å™¨åœ¨æœ€ç»ˆé“¾æ¥æ—¶ä¼šç¡®ä¿æ‰€æœ‰è¿™äº›å®šä¹‰éƒ½æŒ‡å‘åŒä¸€ä¸ªå®é™…çš„å˜é‡å®ä¾‹ï¼Œä»è€Œé¿å…äº† ODR é—®é¢˜ã€‚</p>
<p><strong>Q4:</strong> ä»å“ªä¸ªC++æ ‡å‡†ç‰ˆæœ¬å¼€å§‹ï¼Œ<code>inline static</code> æˆå‘˜å˜é‡æ‰è¢«å…è®¸ä½¿ç”¨ï¼Ÿ<br><strong>A4:</strong> ä» <strong>C++17</strong> æ ‡å‡†å¼€å§‹ã€‚</p>
<h2 id="4-å¸¸è§è¯¯è§£ä¸é”™è¯¯-Common-Misunderstandings-and-Mistakes"><a href="#4-å¸¸è§è¯¯è§£ä¸é”™è¯¯-Common-Misunderstandings-and-Mistakes" class="headerlink" title="4. å¸¸è§è¯¯è§£ä¸é”™è¯¯ (Common Misunderstandings and Mistakes)"></a><strong>4. å¸¸è§è¯¯è§£ä¸é”™è¯¯ (Common Misunderstandings and Mistakes)</strong></h2><ol>
<li><strong>è¯¯è§£ <code>inline</code> çš„å«ä¹‰ï¼š</strong> æœ€å¸¸è§çš„è¯¯è§£æ˜¯è®¤ä¸º <code>inline static</code> æˆå‘˜å˜é‡çš„ <code>inline</code> å…³é”®å­—æ„å‘³ç€åƒå†…è”å‡½æ•°ä¸€æ ·ï¼Œä¼šæå‡æ€§èƒ½æˆ–å°†å˜é‡å€¼ç›´æ¥â€œå†…è”â€åˆ°ä½¿ç”¨å®ƒçš„åœ°æ–¹ã€‚å®é™…ä¸Šï¼Œè¿™é‡Œçš„ <code>inline</code> ä¸æ€§èƒ½æ— å…³ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸â€œä¸€æ¬¡å®šä¹‰è§„åˆ™â€ [One Definition Rule (ODR)] ç›¸å…³çš„è¯­è¨€è§„åˆ™ï¼Œå…è®¸å˜é‡åœ¨å¤šä¸ªç¿»è¯‘å•å…ƒä¸­è¢«å®šä¹‰ã€‚</li>
<li><strong>C++ç‰ˆæœ¬ä¸å…¼å®¹ï¼š</strong> å°è¯•åœ¨C++14æˆ–æ›´æ—©ç‰ˆæœ¬çš„é¡¹ç›®ä¸­ç¼–è¯‘ä½¿ç”¨ <code>inline static</code> æˆå‘˜å˜é‡çš„ä»£ç ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚æ–°æ‰‹å¯èƒ½ä¸æ¸…æ¥šè¿™ä¸ªç‰¹æ€§æ˜¯C++17æ‰å¼•å…¥çš„ã€‚</li>
<li><strong>å¿˜è®° <code>static</code> å…³é”®å­—ï¼š</strong> é”™è¯¯åœ°å°† <code>inline</code> å…³é”®å­—ç”¨äºé <code>static</code> æˆå‘˜å˜é‡ã€‚<code>inline</code> åªèƒ½ç”¨äº <code>static</code> æˆå‘˜å˜é‡ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œå¯¹äºæ™®é€šçš„æˆå‘˜å˜é‡ï¼Œå®ƒæ²¡æœ‰æ„ä¹‰ã€‚</li>
<li><strong>è¯¯ä»¥ä¸ºæ‰€æœ‰ <code>static</code> æˆå‘˜å˜é‡éƒ½å¯ä»¥è¿™æ ·åˆå§‹åŒ–ï¼š</strong> åªæœ‰ <strong><code>inline static</code></strong> æˆå‘˜å˜é‡æ‰å¯ä»¥åœ¨ç±»å†…éƒ¨ç›´æ¥åˆå§‹åŒ–ã€‚ä¼ ç»Ÿçš„é <code>inline static</code> æˆå‘˜å˜é‡ï¼ˆç‰¹åˆ«æ˜¯å¦‚æœä½ çš„C++ç‰ˆæœ¬ä½äºC++17æˆ–è€…éœ€è¦æ—§çš„è¡Œä¸ºï¼‰ä»ç„¶éœ€è¦åœ¨ç±»å¤–å®šä¹‰å’Œåˆå§‹åŒ–ã€‚</li>
<li><strong>è¿‡åº¦ä½¿ç”¨æˆ–æ»¥ç”¨ï¼š</strong> å°½ç®¡ <code>inline static</code> å¾ˆæ–¹ä¾¿ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰ <code>static</code> æˆå‘˜å˜é‡éƒ½é€‚åˆåœ¨å¤´æ–‡ä»¶ä¸­åˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœé™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–æ¶‰åŠå¤æ‚é€»è¾‘ã€ä¾èµ–å…¶ä»–åº“æˆ–åœ¨å¤šä¸ª <code>.cpp</code> æ–‡ä»¶ä¸­æœ‰ä¸åŒçš„ç”¨é€”ï¼ˆè™½ç„¶è¿™ç§æƒ…å†µä¸å¸¸è§ä¸”é€šå¸¸æ˜¯è®¾è®¡é—®é¢˜ï¼‰ï¼Œåˆ™ä¼ ç»Ÿçš„åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­åˆå§‹åŒ–å¯èƒ½æ›´åˆé€‚ã€‚ä½†åœ¨å¤§å¤šæ•°ç®€å•è®¡æ•°å™¨æˆ–å¸¸é‡åœºæ™¯ä¸‹ï¼Œ<code>inline static</code> æ˜¯éå¸¸æ£’çš„ã€‚</li>
</ol>
<h2 id="5-ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise"><a href="#5-ç¼–ç¨‹ç»ƒä¹ -Coding-Exercise" class="headerlink" title="5. ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)"></a><strong>5. ç¼–ç¨‹ç»ƒä¹  (Coding Exercise)</strong></h2><p>ç°åœ¨ï¼Œè¯·ä½ å°è¯•å®Œæˆä¸‹é¢çš„ç¼–ç¨‹ç»ƒä¹ ã€‚ä½ éœ€è¦ä¿®æ”¹ç°æœ‰çš„ä»£ç ï¼Œä½¿å…¶èƒ½å¤Ÿè¿½è¸ªå¹¶æ˜¾ç¤ºç¨‹åºä¸­æ‰€æœ‰ <code>Dog</code> å¯¹è±¡çš„æ•°é‡ã€‚</p>
<p><strong>ä»»åŠ¡ï¼š</strong></p>
<p>åœ¨ <code>Dog</code> ç±»ä¸­æ·»åŠ ä¸€ä¸ª <code>inline static</code> æˆå‘˜å˜é‡ <code>dog_count</code>ï¼Œç”¨äºåœ¨æ¯æ¬¡åˆ›å»º <code>Dog</code> å¯¹è±¡æ—¶å¢åŠ è®¡æ•°ã€‚åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œåˆ†åˆ«åœ¨åˆ›å»ºç¬¬ä¸€ä¸ª <code>Dog</code> å¯¹è±¡åå’Œåˆ›å»ºæ›´å¤š <code>Dog</code> å¯¹è±¡åï¼Œæ‰“å°å½“å‰çš„ <code>dog_count</code> å€¼ã€‚</p>
<p><strong><code>Dog.h</code>:</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; name);</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ  inline static æˆå‘˜å˜é‡ dog_count å¹¶åˆå§‹åŒ–ä¸º 0</span></span><br><span class="line">    <span class="comment">// ä¾‹å¦‚ï¼šinline static int some_variable = 0;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_name;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p><strong><code>main.cpp</code>:</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Dog.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Dog ç±»çš„å®ç° (ä¸ºäº†ç®€åŒ–ï¼Œè¿™é‡Œç›´æ¥æä¾›)</span></span><br><span class="line">Dog::Dog(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; name) : m_name(name) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog "</span> &lt;&lt; m_name &lt;&lt; <span class="string">" created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œå¢åŠ  dog_count çš„å€¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"This dog's name is: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Dog Counter Exercise ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> åˆ›å»ºç¬¬ä¸€ä¸ª Dog å¯¹è±¡ï¼Œå¹¶æ‰“å°å½“å‰çš„ Dog æ•°é‡</span></span><br><span class="line">    <span class="comment">// ä¾‹å¦‚ï¼šDog d1("Buddy");</span></span><br><span class="line">    <span class="comment">//      std::cout &lt;&lt; "Current dog count: " &lt;&lt; Dog::some_variable &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> åˆ›å»ºä¸€ä¸ªåŒ…å« 2 ä¸ª Dog å¯¹è±¡çš„ vectorï¼Œå¹¶æ‰“å°å½“å‰çš„ Dog æ•°é‡</span></span><br><span class="line">    <span class="comment">// ä¾‹å¦‚ï¼šstd::vector&lt;Dog&gt; dogs;</span></span><br><span class="line">    <span class="comment">//      dogs.emplace_back("Max");</span></span><br><span class="line">    <span class="comment">//      dogs.emplace_back("Bella");</span></span><br><span class="line">    <span class="comment">//      std::cout &lt;&lt; "Current dog count after adding more: " &lt;&lt; Dog::some_variable &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Exercise End ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¯·ä½ å°†ä»£ç å¡«å†™å®Œæ•´ï¼Œç„¶åå‘Šè¯‰æˆ‘ä½ çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Tutorial/">Tutorial    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/313%20-%20friend%20of%20class/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>313 - friend of class</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/320%20-%20cpp%E6%88%90%E5%91%98%E5%B8%B8%E9%87%8F%20pre%20cpp17/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>320 - cppæˆå‘˜å¸¸é‡ pre cpp17</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•/" title="282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/313 - friend of class/" title="313 - friend of class"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">313 - friend of class</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/329 - è·¨æ–‡ä»¶å‘½åç©ºé—´/" title="329 - è·¨æ–‡ä»¶å‘½åç©ºé—´"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">329 - è·¨æ–‡ä»¶å‘½åç©ºé—´</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/317 - cpp ç±»çº§åˆ«æ•°æ®/" title="317 - cpp ç±»çº§åˆ«æ•°æ®"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">317 - cpp ç±»çº§åˆ«æ•°æ®</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/diff between constexpr and define/" title="diff between constexpr and define"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">diff between constexpr and define</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/é™æ€æˆå‘˜è®¿é—®æ§åˆ¶/" title="é™æ€æˆå‘˜è®¿é—®æ§åˆ¶"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">é™æ€æˆå‘˜è®¿é—®æ§åˆ¶</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>