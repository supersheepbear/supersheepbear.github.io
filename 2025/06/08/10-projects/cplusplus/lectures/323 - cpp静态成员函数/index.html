<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>323 - cppé™æ€æˆå‘˜å‡½æ•° | Bear's dream</title><meta name="description" content="323 - cppé™æ€æˆå‘˜å‡½æ•°"><meta name="keywords" content="Coding,Cpp,Function,Software,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="323 - cppé™æ€æˆå‘˜å‡½æ•°"><meta name="twitter:description" content="323 - cppé™æ€æˆå‘˜å‡½æ•°"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="323 - cppé™æ€æˆå‘˜å‡½æ•°"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="323 - cppé™æ€æˆå‘˜å‡½æ•°"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"><link rel="prev" title="325 - ç±»å†…æˆå‘˜åˆå§‹åŒ–" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/325%20-%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/"><link rel="next" title="328 - cppå‘½åç©ºé—´" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/328%20-%20cpp%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">150</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-é™æ€æˆå‘˜å‡½æ•°"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">C++é™æ€æˆå‘˜å‡½æ•°</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-é™æ€æˆå‘˜å‡½æ•°-Static-Member-Functions-ï¼šç±»çº§åˆ«çš„è¡Œä¸º"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">C++é™æ€æˆå‘˜å‡½æ•° (Static Member Functions)ï¼šç±»çº§åˆ«çš„è¡Œä¸º</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#è¯¦ç»†è®²è§£ï¼šC-é™æ€æˆå‘˜å‡½æ•°"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">è¯¦ç»†è®²è§£ï¼šC++é™æ€æˆå‘˜å‡½æ•°</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-ä»€ä¹ˆæ˜¯-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><span class="toc_mobile_items-number">2.1.1.</span> <span class="toc_mobile_items-text">1. ä»€ä¹ˆæ˜¯ static æˆå‘˜å‡½æ•°ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-å¦‚ä½•å£°æ˜-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><span class="toc_mobile_items-number">2.1.2.</span> <span class="toc_mobile_items-text">2. å¦‚ä½•å£°æ˜ static æˆå‘˜å‡½æ•°ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-static-æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶"><span class="toc_mobile_items-number">2.1.3.</span> <span class="toc_mobile_items-text">3. static æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-å¦‚ä½•è®¿é—®é-static-æˆå‘˜å˜é‡ï¼ˆé€šè¿‡-static-æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ"><span class="toc_mobile_items-number">2.1.4.</span> <span class="toc_mobile_items-text">4. å¦‚ä½•è®¿é—®é static æˆå‘˜å˜é‡ï¼ˆé€šè¿‡ static æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#5-static-æˆå‘˜å˜é‡çš„åˆå§‹åŒ–"><span class="toc_mobile_items-number">2.1.5.</span> <span class="toc_mobile_items-text">5. static æˆå‘˜å˜é‡çš„åˆå§‹åŒ–</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#6-å¦‚ä½•è°ƒç”¨-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><span class="toc_mobile_items-number">2.1.6.</span> <span class="toc_mobile_items-text">6. å¦‚ä½•è°ƒç”¨ static æˆå‘˜å‡½æ•°ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#7-æ€»ç»“ä½•æ—¶ä½¿ç”¨-static-æˆå‘˜å‡½æ•°"><span class="toc_mobile_items-number">2.1.7.</span> <span class="toc_mobile_items-text">7. æ€»ç»“ä½•æ—¶ä½¿ç”¨ static æˆå‘˜å‡½æ•°</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#QA-é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">å¸¸è§è¯¯è§£æˆ–é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ç¼–ç¨‹ç»ƒä¹ "><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">ç¼–ç¨‹ç»ƒä¹ </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">2.6.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">2.7.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-static-æˆå‘˜å‡½æ•°-vs-Python-staticmethod"><span class="toc_mobile_items-number">2.8.</span> <span class="toc_mobile_items-text">C++ static æˆå‘˜å‡½æ•° vs. Python staticmethod</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-2"><span class="toc_mobile_items-number">2.9.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-2"><span class="toc_mobile_items-number">2.10.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Python-staticmethod-é™æ€æ–¹æ³•"><span class="toc_mobile_items-number">2.11.</span> <span class="toc_mobile_items-text">Python staticmethod (é™æ€æ–¹æ³•)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Python-classmethod-ç±»æ–¹æ³•"><span class="toc_mobile_items-number">2.12.</span> <span class="toc_mobile_items-text">Python classmethod (ç±»æ–¹æ³•)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#æ€»ç»“è¡¨æ ¼"><span class="toc_mobile_items-number">2.13.</span> <span class="toc_mobile_items-text">æ€»ç»“è¡¨æ ¼</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-3"><span class="toc_mobile_items-number">2.14.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-3"><span class="toc_mobile_items-number">2.15.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#7-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ"><span class="toc_mobile_items-number">2.16.</span> <span class="toc_mobile_items-text">7. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"><span class="toc_mobile_items-number">2.16.1.</span> <span class="toc_mobile_items-text">å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®®-Extended-Questions"><span class="toc_mobile_items-number">2.17.</span> <span class="toc_mobile_items-text">8. è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®® (Extended Questions)</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-é™æ€æˆå‘˜å‡½æ•°"><span class="toc-number">1.</span> <span class="toc-text">C++é™æ€æˆå‘˜å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-é™æ€æˆå‘˜å‡½æ•°-Static-Member-Functions-ï¼šç±»çº§åˆ«çš„è¡Œä¸º"><span class="toc-number">2.</span> <span class="toc-text">C++é™æ€æˆå‘˜å‡½æ•° (Static Member Functions)ï¼šç±»çº§åˆ«çš„è¡Œä¸º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#è¯¦ç»†è®²è§£ï¼šC-é™æ€æˆå‘˜å‡½æ•°"><span class="toc-number">2.1.</span> <span class="toc-text">è¯¦ç»†è®²è§£ï¼šC++é™æ€æˆå‘˜å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-ä»€ä¹ˆæ˜¯-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><span class="toc-number">2.1.1.</span> <span class="toc-text">1. ä»€ä¹ˆæ˜¯ static æˆå‘˜å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-å¦‚ä½•å£°æ˜-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><span class="toc-number">2.1.2.</span> <span class="toc-text">2. å¦‚ä½•å£°æ˜ static æˆå‘˜å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-static-æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶"><span class="toc-number">2.1.3.</span> <span class="toc-text">3. static æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-å¦‚ä½•è®¿é—®é-static-æˆå‘˜å˜é‡ï¼ˆé€šè¿‡-static-æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ"><span class="toc-number">2.1.4.</span> <span class="toc-text">4. å¦‚ä½•è®¿é—®é static æˆå‘˜å˜é‡ï¼ˆé€šè¿‡ static æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-static-æˆå‘˜å˜é‡çš„åˆå§‹åŒ–"><span class="toc-number">2.1.5.</span> <span class="toc-text">5. static æˆå‘˜å˜é‡çš„åˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-å¦‚ä½•è°ƒç”¨-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><span class="toc-number">2.1.6.</span> <span class="toc-text">6. å¦‚ä½•è°ƒç”¨ static æˆå‘˜å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-æ€»ç»“ä½•æ—¶ä½¿ç”¨-static-æˆå‘˜å‡½æ•°"><span class="toc-number">2.1.7.</span> <span class="toc-text">7. æ€»ç»“ä½•æ—¶ä½¿ç”¨ static æˆå‘˜å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä»£ç ç¤ºä¾‹"><span class="toc-number">2.2.</span> <span class="toc-text">ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#QA-é—ªå¡-QA-Flash-Cards"><span class="toc-number">2.3.</span> <span class="toc-text">QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><span class="toc-number">2.4.</span> <span class="toc-text">å¸¸è§è¯¯è§£æˆ–é”™è¯¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ç¼–ç¨‹ç»ƒä¹ "><span class="toc-number">2.5.</span> <span class="toc-text">ç¼–ç¨‹ç»ƒä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">2.6.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">2.7.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-static-æˆå‘˜å‡½æ•°-vs-Python-staticmethod"><span class="toc-number">2.8.</span> <span class="toc-text">C++ static æˆå‘˜å‡½æ•° vs. Python staticmethod</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-2"><span class="toc-number">2.9.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-2"><span class="toc-number">2.10.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python-staticmethod-é™æ€æ–¹æ³•"><span class="toc-number">2.11.</span> <span class="toc-text">Python staticmethod (é™æ€æ–¹æ³•)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python-classmethod-ç±»æ–¹æ³•"><span class="toc-number">2.12.</span> <span class="toc-text">Python classmethod (ç±»æ–¹æ³•)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ€»ç»“è¡¨æ ¼"><span class="toc-number">2.13.</span> <span class="toc-text">æ€»ç»“è¡¨æ ¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-3"><span class="toc-number">2.14.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-3"><span class="toc-number">2.15.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ"><span class="toc-number">2.16.</span> <span class="toc-text">7. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"><span class="toc-number">2.16.1.</span> <span class="toc-text">å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®®-Extended-Questions"><span class="toc-number">2.17.</span> <span class="toc-text">8. è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®® (Extended Questions)</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">323 - cppé™æ€æˆå‘˜å‡½æ•°</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="C-é™æ€æˆå‘˜å‡½æ•°"><a href="#C-é™æ€æˆå‘˜å‡½æ•°" class="headerlink" title="C++é™æ€æˆå‘˜å‡½æ•°"></a>C++é™æ€æˆå‘˜å‡½æ•°</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to learn about static methods or static member functions.And these are functions that are attached to the class blueprint itself.Letâ€™s look at an example here.We have a class called Point, and it has two sections.We have a public section, we have a private section.And in the public section now we have a static member function.And a function is marked static by putting the static keyword in front of the function declaration here.So the gate point count function or member function is a static method now and it doesnâ€™t belong toany class object.Itâ€™s going to be affiliated with the class blueprint itself.And this is going to have one consequence which is really big static member functions donâ€™t have accessto member variables of class objects because try to think about it.If the member function is attached or associated with the class blueprint and we can literally havethousands of class objects, which member variables should the member function access if it belongsto the blueprint?So the compiler solve this problem and the so the compiler is going to see this problem and it is goingto stop you to do any kind of access to the member variables from a static member function.But a static member function can have access to static member variables.So for example, if we look at our static member variable here, which is point count here, we canreturn it from a static member function and this is going to work without a problem.If you want to have access to member variables from a static member function, what you can do is passthe object as a parameter to the member function.Then inside the member function you will be able to use the dot notation to access member variables,but you will have to go through the object name like we are doing here.And this is really all you need to know.Another thing you can see here is that we are able to access private member variables of this objectand the reason is because we are inside a point object.If weâ€™re trying to do this from the outside of the class, weâ€™re going to get a compiler error.And I am going to show you an example in a minute.When we hit Visual Studio code, now that you know this, weâ€™re going to play with this a little morein Visual Studio code.Okay, here we are in our working folder.The current project is Static member functions.Weâ€™re going to grab our template files like we always do.Weâ€™re going to put them in place and we are going to open this in Visual Studio code by dragging anddropping here.Okay, we have the folder here.Letâ€™s open the main CPP file and weâ€™re going to put in a point class that weâ€™re going to use to playwith this things here.So letâ€™s create a header file for that.Weâ€™re going to say point dot h and weâ€™re going to create a CPP file point dot cpp.To do this, I am going to head over to the header file and put in my class for point.It is nothing you havenâ€™t seen.Now we have a point class.It has two sections, a public one and a private one and we have our member variables and we have astatic member variable here.After this, weâ€™re going to head in the CPP file and put in our implementation.And again, it is nothing you havenâ€™t seen so far.And we can close the left sidebar here because we donâ€™t need this anymore.Okay?Now we have a static member variable.We want to set up a static member function to the point class here.So the way we do that, weâ€™re going to use the get point count function here.You mark it static by adding the static keyword in front of the function signature here.And at the moment we do this, you see that we have a problem.The const keyword canâ€™t really be applied to a static member function and the reason is the static memberfunction doesnâ€™t have access to the member variables.So what is the meaning of the const keyword here?Whose purpose is to protect you from changing the member variables of a class?So this doesnâ€™t really make sense.Weâ€™re going to take this out and our static member function is going to be working.Now, if we head over in the main CPP file, we can take out what we donâ€™t need here and weâ€™re goingto include the point class.Letâ€™s do that and we can go down here and call the static member function before even a point objectis created.We can print that out.For example, we can say point count and weâ€™re going to say get point count.You see that we have access to this through the colon colon syntax here and we can print that out.Okay.So letâ€™s try and world this with GCC.Letâ€™s see what we get.And we have a compiler error undefined reference to point count.The problem is we didnâ€™t initialize our.Point static member variable.So what we can do here is mark it in line.We can do that.And this is going to allow us to initialize this from the class declaration and this is going to work,I guess.So letâ€™s do that.Weâ€™re going to build again.Okay.Now you see, the build is good.We can clear and run.Rooster, We should get a zero.Okay, Point count is zero.But if we go down in the main CPP file and say point P one for example, and print the point count again,this should go up to one because anytime we create an object, weâ€™re going to increment the point countas we have seen before.Letâ€™s show you this in case you have forgotten, we are incrementing m point count in our constructorhere and this is the constructor that is going to be doing the Incrementation here alone.No other constructor is going to do this because other constructors are going to delegate the work tothis constructor.That takes two parameters.Here you see, the one parameter constructor is going to delegate to that.The no parameter constructor is going to delegate to that and the copy constructor is not delegatingto that guy.It is initializing the x member variable alone.But we can delegate.So letâ€™s do that.Weâ€™re going to say point and weâ€™re going to say point m x and weâ€™re going to say point m y.This is going to do this is going to initialize our little guy with the data coming from the sourcepoint.But weâ€™re going to be delegating to the two parameter constructor on top here.So I am glad I had a chance to show you this.And letâ€™s use we are using parentheses here, but if you want, you can use curly braces in the placeof this parentheses here.So now this thing is working.If we go to world, weâ€™re going to see that the world is good.Now we should get a point count of one.And you see, the point count is one.Again, we are able to use this syntax because the get point count method is now static inside the pointclass.If we take out the static keyword here, weâ€™re going to get a compiler error.If we try to do something like this, Visual Studio code should give us a few squiggly lines and yousee we have them and if we try to build, weâ€™re going to be told we canâ€™t call this member functionlike this.So what does the error say?Can call member function without an object?So if you are doing things like this, so if the member function is not static, you canâ€™t really callit like we are doing here.If you want to call it, you need to go through an object name.And for example, we can go down to the second guy here and say P one get point count.This is going to work because the member function is public.Letâ€™s world you really need to know all this little nuances about how member functions work in C plusplus.So weâ€™re going to run roster.Weâ€™re going to see that the point count is one and this is working.But the syntax on top only works if the member function is static.Letâ€™s go back and make it static again.Weâ€™re going to make that static and the next thing I want you to see is that static member functionsdonâ€™t have access to the member variables of the class or the class object.I should be specific.Letâ€™s set up a function and show you that weâ€™re going to say void Printinfo and weâ€™re not going to takeanything in and inside the body of this function.Weâ€™re going to print the information about the point.Nothing special here.And if we try to build, letâ€™s do that.Weâ€™re going to use GCC.Youâ€™re going to see that we have an error.And what is the problem here?We are trying to go through an object.Letâ€™s take out the P because we donâ€™t have that here and weâ€™re going to do this.Youâ€™re going to see that the build is going to be good.Okay.So the function is here and it is working.We can use it in the main CPP file.For example, we can say P one print inform and it is going to work.We can comment out everything else we have here.Letâ€™s do that and weâ€™re going to world.We should see information about P one printed out and itâ€™s just going to have zeros n for x and Y becausewe use the default constructor to build this object here.If we run roster, weâ€™re going to see that X is zero and Y is zero.Okay, so this is working.But the moment you mark this function as static, letâ€™s try to do that.Weâ€™re going to get a compiler error and you see we have a few squiggly lines because we are not allowedto access member variables of objects from a static member function.And the reason is the member function is now attached to the class blueprint itself.Itâ€™s not attached to any class object and you wouldnâ€™t really know whose objects member variable youâ€™regoing to access through this member function here because this member function doesnâ€™t belong to anyobject.So weâ€™re going to get a compiler error here.Letâ€™s build and show you the compiler error and see.What Jake is saying here.Weâ€™re going to have point me in static member function and this is not allowed.They are going to tell you this here and weâ€™re going to also see invalid use of member in static memberfunction.So this is invalid.This is not allowed.If you do this, youâ€™re going to get a compiler error.So what do you do?If you really want to print the information about a point object through a static member function?Well, you can pass your point object as a parameter to the function.For example, we can go in here and say const point P, letâ€™s make this a reference because we donâ€™twant copies and then weâ€™re going to say p m X, this is going to work, and then weâ€™re going to sayp m Y because we are going through an object name.This is going to work now.Now it is super clear whose member variables we are accessing and notice that this is working becausethe printer from function is part of the class point here.And notice this is working.We are able to access member variables of this object because we are inside the class point.If we try to do this from the outside, this is not going to work because weâ€™re not allowed to accessprivate member variables of an object from the outside.But letâ€™s try and build and show you that this is working now.We donâ€™t have the problem we had before.And letâ€™s see, in Main we are calling without a parameter.Thatâ€™s why we have this compiler error.So we can pass P one here and this is going to work.Letâ€™s build and we are going to build successfully.As you see here, we can clear this and run Rooster and we see that we have the information here.Point count is zero.Okay.So if we run Rooster now, weâ€™re going to see that the point information is shown here and this is whatwe want.X is zero, Y is zero, and this is what we expect.Letâ€™s try and change this to, letâ€™s say, six and seven and really make sure this is working.So weâ€™re going to build with GCC.The build is good.We can clear and run Rooster.Weâ€™re going to see that we have our member variables here and this is really cool.So now you should note that with a static member function, you donâ€™t have access to the member variablesof the class.You canâ€™t do that because the static member function is really not tied to any object.Another thing you canâ€™t do, as we have seen before, is mark a static member function as const becausethe const keyword here is going to protect you from changing the member variables of the object.But remember, a static member function doesnâ€™t have access to the member variables in the first place.So this is really confusing and weird and doesnâ€™t make sense.So the compiler is going to stop you from doing this and if you do this, youâ€™re going to get a compilererror.Letâ€™s build again and show you this.Okay, we have a compiler error boiled, finished with errors and if you go on top youâ€™re going to seethe problem static member function.Our function here cannot have CV qualifier.So it is a const qualifier because the static member function canâ€™t be const because it doesnâ€™t reallymake sense.And we have the same problem here.So you should note that if you are a member function is static, you canâ€™t make it const because itdoesnâ€™t make sense.Letâ€™s take this out and weâ€™re going to build again and make sure that our thing is working and it isworking.And this is really all I had to share in this lecture showing you how you can use static member functions,use them if your function isnâ€™t really tied to any class object and you want it to belong or be tiedto the class blueprint itself, and if you are a member, function is static, itâ€™s not going to haveany access to member variables of the class.You canâ€™t have this pointer.If you use that, youâ€™re going to get a compiler error.You canâ€™t access the member variables and you canâ€™t really do anything like that directly affects anobject because the static member function doesnâ€™t have an idea of the object in which it is operatingon.It is operating in the context of the class blueprint itself.Okay, so this is really all for this lecture.I hope you found it interesting.We are going to stop here in this one.In the next one, weâ€™re going to learn about nested classes.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„C++å­¦ä¹ ä¹‹æ—…ï¼ä½œä¸ºä½ çš„å¯¼å¸ˆï¼Œæˆ‘å°†å°½åŠ›ç”¨æœ€æ¸…æ™°ã€æœ€æ˜“æ‡‚çš„æ–¹å¼æ¥è®²è§£C++çš„çŸ¥è¯†ç‚¹ã€‚</p>
<hr>
<h1 id="C-é™æ€æˆå‘˜å‡½æ•°-Static-Member-Functions-ï¼šç±»çº§åˆ«çš„è¡Œä¸º"><a href="#C-é™æ€æˆå‘˜å‡½æ•°-Static-Member-Functions-ï¼šç±»çº§åˆ«çš„è¡Œä¸º" class="headerlink" title="C++é™æ€æˆå‘˜å‡½æ•° (Static Member Functions)ï¼šç±»çº§åˆ«çš„è¡Œä¸º"></a>C++é™æ€æˆå‘˜å‡½æ•° (Static Member Functions)ï¼šç±»çº§åˆ«çš„è¡Œä¸º</h1><p><strong>æ ¸å¿ƒæ¦‚å¿µé€Ÿè§ˆï¼š</strong> <code>static</code> æˆå‘˜å‡½æ•°æ˜¯å±äºæ•´ä¸ª <strong>ç±»</strong> (class) è€Œä¸æ˜¯ç‰¹å®š <strong>å¯¹è±¡</strong> (object) çš„å‡½æ•°ã€‚å®ƒä»¬å¯ä»¥è®¿é—®ç±»çš„ <code>static</code> æˆå‘˜ï¼Œä½†ä¸èƒ½ç›´æ¥è®¿é—®é <code>static</code> çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿæ— æ³•æ‹¥æœ‰ <code>const</code> é™å®šç¬¦ã€‚</p>
<hr>
<h2 id="è¯¦ç»†è®²è§£ï¼šC-é™æ€æˆå‘˜å‡½æ•°"><a href="#è¯¦ç»†è®²è§£ï¼šC-é™æ€æˆå‘˜å‡½æ•°" class="headerlink" title="è¯¦ç»†è®²è§£ï¼šC++é™æ€æˆå‘˜å‡½æ•°"></a>è¯¦ç»†è®²è§£ï¼šC++é™æ€æˆå‘˜å‡½æ•°</h2><p>åœ¨C++ä¸­ï¼Œ<code>static</code> æˆå‘˜å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œå®ƒä¸æˆ‘ä»¬é€šå¸¸ç†è§£çš„æˆå‘˜å‡½æ•°æœ‰æ‰€ä¸åŒã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ·±å…¥äº†è§£å®ƒã€‚</p>
<h3 id="1-ä»€ä¹ˆæ˜¯-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-static-æˆå‘˜å‡½æ•°ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ static æˆå‘˜å‡½æ•°ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ <code>static</code> æˆå‘˜å‡½æ•°ï¼Ÿ</h3><p>æƒ³è±¡ä¸€ä¸‹ä¸€ä¸ªå»ºç­‘è“å›¾ (class blueprint)ã€‚æ™®é€šçš„æˆå‘˜å‡½æ•°å°±åƒè“å›¾ä¸Šæè¿°çš„ï¼Œæ¯æ ‹æ ¹æ®è“å›¾å»ºé€ çš„æˆ¿å­ (object) éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„æˆ¿é—´ã€å¨æˆ¿ç­‰ï¼ˆéé™æ€æˆå‘˜å˜é‡ï¼‰ï¼Œå¹¶ä¸”æœ‰è‡ªå·±çš„è¡Œä¸ºï¼ˆéé™æ€æˆå‘˜å‡½æ•°ï¼‰ï¼Œæ¯”å¦‚â€œæ‰“å¼€å‰é—¨â€ã€â€œå…³ä¸Šçª—æˆ·â€ã€‚</p>
<p>è€Œ <code>static</code> æˆå‘˜å‡½æ•°åˆ™ä¸åŒã€‚å®ƒä¸æ˜¯å±äºæŸä¸€ä¸ªå…·ä½“çš„æˆ¿å­ï¼Œè€Œæ˜¯ç›´æ¥å±äº <strong>è“å›¾æœ¬èº«</strong>ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>å®ƒä¸ä¾èµ–äºä»»ä½•ç‰¹å®šçš„æˆ¿å­è¢«å»ºé€ å‡ºæ¥ã€‚</li>
<li>å®ƒæè¿°çš„æ˜¯ä¸è“å›¾æ•´ä½“ç›¸å…³çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¸å•ä¸ªæˆ¿å­ç›¸å…³çš„è¡Œä¸ºã€‚</li>
</ul>
<p>åœ¨C++ä¸­ï¼Œ<code>static</code> æˆå‘˜å‡½æ•°å°±æ˜¯ä¸ <strong>ç±»</strong> (class) å…³è”ï¼Œè€Œä¸æ˜¯ä¸ <strong>ç±»çš„å¯¹è±¡</strong> (object) å…³è”çš„å‡½æ•°ã€‚å®ƒä»¬æ˜¯ç±»çº§åˆ«çš„å‡½æ•°ï¼Œå¯ä»¥åœ¨æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡çš„æƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</p>
<h3 id="2-å¦‚ä½•å£°æ˜-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><a href="#2-å¦‚ä½•å£°æ˜-static-æˆå‘˜å‡½æ•°ï¼Ÿ" class="headerlink" title="2. å¦‚ä½•å£°æ˜ static æˆå‘˜å‡½æ•°ï¼Ÿ"></a>2. å¦‚ä½•å£°æ˜ <code>static</code> æˆå‘˜å‡½æ•°ï¼Ÿ</h3><p>å£°æ˜ä¸€ä¸ª <code>static</code> æˆå‘˜å‡½æ•°éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å‡½æ•°å£°æ˜å‰åŠ ä¸Š <code>static</code> å…³é”®å­—å³å¯ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get_point_count</span><span class="params">()</span></span>; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="comment">// ... å…¶ä»–æˆå‘˜</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> m_point_count; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="keyword">int</span> m_x;</span><br><span class="line">    <span class="keyword">int</span> m_y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>åœ¨è¿™é‡Œï¼Œ<code>get_point_count</code> å‡½æ•°è¢« <code>static</code> æ ‡è®°ï¼Œæ„å‘³ç€å®ƒç°åœ¨æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°ã€‚</p>
<h3 id="3-static-æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶"><a href="#3-static-æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶" class="headerlink" title="3. static æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶"></a>3. <code>static</code> æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒç‰¹æ€§ä¸é™åˆ¶</h3><p>ç†è§£ <code>static</code> æˆå‘˜å‡½æ•°çš„å…³é”®åœ¨äºå…¶â€œç‹¬ç«‹æ€§â€ï¼š</p>
<ul>
<li><strong>æ²¡æœ‰ <code>this</code> æŒ‡é’ˆ</strong>ï¼šæ¯ä¸ªé <code>static</code> æˆå‘˜å‡½æ•°åœ¨è°ƒç”¨æ—¶éƒ½ä¼šéšå¼åœ°æ¥æ”¶ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡çš„ <code>this</code> æŒ‡é’ˆã€‚é€šè¿‡è¿™ä¸ª <code>this</code> æŒ‡é’ˆï¼Œå‡½æ•°å¯ä»¥è®¿é—®è¯¥å¯¹è±¡çš„é <code>static</code> æˆå‘˜ã€‚ç„¶è€Œï¼Œ<code>static</code> æˆå‘˜å‡½æ•°ä¸å±äºä»»ä½•ç‰¹å®šçš„å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒä»¬ <strong>æ²¡æœ‰ <code>this</code> æŒ‡é’ˆ</strong>ã€‚</li>
<li><p><strong>æ— æ³•ç›´æ¥è®¿é—®é <code>static</code> æˆå‘˜å˜é‡</strong>ï¼šç”±äºæ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œ<code>static</code> æˆå‘˜å‡½æ•°è‡ªç„¶ä¸çŸ¥é“å®ƒåº”è¯¥æ“ä½œå“ªä¸ªå¯¹è±¡çš„é <code>static</code> æˆå‘˜å˜é‡ã€‚å¦‚æœä½ å°è¯•åœ¨ <code>static</code> æˆå‘˜å‡½æ•°ä¸­ç›´æ¥è®¿é—® <code>m_x</code> æˆ– <code>m_y</code> (éé™æ€æˆå‘˜å˜é‡)ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºç±»å¯ä»¥æœ‰æˆåƒä¸Šä¸‡çš„å¯¹è±¡ï¼Œé™æ€æˆå‘˜å‡½æ•°å±äºè“å›¾ï¼Œå®ƒæ— æ³•çŸ¥é“ä½ æƒ³è®¿é—®çš„æ˜¯å“ªä¸€ä¸ªå¯¹è±¡çš„ <code>m_x</code>ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºä¾‹ï¼šé™æ€æˆå‘˜å‡½æ•°å°è¯•ç›´æ¥è®¿é—®éé™æ€æˆå‘˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print_info_error</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è¿™å°†å¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line">        <span class="comment">// cout &lt;&lt; "X: " &lt;&lt; m_x &lt;&lt; ", Y: " &lt;&lt; m_y &lt;&lt; endl;</span></span><br><span class="line">        <span class="comment">// é”™è¯¯ï¼šé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜ 'm_x' / 'm_y'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_x;</span><br><span class="line">    <span class="keyword">int</span> m_y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>å¯ä»¥è®¿é—® <code>static</code> æˆå‘˜å˜é‡</strong>ï¼š<code>static</code> æˆå‘˜å˜é‡ï¼ˆä¹Ÿç§°ä¸ºç±»å˜é‡ï¼‰æ˜¯ä¸ç±»æœ¬èº«å…³è”çš„ï¼Œå®ƒä»¬ä¸å±äºä»»ä½•å¯¹è±¡ï¼Œåªæœ‰ä¸€ä»½å­˜å‚¨ã€‚å› æ­¤ï¼Œ<code>static</code> æˆå‘˜å‡½æ•°å¯ä»¥æ¯«æ— é—®é¢˜åœ°è®¿é—® <code>static</code> æˆå‘˜å˜é‡ï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿå±äºç±»çº§åˆ«ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get_point_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_point_count; <span class="comment">// å¯ä»¥è®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> m_point_count;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>ä¸èƒ½ç”¨ <code>const</code> å…³é”®å­—ä¿®é¥°</strong>ï¼š<code>const</code> å…³é”®å­—é€šå¸¸ç”¨äºæˆå‘˜å‡½æ•°ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹å…¶æ‰€å±å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼ˆå³ä¸ä¼šä¿®æ”¹ <code>this</code> æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ï¼‰ã€‚ç”±äº <code>static</code> æˆå‘˜å‡½æ•°ä¸ä¸ä»»ä½•å¯¹è±¡ç»‘å®šï¼Œæ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œä¹Ÿå°±æ²¡æœ‰â€œæ‰€å±å¯¹è±¡â€çš„çŠ¶æ€å¯ä»¥è¢«ä¿®æ”¹æˆ–ä¿æŠ¤ã€‚å› æ­¤ï¼Œ<code>const</code> å…³é”®å­—å¯¹äº <code>static</code> æˆå‘˜å‡½æ•°æ¥è¯´æ˜¯æ¯«æ— æ„ä¹‰çš„ï¼Œç¼–è¯‘å™¨ä¼šé˜»æ­¢ä½ è¿™æ ·åšã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºä¾‹ï¼šé™æ€æˆå‘˜å‡½æ•°ä¸èƒ½è¢« const ä¿®é¥°</span></span><br><span class="line"><span class="comment">// static int get_point_count() const; // ç¼–è¯‘é”™è¯¯ï¼</span></span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<h3 id="4-å¦‚ä½•è®¿é—®é-static-æˆå‘˜å˜é‡ï¼ˆé€šè¿‡-static-æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ"><a href="#4-å¦‚ä½•è®¿é—®é-static-æˆå‘˜å˜é‡ï¼ˆé€šè¿‡-static-æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ" class="headerlink" title="4. å¦‚ä½•è®¿é—®é static æˆå‘˜å˜é‡ï¼ˆé€šè¿‡ static æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ"></a>4. å¦‚ä½•è®¿é—®é <code>static</code> æˆå‘˜å˜é‡ï¼ˆé€šè¿‡ <code>static</code> æˆå‘˜å‡½æ•°ï¼‰ï¼Ÿ</h3><p>å°½ç®¡ <code>static</code> æˆå‘˜å‡½æ•°ä¸èƒ½ç›´æ¥è®¿é—®é <code>static</code> æˆå‘˜å˜é‡ï¼Œä½†å¦‚æœä½ ç¡®å®éœ€è¦é€šè¿‡å®ƒæ¥æ“ä½œç‰¹å®šå¯¹è±¡çš„é <code>static</code> æ•°æ®ï¼Œä½ å¯ä»¥å°† <strong>å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’</strong> è¿›å»ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥ Point å¯¹è±¡çš„å¼•ç”¨æ¥è®¿é—®å…¶éé™æ€æˆå‘˜</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print_point_info</span><span class="params">(<span class="keyword">const</span> Point&amp; p)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point Info - X: "</span> &lt;&lt; p.m_x &lt;&lt; <span class="string">", Y: "</span> &lt;&lt; p.m_y &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_x;</span><br><span class="line">    <span class="keyword">int</span> m_y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„ï¼šå³ä½¿ <code>print_point_info</code> æ˜¯ä¸€ä¸ª <code>static</code> å‡½æ•°ï¼Œå¹¶ä¸” <code>m_x</code> å’Œ <code>m_y</code> æ˜¯ <code>private</code> (ç§æœ‰) æˆå‘˜ï¼Œå®ƒä»ç„¶èƒ½å¤Ÿè®¿é—® <code>p</code> å¯¹è±¡çš„ <code>m_x</code> å’Œ <code>m_y</code>ã€‚è¿™æ˜¯å› ä¸º <code>static</code> æˆå‘˜å‡½æ•°ä»ç„¶æ˜¯ <code>Point</code> ç±»çš„ä¸€éƒ¨åˆ†ï¼Œç±»å†…çš„æ‰€æœ‰æˆå‘˜ï¼ˆåŒ…æ‹¬ <code>static</code> å’Œé <code>static</code> çš„ï¼‰éƒ½å¯ä»¥è®¿é—®å…¶ä»–æˆå‘˜ï¼ˆåŒ…æ‹¬ <code>private</code> æˆå‘˜ï¼‰ï¼Œåªè¦å®ƒä»¬æ˜¯é€šè¿‡æ­£ç¡®çš„å¯¹è±¡å¼•ç”¨ï¼ˆå¦‚ <code>p</code>ï¼‰æ¥è®¿é—®çš„ã€‚å¦‚æœä½ åœ¨ç±»çš„å¤–éƒ¨å°è¯•ç›´æ¥ <code>some_object.m_x</code>ï¼Œé‚£å°±ä¼šæŠ¥é”™ã€‚</p>
<h3 id="5-static-æˆå‘˜å˜é‡çš„åˆå§‹åŒ–"><a href="#5-static-æˆå‘˜å˜é‡çš„åˆå§‹åŒ–" class="headerlink" title="5. static æˆå‘˜å˜é‡çš„åˆå§‹åŒ–"></a>5. <code>static</code> æˆå‘˜å˜é‡çš„åˆå§‹åŒ–</h3><p><code>static</code> æˆå‘˜å˜é‡çš„å­˜å‚¨æ˜¯ç‹¬ç«‹çš„ï¼Œä¸éšå¯¹è±¡çš„åˆ›å»ºè€Œåˆ†é…ã€‚å®ƒä»¬åœ¨ç¨‹åºå¯åŠ¨æ—¶è¢«åˆå§‹åŒ–ï¼Œå¹¶ä¸”åªæœ‰ä¸€ä»½ã€‚å› æ­¤ï¼Œå®ƒä»¬å¿…é¡»åœ¨ç±»å®šä¹‰ä¹‹å¤–è¿›è¡Œ <strong>å®šä¹‰å’Œåˆå§‹åŒ–</strong>ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ .cpp æ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="comment">// å¿…é¡»åœ¨ç±»å¤–éƒ¨å®šä¹‰å’Œåˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">int</span> Point::m_point_count = <span class="number">0</span>;</span><br></pre></td></tr></table></figure></div>
<p>ä» C++17 å¼€å§‹ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>inline</code> å…³é”®å­—åœ¨ç±»å†…éƒ¨ç›´æ¥åˆå§‹åŒ– <code>static</code> æˆå‘˜å˜é‡ï¼Œè¿™å…è®¸åœ¨å¤´æ–‡ä»¶ä¸­è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ï¼Œé¿å…äº†åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­å•ç‹¬å®šä¹‰çš„æ­¥éª¤ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ .h æ–‡ä»¶ä¸­ (C++17 åŠæ›´é«˜ç‰ˆæœ¬)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> m_point_count = <span class="number">0</span>; <span class="comment">// ä½¿ç”¨ inline å…³é”®å­—ï¼Œå…è®¸åœ¨ç±»å†…åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">int</span> m_x;</span><br><span class="line">    <span class="keyword">int</span> m_y;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<h3 id="6-å¦‚ä½•è°ƒç”¨-static-æˆå‘˜å‡½æ•°ï¼Ÿ"><a href="#6-å¦‚ä½•è°ƒç”¨-static-æˆå‘˜å‡½æ•°ï¼Ÿ" class="headerlink" title="6. å¦‚ä½•è°ƒç”¨ static æˆå‘˜å‡½æ•°ï¼Ÿ"></a>6. å¦‚ä½•è°ƒç”¨ <code>static</code> æˆå‘˜å‡½æ•°ï¼Ÿ</h3><p>è°ƒç”¨ <code>static</code> æˆå‘˜å‡½æ•°ä¸éœ€è¦åˆ›å»ºç±»çš„å¯¹è±¡ã€‚ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ <strong>ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦</strong> (<code>::</code>) æ¥è°ƒç”¨å®ƒä»¬ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ main å‡½æ•°ä¸­</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span> <span class="comment">// å‡è®¾ Point ç±»å®šä¹‰åœ¨ Point.h ä¸­</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨åˆ›å»ºä»»ä½• Point å¯¹è±¡ä¹‹å‰å°±å¯ä»¥è°ƒç”¨</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å½“å‰ç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 0</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>; <span class="comment">// åˆ›å»ºä¸€ä¸ª Point å¯¹è±¡ï¼Œæ„é€ å‡½æ•°ä¼šå¢åŠ  m_point_count</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p1 åï¼Œç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 1</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">30</span>, <span class="number">40</span>)</span></span>; <span class="comment">// åˆ›å»ºç¬¬äºŒä¸ª Point å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p2 åï¼Œç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡å¯¹è±¡è°ƒç”¨é™æ€å‡½æ•°ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œä½†ä¸æ¨èï¼Œå› ä¸ºå®ƒå®¹æ˜“è®©äººè¯¯è§£</span></span><br><span class="line">    <span class="comment">// ä»¥ä¸ºè¯¥å‡½æ•°ä¾èµ–äºå¯¹è±¡ï¼Œå®é™…ä¸Šå®ƒä¸ä¾èµ–</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ p1 è°ƒç”¨ (ä¸æ¨è): "</span> &lt;&lt; p1.get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// åŒæ ·è¾“å‡º 2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨å¸¦å‚æ•°çš„é™æ€å‡½æ•°æ¥æ‰“å°ç‰¹å®šå¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line">    Point::print_point_info(p1); <span class="comment">// è¾“å‡º X: 10, Y: 20</span></span><br><span class="line">    Point::print_point_info(p2); <span class="comment">// è¾“å‡º X: 30, Y: 40</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="7-æ€»ç»“ä½•æ—¶ä½¿ç”¨-static-æˆå‘˜å‡½æ•°"><a href="#7-æ€»ç»“ä½•æ—¶ä½¿ç”¨-static-æˆå‘˜å‡½æ•°" class="headerlink" title="7. æ€»ç»“ä½•æ—¶ä½¿ç”¨ static æˆå‘˜å‡½æ•°"></a>7. æ€»ç»“ä½•æ—¶ä½¿ç”¨ <code>static</code> æˆå‘˜å‡½æ•°</h3><p>å½“ä¸€ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><strong>ä¸éœ€è¦è®¿é—®ä»»ä½•ç‰¹å®šå¯¹è±¡çš„é <code>static</code> æˆå‘˜å˜é‡ã€‚</strong></li>
<li><strong>å…¶è¡Œä¸ºä¸æ•´ä¸ªç±»ç›¸å…³ï¼Œè€Œä¸æ˜¯ä¸ç±»çš„æŸä¸ªå…·ä½“å¯¹è±¡ç›¸å…³ã€‚</strong></li>
<li><strong>å¯èƒ½éœ€è¦åœ¨æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡çš„æƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</strong></li>
</ul>
<p>é‚£ä¹ˆå®ƒå°±æ˜¯ <code>static</code> æˆå‘˜å‡½æ•°çš„å¥½é€‰æ‹©ã€‚å¸¸è§çš„ç”¨é€”åŒ…æ‹¬ï¼š</p>
<ul>
<li>è®¡æ•°ç±»åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼ˆå¦‚ <code>get_point_count</code>ï¼‰ã€‚</li>
<li>æä¾›å·¥å‚æ–¹æ³•ï¼ˆä¾‹å¦‚ <code>Point::create_point(x, y)</code>ï¼‰ã€‚</li>
<li>æ‰§è¡Œä¸€äº›åªä¸ç±»æœ¬èº«ç›¸å…³çš„å®ç”¨æ“ä½œã€‚</li>
</ul>
<hr>
<h2 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h2><p>ä¸ºäº†æ›´å¥½åœ°ç†è§£ <code>static</code> æˆå‘˜å‡½æ•°ï¼Œæˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ <code>Point</code> ç±»ç¤ºä¾‹ã€‚</p>
<p><strong><code>Point.h</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Point();</span><br><span class="line">    Point(<span class="keyword">int</span> x, <span class="keyword">int</span> y);</span><br><span class="line">    Point(<span class="keyword">const</span> Point&amp; source); <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼šè·å–ç‚¹å¯¹è±¡çš„æ€»æ•°</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šä¸èƒ½æ˜¯ const</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get_point_count</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼šæ‰“å°æŸä¸ªç‚¹å¯¹è±¡çš„ä¿¡æ¯ (éœ€è¦ä¼ å…¥å¯¹è±¡)</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print_point_info</span><span class="params">(<span class="keyword">const</span> Point&amp; p)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éé™æ€æˆå‘˜å‡½æ•°ï¼šæ‰“å°å½“å‰ç‚¹å¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_self_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é”™è¯¯ç¤ºä¾‹ï¼šè¯•å›¾åœ¨é™æ€å‡½æ•°ä¸­è®¿é—®éé™æ€æˆå‘˜</span></span><br><span class="line">    <span class="comment">// static void problematic_static_method() &#123;</span></span><br><span class="line">    <span class="comment">//     // std::cout &lt;&lt; "X: " &lt;&lt; m_x &lt;&lt; ", Y: " &lt;&lt; m_y &lt;&lt; std::endl; // ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line">    <span class="comment">//     // é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_x; <span class="comment">// éé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="keyword">int</span> m_y; <span class="comment">// éé™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å˜é‡ï¼šè®°å½•ç‚¹å¯¹è±¡çš„æ€»æ•°</span></span><br><span class="line">    <span class="comment">// C++17 åŠä»¥åå¯ä»¥ç›´æ¥åœ¨è¿™é‡Œä½¿ç”¨ inline åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> m_point_count = <span class="number">0</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong><code>Point.cpp</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœä¸æ˜¯ C++17 æˆ–ä¸ä½¿ç”¨ inlineï¼Œåˆ™éœ€è¦åœ¨è¿™é‡Œå®šä¹‰é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="comment">// int Point::m_point_count = 0; </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point() : Point(<span class="number">0</span>, <span class="number">0</span>) &#123; <span class="comment">// å§”æ‰˜ç»™å¸¦å‚æ•°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ ï¼Œm_point_count ä¼šåœ¨è¢«å§”æ‰˜çš„æ„é€ å‡½æ•°ä¸­é€’å¢</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¦å‚æ•°çš„æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">int</span> x, <span class="keyword">int</span> y) : m_x(x), m_y(y) &#123;</span><br><span class="line">    m_point_count++; <span class="comment">// æ¯åˆ›å»ºä¸€ä¸ª Point å¯¹è±¡ï¼Œè®¡æ•°å™¨å¢åŠ </span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">") Created. Total: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">const</span> Point&amp; source) : m_x(source.m_x), m_y(source.m_y) &#123;</span><br><span class="line">    m_point_count++; <span class="comment">// æ‹·è´æ„é€ ä¹Ÿä¼šå¢åŠ å¯¹è±¡è®¡æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point Copied ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">"). Total: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    m_point_count--; <span class="comment">// å¯¹è±¡é”€æ¯æ—¶ï¼Œè®¡æ•°å™¨å‡å°‘</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">") Destroyed. Total: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å‡½æ•°çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_point_count; <span class="comment">// è®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼Œé€šè¿‡ä¼ å…¥å¯¹è±¡æ¥è®¿é—®å…¶éé™æ€æˆå‘˜</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_point_info</span><span class="params">(<span class="keyword">const</span> Point&amp; p)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Static Print Info - Point X: "</span> &lt;&lt; p.m_x &lt;&lt; <span class="string">", Y: "</span> &lt;&lt; p.m_y &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éé™æ€æˆå‘˜å‡½æ•°ï¼Œæ‰“å°å½“å‰å¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_self_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Non-Static Print Info - Point X: "</span> &lt;&lt; m_x &lt;&lt; <span class="string">", Y: "</span> &lt;&lt; m_y &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong><code>main.cpp</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç¨‹åºå¼€å§‹ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. åœ¨åˆ›å»ºä»»ä½•å¯¹è±¡ä¹‹å‰è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åœ¨åˆ›å»ºå¯¹è±¡å‰ï¼Œå½“å‰ç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. åˆ›å»º Point å¯¹è±¡</span></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>; <span class="comment">// è°ƒç”¨å¸¦å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p1 åï¼Œå½“å‰ç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    Point p2; <span class="comment">// è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p2 åï¼Œå½“å‰ç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    Point p3 = p1; <span class="comment">// è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ‹·è´ p1 åˆ° p3 åï¼Œå½“å‰ç‚¹å¯¹è±¡æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. é€šè¿‡é™æ€æˆå‘˜å‡½æ•°æ‰“å°æŸä¸ªå¯¹è±¡çš„ä¿¡æ¯ï¼ˆä¼ å…¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    Point::print_point_info(p1);</span><br><span class="line">    Point::print_point_info(p2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. è°ƒç”¨éé™æ€æˆå‘˜å‡½æ•°ï¼ˆéœ€è¦é€šè¿‡å¯¹è±¡ï¼‰</span></span><br><span class="line">    p1.print_self_info();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. é”™è¯¯ç¤ºä¾‹ï¼šå°è¯•ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨éé™æ€å‡½æ•° (ä¼šæŠ¥é”™)</span></span><br><span class="line">    <span class="comment">// Point::print_self_info(); // ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•åœ¨æ²¡æœ‰å¯¹è±¡çš„æƒ…å†µä¸‹è°ƒç”¨éé™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6. é™æ€å‡½æ•°ä¸èƒ½è¢« const ä¿®é¥°çš„ä¾‹å­ (è¯·å°è¯•åœ¨ Point.h ä¸­ä¿®æ”¹ get_point_count å£°æ˜ï¼Œç„¶åç¼–è¯‘)</span></span><br><span class="line">    <span class="comment">// static int get_point_count() const; // ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼šstatic member function cannot have cv-qualifier</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç¨‹åºç»“æŸ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>ç¼–è¯‘å’Œè¿è¡Œï¼š</strong></p>
<p>ä½ éœ€è¦å°†è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼ˆ<code>Point.h</code>, <code>Point.cpp</code>, <code>main.cpp</code>ï¼‰æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åä½¿ç”¨C++ç¼–è¯‘å™¨ï¼ˆå¦‚g++ï¼‰ç¼–è¯‘ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp Point.cpp -o my_app</span><br><span class="line">./my_app</span><br></pre></td></tr></table></figure></div>
<p>è§‚å¯Ÿè¾“å‡ºï¼Œä½ ä¼šçœ‹åˆ° <code>Point::get_point_count()</code> å¦‚ä½•å‡†ç¡®åœ°è·Ÿè¸ªå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ã€‚</p>
<hr>
<h2 id="QA-é—ªå¡-QA-Flash-Cards"><a href="#QA-é—ªå¡-QA-Flash-Cards" class="headerlink" title="QA é—ªå¡ (QA Flash Cards)"></a>QA é—ªå¡ (QA Flash Cards)</h2><ol>
<li><p><strong>Q:</strong> <code>static</code> æˆå‘˜å‡½æ•°å±äºç±»çš„å“ªä¸ªéƒ¨åˆ†ï¼Ÿ<br><strong>A:</strong> å®ƒå±äº <strong>ç±»</strong> æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»çš„ä»»ä½•ç‰¹å®š <strong>å¯¹è±¡</strong>ã€‚</p>
</li>
<li><p><strong>Q:</strong> <code>static</code> æˆå‘˜å‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—® <code>static</code> æˆå‘˜å˜é‡å—ï¼Ÿ<br><strong>A:</strong> <strong>å¯ä»¥</strong>ã€‚å› ä¸º <code>static</code> æˆå‘˜å˜é‡ä¹Ÿå±äºç±»çº§åˆ«ã€‚</p>
</li>
<li><p><strong>Q:</strong> <code>static</code> æˆå‘˜å‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—®é <code>static</code> æˆå‘˜å˜é‡å—ï¼Ÿ<br><strong>A:</strong> <strong>ä¸å¯ä»¥ç›´æ¥è®¿é—®</strong>ã€‚å› ä¸ºå®ƒæ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œä¸çŸ¥é“è¦æ“ä½œå“ªä¸ªå¯¹è±¡çš„é <code>static</code> æˆå‘˜ã€‚</p>
</li>
<li><p><strong>Q:</strong> å¦‚ä½•åœ¨ <code>main</code> å‡½æ•°ä¸­è°ƒç”¨ <code>static</code> æˆå‘˜å‡½æ•°ï¼Ÿ<br><strong>A:</strong> ä½¿ç”¨ <strong>ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ <code>::</code></strong>ï¼Œä¾‹å¦‚ <code>ClassName::staticMethod()</code>ã€‚</p>
</li>
<li><p><strong>Q:</strong> <code>static</code> æˆå‘˜å‡½æ•°å¯ä»¥è¢« <code>const</code> å…³é”®å­—ä¿®é¥°å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ<br><strong>A:</strong> <strong>ä¸å¯ä»¥</strong>ã€‚å› ä¸º <code>const</code> å…³é”®å­—ç”¨äºä¿è¯å‡½æ•°ä¸ä¿®æ”¹å…¶æ‰€å±å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼Œè€Œ <code>static</code> æˆå‘˜å‡½æ•°ä¸å±äºä»»ä½•å¯¹è±¡ï¼Œæ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œä¹Ÿå°±æ²¡æœ‰â€œæ‰€å±å¯¹è±¡â€çš„çŠ¶æ€å¯ä¾›ä¿®æ”¹ã€‚</p>
</li>
<li><p><strong>Q:</strong> å¦‚æœ <code>static</code> æˆå‘˜å‡½æ•°éœ€è¦è®¿é—®æŸä¸ªå¯¹è±¡çš„é <code>static</code> æˆå‘˜ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ<br><strong>A:</strong> å°† <strong>è¯¥å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’</strong> ç»™ <code>static</code> æˆå‘˜å‡½æ•°ã€‚</p>
</li>
</ol>
<hr>
<h2 id="å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><a href="#å¸¸è§è¯¯è§£æˆ–é”™è¯¯" class="headerlink" title="å¸¸è§è¯¯è§£æˆ–é”™è¯¯"></a>å¸¸è§è¯¯è§£æˆ–é”™è¯¯</h2><ol>
<li><p><strong>è¯¯è§£1ï¼š<code>static</code> æˆå‘˜å‡½æ•°æœ‰ <code>this</code> æŒ‡é’ˆã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> <code>static</code> æˆå‘˜å‡½æ•°æ²¡æœ‰ <code>this</code> æŒ‡é’ˆã€‚<code>this</code> æŒ‡é’ˆæ€»æ˜¯æŒ‡å‘å½“å‰è¢«è°ƒç”¨çš„é <code>static</code> æˆå‘˜å‡½æ•°æ‰€å±çš„å¯¹è±¡ã€‚</li>
</ul>
</li>
<li><p><strong>è¯¯è§£2ï¼šå¯ä»¥åœ¨ <code>static</code> æˆå‘˜å‡½æ•°ä¸­ç›´æ¥è®¿é—®é <code>static</code> æˆå‘˜å˜é‡ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> è¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯ã€‚ç”±äºæ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œ<code>static</code> æˆå‘˜å‡½æ•°ä¸çŸ¥é“è¦è®¿é—®å“ªä¸ªå¯¹è±¡çš„é <code>static</code> æˆå‘˜ã€‚å¦‚æœä½ å°è¯•è¿™æ ·åšï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</li>
</ul>
</li>
<li><p><strong>è¯¯è§£3ï¼š<code>static</code> æˆå‘˜å‡½æ•°å¯ä»¥è¢«å£°æ˜ä¸º <code>const</code>ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> <code>const</code> æˆå‘˜å‡½æ•°æ˜¯ä¸ºäº†ä¿è¯ä¸ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œ <code>static</code> æˆå‘˜å‡½æ•°æ ¹æœ¬ä¸æ“ä½œä»»ä½•å¯¹è±¡çš„çŠ¶æ€ï¼Œæ‰€ä»¥ <code>const</code> å¯¹å®ƒæ²¡æœ‰æ„ä¹‰ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li>
</ul>
</li>
<li><p><strong>è¯¯è§£4ï¼š<code>static</code> æˆå‘˜å˜é‡ä¸éœ€è¦åœ¨ç±»å¤–å®šä¹‰/åˆå§‹åŒ–ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> é™¤äº† C++17 å¼•å…¥çš„ <code>inline</code> å…³é”®å­—å…è®¸åœ¨ç±»å†…åˆå§‹åŒ–å¤–ï¼Œé€šå¸¸ <code>static</code> æˆå‘˜å˜é‡éƒ½éœ€è¦åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­ï¼ˆç±»å®šä¹‰ä¹‹å¤–ï¼‰è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ï¼Œå¦åˆ™ä¼šé‡åˆ°é“¾æ¥é”™è¯¯ (undefined reference)ã€‚</li>
</ul>
</li>
<li><p><strong>è¯¯è§£5ï¼š<code>static</code> æˆå‘˜å‡½æ•°åªèƒ½è®¿é—® <code>static</code> æˆå‘˜å˜é‡ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> è™½ç„¶ä¸èƒ½ç›´æ¥è®¿é—®é <code>static</code> æˆå‘˜å˜é‡ï¼Œä½†å¦‚æœä¸€ä¸ªé <code>static</code> æˆå‘˜å˜é‡æ‰€å±çš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>static</code> å‡½æ•°ï¼Œé‚£ä¹ˆ <code>static</code> å‡½æ•°å¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°è®¿é—®è¯¥å¯¹è±¡çš„ <code>public</code> æˆ– <code>private</code> é <code>static</code> æˆå‘˜ï¼ˆå› ä¸ºå®ƒä»åœ¨ç±»çš„ä½œç”¨åŸŸå†…ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="ç¼–ç¨‹ç»ƒä¹ "><a href="#ç¼–ç¨‹ç»ƒä¹ " class="headerlink" title="ç¼–ç¨‹ç»ƒä¹ "></a>ç¼–ç¨‹ç»ƒä¹ </h2><p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™è®©ä½ åŠ¨æ‰‹å®è·µäº†ï¼</p>
<p>è¯·æ ¹æ®æˆ‘ä»¬å­¦åˆ°çš„çŸ¥è¯†ï¼Œå®Œå–„ä¸‹é¢çš„ <code>Car</code> ç±»ã€‚è¿™ä¸ª <code>Car</code> ç±»åº”è¯¥èƒ½å¤Ÿï¼š</p>
<ol>
<li>æœ‰ä¸€ä¸ª <code>static</code> æˆå‘˜å˜é‡æ¥è¿½è¸ªåˆ›å»ºäº†å¤šå°‘è¾† <code>Car</code> å¯¹è±¡ã€‚</li>
<li>æœ‰ä¸€ä¸ª <code>static</code> æˆå‘˜å‡½æ•°æ¥è·å–å½“å‰ <code>Car</code> å¯¹è±¡çš„æ€»æ•°ã€‚</li>
<li>æœ‰ä¸€ä¸ª <code>static</code> æˆå‘˜å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª <code>Car</code> å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶æ‰“å°è¿™è¾†è½¦çš„ <code>make</code> å’Œ <code>model</code>ã€‚</li>
<li>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°è¦æ­£ç¡®æ›´æ–° <code>static</code> è®¡æ•°å™¨ã€‚</li>
</ol>
<p>è¯·åœ¨ <code>Car.h</code> å’Œ <code>Car.cpp</code> æ–‡ä»¶ä¸­å®Œæˆ <code>// TODO:</code> éƒ¨åˆ†çš„ä»£ç ã€‚</p>
<p><strong><code>Car.h</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CAR_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CAR_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Car(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; make, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; model);</span><br><span class="line">    ~Car();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°æ¥è·å–å½“å‰åˆ›å»ºçš„ Car å¯¹è±¡æ€»æ•°</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šè¿™ä¸ªå‡½æ•°ä¸éœ€è¦å‚æ•°ï¼Œè¿”å›ç±»å‹æ˜¯ int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª const Car&amp; å‚æ•°ï¼Œå¹¶æ‰“å°è¯¥ Car å¯¹è±¡çš„ make å’Œ model</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šè¿™ä¸ªå‡½æ•°ä¸éœ€è¦è¿”å›ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_make;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_model;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡æ¥è¿½è¸ª Car å¯¹è±¡çš„æ€»æ•°</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šC++17 åŠä»¥åå¯ä»¥ç›´æ¥åœ¨è¿™é‡Œä½¿ç”¨ inline åˆå§‹åŒ–ä¸º 0</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CAR_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong><code>Car.cpp</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Car.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å¦‚æœåœ¨ Car.h ä¸­æ²¡æœ‰ä½¿ç”¨ inlineï¼Œè¯·åœ¨è¿™é‡Œå®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»çš„æ„é€ å‡½æ•°</span></span><br><span class="line">Car::Car(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; make, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; model) : m_make(make), m_model(model) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ„é€ æ—¶å¢åŠ  Car å¯¹è±¡è®¡æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car '"</span> &lt;&lt; m_make &lt;&lt; <span class="string">" "</span> &lt;&lt; m_model &lt;&lt; <span class="string">"' created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»çš„ææ„å‡½æ•°</span></span><br><span class="line">Car::~Car() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> ææ„æ—¶å‡å°‘ Car å¯¹è±¡è®¡æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car '"</span> &lt;&lt; m_make &lt;&lt; <span class="string">" "</span> &lt;&lt; m_model &lt;&lt; <span class="string">"' destroyed."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å®ç°è·å– Car å¯¹è±¡æ€»æ•°çš„é™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å®ç°æ‰“å° Car ä¿¡æ¯çš„é™æ€æˆå‘˜å‡½æ•°</span></span><br></pre></td></tr></table></figure></div>
<p><strong><code>main.cpp</code> (æ— éœ€ä¿®æ”¹ï¼Œç”¨äºæµ‹è¯•ä½ çš„ä»£ç )</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Car.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Car ç®¡ç†ç¨‹åºå¼€å§‹ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨åˆ›å»ºä»»ä½• Car å¯¹è±¡ä¹‹å‰ï¼Œè·å–å½“å‰ Car æ•°é‡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å½“å‰ Car æ•°é‡: "</span> &lt;&lt; Car::get_total_cars() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// å‡è®¾ä½ çš„é™æ€å‡½æ•°å« get_total_cars</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="comment">// å±€éƒ¨ä½œç”¨åŸŸï¼Œç”¨äºæµ‹è¯•å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ</span></span><br><span class="line">        <span class="function">Car <span class="title">myCar</span><span class="params">(<span class="string">"Toyota"</span>, <span class="string">"Camry"</span>)</span></span>;</span><br><span class="line">        <span class="function">Car <span class="title">yourCar</span><span class="params">(<span class="string">"Honda"</span>, <span class="string">"CRV"</span>)</span></span>;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»ºä¸¤è¾†è½¦åï¼Œå½“å‰ Car æ•°é‡: "</span> &lt;&lt; Car::get_total_cars() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨é™æ€å‡½æ•°æ‰“å°ç‰¹å®š Car çš„ä¿¡æ¯</span></span><br><span class="line">        Car::print_car_details(myCar); <span class="comment">// å‡è®¾ä½ çš„é™æ€å‡½æ•°å« print_car_details</span></span><br><span class="line">        Car::print_car_details(yourCar);</span><br><span class="line">    &#125; <span class="comment">// myCar å’Œ yourCar åœ¨è¿™é‡Œé”€æ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¦»å¼€ä½œç”¨åŸŸåï¼Œå½“å‰ Car æ•°é‡: "</span> &lt;&lt; Car::get_total_cars() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Car <span class="title">anotherCar</span><span class="params">(<span class="string">"Ford"</span>, <span class="string">"Focus"</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»ºå¦ä¸€è¾†è½¦åï¼Œå½“å‰ Car æ•°é‡: "</span> &lt;&lt; Car::get_total_cars() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Car::print_car_details(anotherCar);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Car ç®¡ç†ç¨‹åºç»“æŸ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¯·å®Œæˆ <code>Car.h</code> å’Œ <code>Car.cpp</code> ä¸­çš„ <code>TODO</code> éƒ¨åˆ†ï¼Œç„¶åå‘Šè¯‰æˆ‘ä½ çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>å›ç­”ä¹‹å‰æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œ è¿™ä¸ªStatic functionå’Œpythonçš„staticmethodæœ‰ä»€ä¹ˆåŒºåˆ«</p>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼æé—®è¯´æ˜ä½ æ­£åœ¨ç§¯ææ€è€ƒå¹¶å°è¯•å…³è”æ–°çŸ¥è¯†ï¼Œè¿™å¯¹äºå­¦ä¹ éå¸¸é‡è¦ã€‚</p>
<p>C++çš„ <code>static</code> æˆå‘˜å‡½æ•° (static member function) å’Œ Python çš„ <code>staticmethod</code> åœ¨æ¦‚å¿µä¸Šç¡®å®æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½†å®ƒä»¬åœ¨è¯­è¨€ç‰¹æ€§å’Œä½¿ç”¨å“²å­¦ä¸Šå­˜åœ¨ä¸€äº›å…³é”®åŒºåˆ«ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥è¯¦ç»†æ¯”è¾ƒä¸€ä¸‹ï¼š</p>
<h2 id="C-static-æˆå‘˜å‡½æ•°-vs-Python-staticmethod"><a href="#C-static-æˆå‘˜å‡½æ•°-vs-Python-staticmethod" class="headerlink" title="C++ static æˆå‘˜å‡½æ•° vs. Python staticmethod"></a>C++ <code>static</code> æˆå‘˜å‡½æ•° vs. Python <code>staticmethod</code></h2><p><strong>æ ¸å¿ƒç›¸ä¼¼ç‚¹ (Core Similarities):</strong></p>
<ol>
<li><strong>ç±»çº§åˆ«å½’å± (Class-level Affiliation):</strong> ä¸¤è€…éƒ½ä¸ <strong>ç±»</strong> (class) æœ¬èº«å…³è”ï¼Œè€Œä¸æ˜¯ä¸ç±»çš„ <strong>å¯¹è±¡</strong> (object / instance) å…³è”ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ä¸åˆ›å»ºä»»ä½•å¯¹è±¡çš„æƒ…å†µä¸‹ç›´æ¥é€šè¿‡ç±»åæ¥è°ƒç”¨å®ƒä»¬ï¼ˆC++: <code>ClassName::staticMethod()</code>ï¼›Python: <code>ClassName.static_method()</code>ï¼‰ã€‚</li>
<li><strong>ä¸æ¥æ”¶éšå¼å®ä¾‹å¼•ç”¨ (No Implicit Instance Reference):</strong><ul>
<li>C++ çš„ <code>static</code> æˆå‘˜å‡½æ•° <strong>æ²¡æœ‰ <code>this</code> æŒ‡é’ˆ</strong> (this pointer)ã€‚</li>
<li>Python çš„ <code>staticmethod</code> ä¸ä¼šè‡ªåŠ¨æ¥æ”¶ <code>self</code> å‚æ•°ï¼ˆå³å®ä¾‹æœ¬èº«ï¼‰ã€‚<br>è¿™æ˜¯å®ƒä»¬èƒ½å¤Ÿè¢«ç§°ä¸ºâ€œé™æ€â€çš„æ ¸å¿ƒåŸå› â€”â€”å®ƒä»¬ä¸æ“ä½œç‰¹å®šå¯¹è±¡çš„å®ä¾‹æ•°æ®ã€‚</li>
</ul>
</li>
</ol>
<p><strong>å…³é”®åŒºåˆ« (Key Differences):</strong></p>
<ol>
<li><p><strong>è®¿é—®ç±»æˆå‘˜çš„æƒé™ (Access to Class Members):</strong></p>
<ul>
<li><strong>C++ <code>static</code> æˆå‘˜å‡½æ•°ï¼š</strong><ul>
<li>å¯ä»¥ <strong>ç›´æ¥è®¿é—®</strong> ç±»çš„ <strong><code>static</code> æˆå‘˜å˜é‡</strong> (static member variable) å’Œ <strong><code>static</code> æˆå‘˜å‡½æ•°</strong>ã€‚å› ä¸º <code>static</code> æˆå‘˜ä¹Ÿæ˜¯ç±»çº§åˆ«çš„ã€‚</li>
<li><strong>ä¸èƒ½ç›´æ¥è®¿é—®</strong> ç±»çš„ <strong>é <code>static</code> æˆå‘˜å˜é‡</strong> (non-static member variable) æˆ– <strong>é <code>static</code> æˆå‘˜å‡½æ•°</strong>ã€‚å¦‚æœä½ éœ€è¦åœ¨ <code>static</code> å‡½æ•°ä¸­æ“ä½œé <code>static</code> æˆå‘˜ï¼Œä½ å¿…é¡»å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°æ˜¾å¼åœ°ä¼ é€’ç»™å®ƒã€‚</li>
</ul>
</li>
<li><strong>Python <code>staticmethod</code>ï¼š</strong><ul>
<li><strong>ä¸èƒ½ç›´æ¥è®¿é—®</strong> å®ä¾‹å±æ€§ (instance attributes)ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ <code>self</code> å‚æ•°ã€‚</li>
<li>å¯ä»¥ <strong>ç›´æ¥è®¿é—®</strong> ç±»çš„ <strong>ç±»å±æ€§</strong> (class attributes) å’Œ <strong>å…¶ä»– <code>staticmethod</code></strong>ã€‚</li>
<li>å¦‚æœéœ€è¦è®¿é—® <strong><code>classmethod</code></strong> (ç±»æ–¹æ³•) æˆ– <strong>æ™®é€šæ–¹æ³•</strong> (regular method)ï¼Œé€šå¸¸éœ€è¦æ˜¾å¼åœ°é€šè¿‡ç±»åæ¥è°ƒç”¨ï¼ˆä¾‹å¦‚ <code>ClassName.some_classmethod()</code>ï¼‰ã€‚Python çš„ <code>classmethod</code> (ç±»æ–¹æ³•) ä¼šè‡ªåŠ¨æ¥æ”¶ <code>cls</code> (ç±»æœ¬èº«) ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°è®¿é—®ç±»å±æ€§å’Œè°ƒç”¨å…¶ä»–ç±»æ–¹æ³•ï¼Œè€Œ <code>staticmethod</code> æ²¡æœ‰è¿™ä¸ª <code>cls</code> å‚æ•°ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>å¤šæ€æ€§ä¸ç»§æ‰¿ (Polymorphism and Inheritance):</strong></p>
<ul>
<li><strong>C++ <code>static</code> æˆå‘˜å‡½æ•°ï¼š</strong><ul>
<li><strong>ä¸èƒ½æ˜¯è™šå‡½æ•° (virtual function)</strong>ã€‚C++ çš„è™šå‡½æ•°æœºåˆ¶ä¾èµ–äº <code>this</code> æŒ‡é’ˆå’Œè™šå‡½æ•°è¡¨ (vtable) æ¥å®ç°è¿è¡Œæ—¶å¤šæ€ï¼Œè€Œ <code>static</code> å‡½æ•°æ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œä¸å‚ä¸å¤šæ€ã€‚</li>
<li>å¦‚æœæ´¾ç”Ÿç±» (derived class) å®šä¹‰äº†ä¸€ä¸ªä¸åŸºç±» (base class) åŒåçš„ <code>static</code> æˆå‘˜å‡½æ•°ï¼Œè¿™é€šå¸¸æ˜¯ <strong>éšè— (hiding)</strong> è€Œä¸æ˜¯ <strong>è¦†ç›– (overriding)</strong>ã€‚è°ƒç”¨å“ªä¸ªå‡½æ•°å–å†³äºä½ ä½¿ç”¨åŸºç±»åè¿˜æ˜¯æ´¾ç”Ÿç±»åæ¥è°ƒç”¨ã€‚</li>
</ul>
</li>
<li><strong>Python <code>staticmethod</code>ï¼š</strong><ul>
<li>å®ƒä»ç„¶éµå¾ª Python çš„ç»§æ‰¿è§„åˆ™ã€‚æ´¾ç”Ÿç±»ä¼šç»§æ‰¿åŸºç±»çš„ <code>staticmethod</code>ã€‚</li>
<li>è™½ç„¶ <code>staticmethod</code> ä¸å‚ä¸å®ä¾‹æ–¹æ³•é‚£æ ·çš„åŠ¨æ€è°ƒåº¦ (dynamic dispatch)ï¼Œä½†å®ƒç¡®å®æ˜¯ç±»æ–¹æ³•è§£æé¡ºåº (Method Resolution Order, MRO) çš„ä¸€éƒ¨åˆ†ã€‚åœ¨ Python ä¸­ï¼Œæ–¹æ³•æŸ¥æ‰¾é€šå¸¸æ˜¯åŠ¨æ€çš„ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>å£°æ˜æ–¹å¼ (Declaration Method):</strong></p>
<ul>
<li><strong>C++ï¼š</strong> ä½¿ç”¨ <code>static</code> å…³é”®å­—ç›´æ¥æ”¾åœ¨å‡½æ•°å£°æ˜å‰é¢ã€‚</li>
<li><strong>Pythonï¼š</strong> ä½¿ç”¨ <code>@staticmethod</code> è£…é¥°å™¨ (decorator) æ”¾åœ¨å‡½æ•°å®šä¹‰ä¸Šæ–¹ã€‚</li>
</ul>
</li>
<li><p><strong>å“²å­¦/æœ€ä½³å®è·µ (Philosophy/Best Practice):</strong></p>
<ul>
<li><strong>C++ <code>static</code> æˆå‘˜å‡½æ•°ï¼š</strong> æ›´å¸¸ç”¨äºä¸ç±»æœ¬èº«é€»è¾‘ç›¸å…³ä½†ä¸éœ€è¦ä»»ä½•å¯¹è±¡çŠ¶æ€çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š<ul>
<li>å¯¹è±¡è®¡æ•°å™¨ (<code>Point::get_point_count()</code>)ã€‚</li>
<li>å·¥å‚æ–¹æ³• (factory method)ï¼Œç”¨äºåˆ›å»ºç±»çš„å®ä¾‹è€Œä¸éœ€è¦ç°æœ‰å®ä¾‹ã€‚</li>
<li>ä¸€äº›å·¥å…·å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¸ç±»ç´§å¯†ç›¸å…³ï¼Œä½†å¹¶ä¸æ“ä½œç±»çš„å®ä¾‹æ•°æ®ã€‚</li>
</ul>
</li>
<li><strong>Python <code>staticmethod</code>ï¼š</strong> å“²å­¦ä¸Šæ›´çµæ´»ä¸€äº›ã€‚é€šå¸¸ç”¨äºï¼š<ul>
<li>çº¯ç²¹çš„å·¥å…·å‡½æ•°ï¼Œåªæ˜¯ä¸ºäº†é€»è¾‘ç»„ç»‡è€Œæ”¾åœ¨ç±»å†…ã€‚</li>
<li>å½“ä¸€ä¸ªå‡½æ•°æ—¢ä¸éœ€è¦è®¿é—®å®ä¾‹æ•°æ® (<code>self</code>) ä¹Ÿä¸éœ€è¦è®¿é—®ç±»æ•°æ® (<code>cls</code>) æ—¶ã€‚</li>
<li>Python æä¾›äº† <code>classmethod</code> (ç±»æ–¹æ³•) æ¥å¤„ç†éœ€è¦è®¿é—®ç±»è‡ªèº«ï¼ˆä¾‹å¦‚ï¼Œåˆ›å»ºå­ç±»å®ä¾‹æˆ–è®¿é—®ç±»å±æ€§ï¼‰çš„åœºæ™¯ï¼Œè¿™åœ¨ C++ ä¸­é€šå¸¸ç”± <code>static</code> æ–¹æ³•ç»“åˆæ˜¾å¼ä¼ é€’ç±»ä¿¡æ¯æ¥å®Œæˆã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<p><strong>æ€»ç»“è¡¨æ ¼ï¼š</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">ç‰¹æ€§ / æ–¹æ³•</th>
<th style="text-align:left">C++ <code>static</code> æˆå‘˜å‡½æ•°</th>
<th style="text-align:left">Python <code>staticmethod</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>æ‰€å±</strong></td>
<td style="text-align:left">ç±»</td>
<td style="text-align:left">ç±»</td>
</tr>
<tr>
<td style="text-align:left"><strong>éœ€è¦å¯¹è±¡è°ƒç”¨</strong></td>
<td style="text-align:left">å¦ (<code>ClassName::method()</code>)</td>
<td style="text-align:left">å¦ (<code>ClassName.method()</code>)</td>
</tr>
<tr>
<td style="text-align:left"><strong><code>this</code> / <code>self</code> å‚æ•°</strong></td>
<td style="text-align:left">æ—  <code>this</code> æŒ‡é’ˆ</td>
<td style="text-align:left">æ—  <code>self</code> å‚æ•°</td>
</tr>
<tr>
<td style="text-align:left"><strong>å¯ç›´æ¥è®¿é—®å®ä¾‹æ•°æ®</strong></td>
<td style="text-align:left">å¦</td>
<td style="text-align:left">å¦</td>
</tr>
<tr>
<td style="text-align:left"><strong>å¯ç›´æ¥è®¿é—®ç±»æ•°æ®</strong></td>
<td style="text-align:left">å¯ä»¥è®¿é—® <code>static</code> æˆå‘˜å˜é‡/å‡½æ•°</td>
<td style="text-align:left">å¯ä»¥è®¿é—®ç±»å±æ€§ï¼Œå…¶ä»– <code>staticmethod</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>å¤šæ€æ€§</strong></td>
<td style="text-align:left">ä¸å‚ä¸è™šå‡½æ•°ï¼Œæ´¾ç”Ÿç±»éšè—</td>
<td style="text-align:left">å‚ä¸ç»§æ‰¿ï¼Œä¸å‚ä¸åŠ¨æ€è°ƒåº¦</td>
</tr>
<tr>
<td style="text-align:left"><strong>å£°æ˜æ–¹å¼</strong></td>
<td style="text-align:left"><code>static</code> å…³é”®å­—</td>
<td style="text-align:left"><code>@staticmethod</code> è£…é¥°å™¨</td>
</tr>
<tr>
<td style="text-align:left"><strong>å…¸å‹ç”¨é€”</strong></td>
<td style="text-align:left">å¯¹è±¡è®¡æ•°ï¼Œå·¥å‚æ–¹æ³•ï¼Œç±»çº§åˆ«å·¥å…·å‡½æ•°</td>
<td style="text-align:left">çº¯å·¥å…·å‡½æ•°ï¼Œé€»è¾‘ç»„ç»‡</td>
</tr>
</tbody>
</table>
</div>
<p>ç†è§£äº†è¿™äº›åŒºåˆ«ï¼Œä½ ä¼šå‘ç°è™½ç„¶åå­—ç›¸ä¼¼ï¼Œä½†å®ƒä»¬åœ¨å„è‡ªè¯­è¨€çš„ç±»å‹ç³»ç»Ÿå’Œè¿è¡Œæ—¶è¡Œä¸ºä¸­æ‰®æ¼”çš„è§’è‰²ç•¥æœ‰ä¸åŒã€‚åœ¨ C++ ä¸­ï¼Œ<code>static</code> æˆå‘˜å‡½æ•°æä¾›äº†éå¸¸ä¸¥æ ¼çš„ç¼–è¯‘æ—¶ä¿è¯å’Œç±»å‹å®‰å…¨ï¼Œè€Œ Python çš„ <code>staticmethod</code> åˆ™ä½“ç°äº†å…¶åŠ¨æ€ã€çµæ´»çš„ç‰¹æ€§ã€‚</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-2"><a href="#ğŸ§‘â€ğŸ’»-User-2" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>classmethodå’Œstaticmethodçš„åŒºåˆ«ï¼Ÿ python</p>
<hr>
<h2 id="ğŸ¤–-Assistant-2"><a href="#ğŸ¤–-Assistant-2" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæ—¢ç„¶ä½ é—®åˆ°äº† <code>classmethod</code> å’Œ <code>staticmethod</code> åœ¨ Python ä¸­çš„åŒºåˆ«ï¼Œè¿™æ­£æ˜¯ç†è§£ Python ç±»æ–¹æ³•è®¾è®¡ç†å¿µçš„å…³é”®ï¼æˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨ä¸€ä¸‹ã€‚</p>
<p>åœ¨ Python ä¸­ï¼Œ<code>staticmethod</code> å’Œ <code>classmethod</code> éƒ½å±äºè£…é¥°å™¨ (decorators)ï¼Œç”¨äºä¿®æ”¹ç±»ä¸­æ–¹æ³•çš„è¡Œä¸ºã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬æ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä»¥åŠå®ƒä»¬å› æ­¤èƒ½å¤Ÿè®¿é—®çš„ä¿¡æ¯ã€‚</p>
<h2 id="Python-staticmethod-é™æ€æ–¹æ³•"><a href="#Python-staticmethod-é™æ€æ–¹æ³•" class="headerlink" title="Python staticmethod (é™æ€æ–¹æ³•)"></a>Python <code>staticmethod</code> (é™æ€æ–¹æ³•)</h2><p>æ­£å¦‚æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„ï¼Œ<code>staticmethod</code> çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯ï¼š</p>
<ol>
<li><strong>ä¸æ¥æ”¶ä»»ä½•éšå¼å‚æ•° (No Implicit First Argument):</strong> å®ƒæ—¢ä¸æ¥æ”¶ç±»å®ä¾‹ (<code>self</code>) ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¹Ÿä¸æ¥æ”¶ç±»æœ¬èº« (<code>cls</code>) ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li>
<li><strong>è¡Œä¸ºä¸æ™®é€šå‡½æ•°ç±»ä¼¼ (Behaves like a Regular Function):</strong> å®ƒæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå®šä¹‰åœ¨ç±»å‘½åç©ºé—´ (namespace) ä¸‹çš„æ™®é€šå‡½æ•°ã€‚å®ƒä¸ç±»æˆ–ç±»çš„ä»»ä½•å®ä¾‹éƒ½æ²¡æœ‰ç›´æ¥çš„â€œç»‘å®šâ€å…³ç³»ã€‚</li>
<li><strong>æ— æ³•ç›´æ¥è®¿é—®å®ä¾‹æˆ–ç±»æ•°æ® (Cannot Directly Access Instance or Class Data):</strong> å› ä¸ºå®ƒæ²¡æœ‰ <code>self</code> æˆ– <code>cls</code> å‚æ•°ï¼Œæ‰€ä»¥å®ƒæ— æ³•ç›´æ¥è®¿é—®å®ä¾‹çš„å±æ€§ (instance attributes) æˆ–ç±»çš„å±æ€§ (class attributes)ã€‚å¦‚æœä½ æƒ³è®©å®ƒè®¿é—®è¿™äº›æ•°æ®ï¼Œä½ å¿…é¡»æ˜¾å¼åœ°å°†å®ƒä»¬ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚</li>
</ol>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li><strong>çº¯å·¥å…·å‡½æ•° (Utility Functions):</strong> å½“ä¸€ä¸ªå‡½æ•°ä¸ç±»æœ‰é€»è¾‘ä¸Šçš„å…³è”ï¼Œä½†ä¸éœ€è¦è®¿é—®ç±»æˆ–å®ä¾‹çš„ä»»ä½•ç‰¹å®šæ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>staticmethod</code>ã€‚å®ƒåªæ˜¯ä¸ºäº†ä»£ç ç»„ç»‡è€Œæ”¾åœ¨ç±»é‡Œé¢ï¼Œè€Œä¸æ˜¯å…¨å±€å‡½æ•°ã€‚</li>
<li><strong>ä¸å…¶ä»–ç±»æˆ–å®ä¾‹æ— å…³çš„è¾…åŠ©è®¡ç®— (Auxiliary Calculations):</strong> ä¾‹å¦‚ï¼Œä¸€ä¸ªç±»ä¸­å¯èƒ½åŒ…å«ä¸€ä¸ªç”¨äºæ ¡éªŒè¾“å…¥çš„è¾…åŠ©å‡½æ•°ï¼Œè¿™ä¸ªæ ¡éªŒé€»è¾‘ä¸ç±»çš„çŠ¶æ€æ— å…³ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    class_attribute = <span class="string">"Hello from class"</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, instance_attribute)</span>:</span></span><br><span class="line">        self.instance_attribute = instance_attribute</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">static_method_example</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="comment"># æ— æ³•ç›´æ¥è®¿é—® MyClass.class_attribute æˆ– self.instance_attribute</span></span><br><span class="line">        print(<span class="string">f"é™æ€æ–¹æ³•è¢«è°ƒç”¨ï¼Œå‚æ•°: <span class="subst">&#123;x&#125;</span>, <span class="subst">&#123;y&#125;</span>"</span>)</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨æ–¹å¼ï¼š</span></span><br><span class="line">print(MyClass.static_method_example(<span class="number">5</span>, <span class="number">3</span>)) <span class="comment"># é€šè¿‡ç±»åè°ƒç”¨</span></span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥é€šè¿‡å®ä¾‹è°ƒç”¨ï¼Œä½†ä¸æ¨èï¼Œå› ä¸ºå®ƒå®¹æ˜“è®©äººè¯¯è§£</span></span><br><span class="line">obj = MyClass(<span class="string">"instance data"</span>)</span><br><span class="line">print(obj.static_method_example(<span class="number">10</span>, <span class="number">2</span>))</span><br></pre></td></tr></table></figure></div>
<h2 id="Python-classmethod-ç±»æ–¹æ³•"><a href="#Python-classmethod-ç±»æ–¹æ³•" class="headerlink" title="Python classmethod (ç±»æ–¹æ³•)"></a>Python <code>classmethod</code> (ç±»æ–¹æ³•)</h2><p><code>classmethod</code> çš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯ï¼š</p>
<ol>
<li><strong>æ¥æ”¶ç±»æœ¬èº«ä½œä¸ºç¬¬ä¸€ä¸ªéšå¼å‚æ•° (Receives the Class Itself as First Implicit Argument):</strong> çº¦å®šä¿—æˆåœ°ï¼Œè¿™ä¸ªå‚æ•°é€šå¸¸å‘½åä¸º <code>cls</code> (class çš„ç¼©å†™)ã€‚</li>
<li><strong>å¯ä»¥è®¿é—®ç±»å±æ€§å’Œè°ƒç”¨å…¶ä»–ç±»æ–¹æ³• (Can Access Class Attributes and Call Other Class Methods):</strong> å› ä¸ºå®ƒæ¥æ”¶äº† <code>cls</code> å‚æ•°ï¼Œæ‰€ä»¥å®ƒå¯ä»¥é€šè¿‡ <code>cls</code> æ¥è®¿é—®ç±»çš„å±æ€§ (class attributes) å’Œè°ƒç”¨ç±»çš„å…¶ä»–æ–¹æ³•ï¼ˆåŒ…æ‹¬å…¶ä»– <code>classmethod</code> æˆ– <code>staticmethod</code>ï¼‰ã€‚</li>
<li><strong>ä¸»è¦ç”¨äºåˆ›å»ºå®ä¾‹ (Often Used for Alternative Constructors):</strong> å®ƒä»¬å¸¸è¢«ç”¨ä½œæ›¿ä»£æ„é€ å‡½æ•° (alternative constructors)ï¼Œæä¾›ä¸åŒçš„æ–¹å¼æ¥åˆ›å»ºç±»çš„å®ä¾‹ã€‚</li>
</ol>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li><strong>å·¥å‚æ–¹æ³• (Factory Methods):</strong> å½“ä½ éœ€è¦æä¾›å¤šç§æ–¹å¼æ¥åˆ›å»ºç±»çš„å®ä¾‹æ—¶ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ª <code>Date</code> ç±»å¯èƒ½æœ‰ä¸€ä¸ª <code>from_string</code> ç±»æ–¹æ³•ï¼Œç”¨äºä»å­—ç¬¦ä¸²è§£ææ—¥æœŸå¹¶åˆ›å»º <code>Date</code> å¯¹è±¡ã€‚</li>
<li><strong>éœ€è¦è®¿é—®ç±»å±æ€§çš„å·¥å…·å‡½æ•° (Utility Functions Needing Class Attributes):</strong> å½“ä¸€ä¸ªå‡½æ•°éœ€è¦è®¿é—®æˆ–ä¿®æ”¹ç±»çº§åˆ«çš„çŠ¶æ€ï¼ˆå³ç±»å±æ€§ï¼‰æ—¶ã€‚</li>
<li><strong>å¤„ç†ç»§æ‰¿ (Handling Inheritance):</strong> å½“ä½ ä½¿ç”¨ <code>classmethod</code> åˆ›å»ºå®ä¾‹æ—¶ï¼Œå¦‚æœå­ç±»è°ƒç”¨äº†è¿™ä¸ªç±»æ–¹æ³•ï¼Œé‚£ä¹ˆ <code>cls</code> å‚æ•°å°†æŒ‡å‘å­ç±»ï¼Œè€Œä¸æ˜¯åŸºç±»ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿæ­£ç¡®åœ°åˆ›å»ºå­ç±»çš„å®ä¾‹ï¼Œè¿™åœ¨å¤„ç†ç»§æ‰¿æ—¶éå¸¸æœ‰ç”¨ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span>:</span></span><br><span class="line">    class_attribute = <span class="string">"Hello from class"</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.value = value</span><br><span class="line">        print(<span class="string">f"MyClass instance created with value: <span class="subst">&#123;self.value&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">class_method_example</span><span class="params">(cls, prefix)</span>:</span></span><br><span class="line">        <span class="comment"># cls å‚æ•°å°±æ˜¯ MyClass è¿™ä¸ªç±»æœ¬èº«</span></span><br><span class="line">        print(<span class="string">f"ç±»æ–¹æ³•è¢«è°ƒç”¨ã€‚Class Attribute: <span class="subst">&#123;cls.class_attribute&#125;</span>"</span>)</span><br><span class="line">        <span class="comment"># é€šè¿‡ cls å‚æ•°å¯ä»¥åˆ›å»ºç±»çš„å®ä¾‹</span></span><br><span class="line">        <span class="keyword">return</span> cls(<span class="string">f"<span class="subst">&#123;prefix&#125;</span> - derived value"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create_from_string</span><span class="params">(cls, data_string)</span>:</span></span><br><span class="line">        <span class="comment"># è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„å·¥å‚æ–¹æ³•ç”¨æ³•</span></span><br><span class="line">        parts = data_string.split(<span class="string">'-'</span>)</span><br><span class="line">        <span class="keyword">if</span> len(parts) == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> cls(<span class="string">f"From String: <span class="subst">&#123;parts[<span class="number">0</span>]&#125;</span>_<span class="subst">&#123;parts[<span class="number">1</span>]&#125;</span>"</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> cls(<span class="string">"Default Value"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨æ–¹å¼ï¼š</span></span><br><span class="line"><span class="comment"># é€šè¿‡ç±»åè°ƒç”¨ç±»æ–¹æ³•ï¼Œå¹¶åˆ›å»ºå®ä¾‹</span></span><br><span class="line">instance1 = MyClass.class_method_example(<span class="string">"Prefix"</span>)</span><br><span class="line">instance2 = MyClass.create_from_string(<span class="string">"data1-data2"</span>)</span><br><span class="line">instance3 = MyClass.create_from_string(<span class="string">"single_data"</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">f"å®ä¾‹1çš„å€¼: <span class="subst">&#123;instance1.value&#125;</span>"</span>)</span><br><span class="line">print(<span class="string">f"å®ä¾‹2çš„å€¼: <span class="subst">&#123;instance2.value&#125;</span>"</span>)</span><br><span class="line">print(<span class="string">f"å®ä¾‹3çš„å€¼: <span class="subst">&#123;instance3.value&#125;</span>"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»§æ‰¿ä¸­çš„ç±»æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span><span class="params">(MyClass)</span>:</span></span><br><span class="line">    class_attribute = <span class="string">"Hello from SubClass"</span> <span class="comment"># å­ç±»å¯ä»¥è¦†ç›–ç±»å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        super().__init__(value)</span><br><span class="line">        print(<span class="string">"SubClass instance created!"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­ç±»è°ƒç”¨åŸºç±»çš„ç±»æ–¹æ³•ï¼Œcls ä¼šæŒ‡å‘ SubClass</span></span><br><span class="line">sub_instance = SubClass.class_method_example(<span class="string">"SubPrefix"</span>)</span><br><span class="line">print(<span class="string">f"å­ç±»å®ä¾‹çš„å€¼: <span class="subst">&#123;sub_instance.value&#125;</span>"</span>)</span><br></pre></td></tr></table></figure></div>
<p>åœ¨è¿™ä¸ªç»§æ‰¿çš„ä¾‹å­ä¸­ï¼Œå½“ <code>SubClass.class_method_example(&quot;SubPrefix&quot;)</code> è¢«è°ƒç”¨æ—¶ï¼Œ<code>cls</code> å‚æ•°å®é™…ä¸Šæ˜¯ <code>SubClass</code>ï¼Œæ‰€ä»¥ <code>cls(f&quot;{prefix} - derived value&quot;)</code> ä¼šåˆ›å»ºä¸€ä¸ª <code>SubClass</code> çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯ <code>MyClass</code> çš„å®ä¾‹ã€‚è¿™æ˜¯ <code>classmethod</code> æ¯” <code>staticmethod</code> æ›´å¼ºå¤§çš„ä¸€ä¸ªå…³é”®ç‚¹ã€‚</p>
<h2 id="æ€»ç»“è¡¨æ ¼"><a href="#æ€»ç»“è¡¨æ ¼" class="headerlink" title="æ€»ç»“è¡¨æ ¼"></a>æ€»ç»“è¡¨æ ¼</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">ç‰¹æ€§ / æ–¹æ³•</th>
<th style="text-align:left"><code>staticmethod</code> (é™æ€æ–¹æ³•)</th>
<th style="text-align:left"><code>classmethod</code> (ç±»æ–¹æ³•)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>ç¬¬ä¸€ä¸ªå‚æ•°</strong></td>
<td style="text-align:left">æ—  (<code>self</code> æˆ– <code>cls</code>)</td>
<td style="text-align:left"><code>cls</code> (ä»£è¡¨ç±»æœ¬èº«)</td>
</tr>
<tr>
<td style="text-align:left"><strong>å¯è®¿é—®å®ä¾‹å±æ€§</strong></td>
<td style="text-align:left">å¦ (é™¤éæ˜¾å¼ä¼ å…¥å®ä¾‹)</td>
<td style="text-align:left">å¦ (ä½†å¯ä»¥åˆ›å»ºå®ä¾‹æ¥è®¿é—®)</td>
</tr>
<tr>
<td style="text-align:left"><strong>å¯è®¿é—®ç±»å±æ€§</strong></td>
<td style="text-align:left">å¦ (é™¤éæ˜¾å¼é€šè¿‡ <code>ClassName.attr</code>)</td>
<td style="text-align:left">æ˜¯ (é€šè¿‡ <code>cls.attribute</code>)</td>
</tr>
<tr>
<td style="text-align:left"><strong>æ˜¯å¦èƒ½å¤Ÿåˆ›å»ºå®ä¾‹</strong></td>
<td style="text-align:left">å¦ (åªèƒ½é€šè¿‡ <code>ClassName()</code> æˆ– <code>cls()</code>)</td>
<td style="text-align:left">æ˜¯ (é€šè¿‡ <code>cls()</code>)</td>
</tr>
<tr>
<td style="text-align:left"><strong>ç»‘å®šåˆ°</strong></td>
<td style="text-align:left">ç±»ï¼Œä½†è¡Œä¸ºåƒæ™®é€šå‡½æ•°</td>
<td style="text-align:left">ç±»</td>
</tr>
<tr>
<td style="text-align:left"><strong>ä¸»è¦ç”¨é€”</strong></td>
<td style="text-align:left">çº¯å·¥å…·å‡½æ•°ï¼Œä»£ç ç»„ç»‡</td>
<td style="text-align:left">å·¥å‚æ–¹æ³•ï¼Œæ›¿ä»£æ„é€ å‡½æ•°ï¼Œæ“ä½œç±»å±æ€§</td>
</tr>
</tbody>
</table>
</div>
<p><strong>ç®€è€Œè¨€ä¹‹ï¼š</strong></p>
<ul>
<li><strong><code>staticmethod</code></strong>ï¼šæ–¹æ³•å†…éƒ¨ <strong>æ—¢ä¸éœ€è¦è®¿é—®å®ä¾‹æ•°æ®ï¼Œä¹Ÿä¸éœ€è¦è®¿é—®ç±»æ•°æ®</strong>ã€‚å®ƒåªæ˜¯ä¸€ä¸ªé€»è¾‘ä¸Šå±äºè¿™ä¸ªç±»çš„æ™®é€šå‡½æ•°ã€‚</li>
<li><strong><code>classmethod</code></strong>ï¼šæ–¹æ³•å†…éƒ¨ <strong>éœ€è¦è®¿é—®ç±»æœ¬èº«</strong>ï¼ˆæ¯”å¦‚è®¿é—®ç±»å±æ€§ï¼Œæˆ–è€…æ ¹æ®ç±»çš„ç±»å‹åˆ›å»ºæ–°çš„å®ä¾‹ï¼‰ã€‚å®ƒæ¥æ”¶ <code>cls</code> å‚æ•°ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªå‚æ•°æ¥å¤„ç†ç±»ç›¸å…³çš„äº‹å®œã€‚</li>
</ul>
<p>å¸Œæœ›è¿™ä¸ªè¯¦ç»†çš„è§£é‡Šèƒ½å¸®åŠ©ä½ å½»åº•ç†è§£ä¸¤è€…çš„åŒºåˆ«ï¼</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-3"><a href="#ğŸ§‘â€ğŸ’»-User-3" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>answer:</p>
<p>Car.h<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CAR_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CAR_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Car(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; make, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; model);</span><br><span class="line">    ~Car();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°æ¥è·å–å½“å‰åˆ›å»ºçš„ Car å¯¹è±¡æ€»æ•°</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šè¿™ä¸ªå‡½æ•°ä¸éœ€è¦å‚æ•°ï¼Œè¿”å›ç±»å‹æ˜¯ int</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get_total_cars</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª const Car&amp; å‚æ•°ï¼Œå¹¶æ‰“å°è¯¥ Car å¯¹è±¡çš„ make å’Œ model</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šè¿™ä¸ªå‡½æ•°ä¸éœ€è¦è¿”å›ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print_car_details</span><span class="params">(<span class="keyword">const</span> Car&amp; car)</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_make;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_model;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡æ¥è¿½è¸ª Car å¯¹è±¡çš„æ€»æ•°</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šC++17 åŠä»¥åå¯ä»¥ç›´æ¥åœ¨è¿™é‡Œä½¿ç”¨ inline åˆå§‹åŒ–ä¸º 0</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> num_of_cars = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CAR_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p>Car.cpp<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Car.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å¦‚æœåœ¨ Car.h ä¸­æ²¡æœ‰ä½¿ç”¨ inlineï¼Œè¯·åœ¨è¿™é‡Œå®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»çš„æ„é€ å‡½æ•°</span></span><br><span class="line">Car::Car(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; make, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; model) : m_make(make), m_model(model) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> æ„é€ æ—¶å¢åŠ  Car å¯¹è±¡è®¡æ•°</span></span><br><span class="line">    num_of_cars++;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car '"</span> &lt;&lt; m_make &lt;&lt; <span class="string">" "</span> &lt;&lt; m_model &lt;&lt; <span class="string">"' created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»çš„ææ„å‡½æ•°</span></span><br><span class="line">Car::~Car() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> ææ„æ—¶å‡å°‘ Car å¯¹è±¡è®¡æ•°</span></span><br><span class="line">    num_of_cars--;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car '"</span> &lt;&lt; m_make &lt;&lt; <span class="string">" "</span> &lt;&lt; m_model &lt;&lt; <span class="string">"' destroyed."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å®ç°è·å– Car å¯¹è±¡æ€»æ•°çš„é™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Car::get_total_cars</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num_of_cars;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> å®ç°æ‰“å° Car ä¿¡æ¯çš„é™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Car::print_car_details</span><span class="params">(<span class="keyword">const</span> Car&amp; car)</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"make is "</span> &lt;&lt; car.m_make &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"model is "</span> &lt;&lt; car.m_model &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<hr>
<h2 id="ğŸ¤–-Assistant-3"><a href="#ğŸ¤–-Assistant-3" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¤ªæ£’äº†ï¼ä½ çš„è§£å†³æ–¹æ¡ˆéå¸¸å‡ºè‰²ï¼</p>
<h2 id="7-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ"><a href="#7-ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ" class="headerlink" title="7. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ"></a>7. ä½ çš„è§£å†³æ–¹æ¡ˆè¯„åˆ†ä¸å®é™…ç­”æ¡ˆ</h2><p><strong>è¯„åˆ†ï¼š</strong> 10/10 åˆ†ï¼</p>
<p>ä½ å®Œå…¨æ­£ç¡®åœ°å®Œæˆäº†æ‰€æœ‰è¦æ±‚ï¼Œä¸ä»…æ­£ç¡®å£°æ˜å¹¶å®ç°äº†é™æ€æˆå‘˜å‡½æ•°å’Œé™æ€æˆå‘˜å˜é‡ï¼Œè€Œä¸”è¿˜å·§å¦™åœ°è¿ç”¨äº† C++17 çš„ <code>inline</code> å…³é”®å­—æ¥åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Œå±•ç°äº†å¯¹ C++ é™æ€æˆå‘˜æœºåˆ¶çš„æ·±å…¥ç†è§£ã€‚ç‰¹åˆ«å€¼å¾—ç§°èµçš„æ˜¯ï¼Œä½ æ­£ç¡®åœ°é€šè¿‡ä¼ é€’å¯¹è±¡å¼•ç”¨æ¥è®©é™æ€å‡½æ•°è®¿é—®éé™æ€æˆå‘˜ï¼Œå¹¶ä¸”æ­£ç¡®åœ°å¤„ç†äº†æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­çš„è®¡æ•°å™¨å¢å‡ã€‚</p>
<p>è¿™æ˜¯ä½ æäº¤çš„ï¼Œä¹Ÿæ˜¯å®Œå…¨æ­£ç¡®çš„ä»£ç å’Œè¯¦ç»†è§£é‡Šï¼š</p>
<h3 id="å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"><a href="#å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š" class="headerlink" title="å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"></a><strong>å®é™…ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š</strong></h3><p><strong><code>Car.h</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CAR_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CAR_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ–è½¦è¾†çš„åˆ¶é€ è€…å’Œå‹å·</span></span><br><span class="line">    <span class="comment">// å‚æ•°ï¼šmake - åˆ¶é€ è€…ï¼Œmodel - å‹å·</span></span><br><span class="line">    Car(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; make, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; model);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°ï¼šåœ¨ Car å¯¹è±¡è¢«é”€æ¯æ—¶è°ƒç”¨</span></span><br><span class="line">    ~Car();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼šè·å–å½“å‰åˆ›å»ºçš„ Car å¯¹è±¡æ€»æ•°</span></span><br><span class="line">    <span class="comment">// å±äºç±»æœ¬èº«ï¼Œä¸ä¾èµ–äºä»»ä½•ç‰¹å®šå¯¹è±¡ï¼Œå› æ­¤ä¸éœ€è¦ 'this' æŒ‡é’ˆï¼Œä¹Ÿä¸èƒ½æ˜¯ const</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">get_total_cars</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼šæ‰“å°æŸä¸ª Car å¯¹è±¡çš„åˆ¶é€ è€…å’Œå‹å·</span></span><br><span class="line">    <span class="comment">// ç”±äºé™æ€å‡½æ•°ä¸èƒ½ç›´æ¥è®¿é—®éé™æ€æˆå‘˜ï¼Œæ‰€ä»¥éœ€è¦å°† Car å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥</span></span><br><span class="line">    <span class="comment">// å‚æ•° 'car' æ˜¯ä¸€ä¸ª const å¼•ç”¨ï¼Œè¡¨ç¤ºå‡½æ•°ä¸ä¼šä¿®æ”¹ä¼ å…¥çš„å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print_car_details</span><span class="params">(<span class="keyword">const</span> Car&amp; car)</span></span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// éé™æ€æˆå‘˜å˜é‡ï¼šæ¯è¾† Car å¯¹è±¡éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ make å’Œ model</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_make;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_model;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å˜é‡ï¼šè¿½è¸ª Car å¯¹è±¡çš„æ€»æ•°</span></span><br><span class="line">    <span class="comment">// å±äºç±»æœ¬èº«ï¼Œæ‰€æœ‰ Car å¯¹è±¡å…±äº«è¿™ä¸€ä¸ªè®¡æ•°å™¨</span></span><br><span class="line">    <span class="comment">// 'inline' å…³é”®å­— (C++17) å…è®¸åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰ 'inline' æˆ–è€…ä¸æ˜¯ C++17ï¼Œåˆ™éœ€è¦åœ¨ .cpp æ–‡ä»¶ä¸­å•ç‹¬å®šä¹‰å’Œåˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> num_of_cars = <span class="number">0</span>; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CAR_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong><code>Car.cpp</code></strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Car.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœåœ¨ Car.h ä¸­æ²¡æœ‰ä½¿ç”¨ inline å…³é”®å­—ï¼Œåˆ™éœ€è¦åœ¨è¿™é‡Œå®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ã€‚</span></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼šint Car::num_of_cars = 0;</span></span><br><span class="line"><span class="comment">// ä½†ç”±äºä½ åœ¨ .h æ–‡ä»¶ä¸­ä½¿ç”¨äº† inlineï¼Œè¿™é‡Œå°±ä¸éœ€è¦é‡å¤å®šä¹‰äº†ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»çš„æ„é€ å‡½æ•°å®ç°</span></span><br><span class="line">Car::Car(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; make, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; model) : m_make(make), m_model(model) &#123;</span><br><span class="line">    <span class="comment">// æ¯åˆ›å»ºä¸€ä¸ª Car å¯¹è±¡ï¼Œé™æ€è®¡æ•°å™¨ num_of_cars é€’å¢</span></span><br><span class="line">    num_of_cars++;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car '"</span> &lt;&lt; m_make &lt;&lt; <span class="string">" "</span> &lt;&lt; m_model &lt;&lt; <span class="string">"' created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Car ç±»çš„ææ„å‡½æ•°å®ç°</span></span><br><span class="line">Car::~Car() &#123;</span><br><span class="line">    <span class="comment">// æ¯é”€æ¯ä¸€ä¸ª Car å¯¹è±¡ï¼Œé™æ€è®¡æ•°å™¨ num_of_cars é€’å‡</span></span><br><span class="line">    num_of_cars--;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Car '"</span> &lt;&lt; m_make &lt;&lt; <span class="string">" "</span> &lt;&lt; m_model &lt;&lt; <span class="string">"' destroyed."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å‡½æ•° get_total_cars çš„å®ç°</span></span><br><span class="line"><span class="comment">// ç›´æ¥è¿”å›é™æ€æˆå‘˜å˜é‡ num_of_cars çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Car::get_total_cars</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num_of_cars;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å‡½æ•° print_car_details çš„å®ç°</span></span><br><span class="line"><span class="comment">// é€šè¿‡ä¼ å…¥çš„ 'car' å¯¹è±¡å¼•ç”¨æ¥è®¿é—®å…¶ç§æœ‰éé™æ€æˆå‘˜ m_make å’Œ m_model</span></span><br><span class="line"><span class="comment">// å³ä½¿æ˜¯ private æˆå‘˜ï¼Œåªè¦æ˜¯åœ¨ç±»çš„ä½œç”¨åŸŸå†… (åŒ…æ‹¬é™æ€æˆå‘˜å‡½æ•°)ï¼Œéƒ½å¯ä»¥è®¿é—®</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Car::print_car_details</span><span class="params">(<span class="keyword">const</span> Car&amp; car)</span> </span>&#123;   </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Make: "</span> &lt;&lt; car.m_make &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Model: "</span> &lt;&lt; car.m_model &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å½“ä½ ä½¿ç”¨æä¾›çš„ <code>main.cpp</code> ç¼–è¯‘è¿è¡Œè¿™æ®µä»£ç æ—¶ï¼Œä½ ä¼šçœ‹åˆ°å®ƒå®Œç¾åœ°å·¥ä½œï¼Œç²¾ç¡®åœ°è®¡æ•°è½¦è¾†æ•°é‡ï¼Œå¹¶æ­£ç¡®æ‰“å°æ¯è¾†è½¦çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<h2 id="8-è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®®-Extended-Questions"><a href="#8-è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®®-Extended-Questions" class="headerlink" title="8. è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®® (Extended Questions)"></a>8. è¿›ä¸€æ­¥å­¦ä¹ çš„å»ºè®® (Extended Questions)</h2><p>ä½ å·²ç»å¾ˆå¥½åœ°æŒæ¡äº† C++ ä¸­çš„ <code>static</code> æˆå‘˜å‡½æ•°å’Œé™æ€æˆå‘˜å˜é‡ã€‚ä¸ºäº†æ›´æ·±å…¥åœ°ç†è§£ç›¸å…³æ¦‚å¿µå’Œå®é™…åº”ç”¨ï¼Œæˆ‘å»ºè®®ä½ è¿›ä¸€æ­¥æ¢è®¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li><p><strong><code>static</code> æˆå‘˜å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå’Œå­˜å‚¨ä½ç½®ï¼š</strong></p>
<ul>
<li><code>static</code> æˆå‘˜å˜é‡åœ¨ç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­ä½•æ—¶è¢«åˆå§‹åŒ–ï¼Ÿä½•æ—¶è¢«é”€æ¯ï¼Ÿ</li>
<li>å®ƒä»¬é€šå¸¸å­˜å‚¨åœ¨å“ªé‡Œï¼ˆä¾‹å¦‚ï¼Œæ•°æ®æ®µï¼‰ï¼Ÿä¸å±€éƒ¨ <code>static</code> å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæœ‰ä½•å¼‚åŒï¼Ÿ</li>
</ul>
</li>
<li><p><strong><code>static</code> æˆå‘˜ä¸å•ä¾‹æ¨¡å¼ (Singleton Pattern)ï¼š</strong></p>
<ul>
<li>äº†è§£å¦‚ä½•åˆ©ç”¨ <code>static</code> æˆå‘˜æ¥å®ç°â€œå•ä¾‹æ¨¡å¼â€ï¼Œå³ç¡®ä¿ä¸€ä¸ªç±»åœ¨æ•´ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚ä¸ºä»€ä¹ˆ <code>static</code> åœ¨è¿™é‡Œæ˜¯å…³é”®ï¼Ÿ</li>
<li>ç ”ç©¶æ‡’æ±‰å¼å•ä¾‹ (Lazy Initialization Singleton) å’Œé¥¿æ±‰å¼å•ä¾‹ (Eager Initialization Singleton) çš„åŒºåˆ«ã€‚</li>
</ul>
</li>
<li><p><strong><code>static</code> æˆå‘˜åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶åˆ›å»ºæˆ–é”€æ¯ <code>Car</code> å¯¹è±¡ï¼Œ<code>num_of_cars</code> è®¡æ•°å™¨å¯èƒ½ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œç«æ€æ¡ä»¶ [race condition]ï¼‰ï¼Ÿ</li>
<li>å¦‚ä½•ä½¿ç”¨äº’æ–¥é” (mutex) æˆ–åŸå­æ“ä½œ (atomic operations) æ¥ä¿æŠ¤ <code>static</code> è®¡æ•°å™¨ï¼Œä½¿å…¶åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¹Ÿèƒ½æ­£ç¡®å·¥ä½œï¼Ÿ</li>
</ul>
</li>
<li><p><strong><code>static</code> å±€éƒ¨å˜é‡ä¸ <code>static</code> æˆå‘˜å˜é‡çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li>å›é¡¾ä¸€ä¸‹åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„ <code>static</code> å±€éƒ¨å˜é‡çš„ç‰¹æ€§ã€‚å®ƒä»¬ä¸ <code>static</code> æˆå‘˜å˜é‡æœ‰ä½•å¼‚åŒï¼Ÿä½•æ—¶åº”è¯¥ä½¿ç”¨å®ƒä»¬ï¼Ÿ</li>
</ul>
</li>
<li><p><strong><code>static</code> æˆå‘˜ä¸éæˆå‘˜ <code>static</code> å‡½æ•°/å˜é‡ï¼š</strong></p>
<ul>
<li>C++ ä¸­é™¤äº†ç±»çš„ <code>static</code> æˆå‘˜å¤–ï¼Œè¿˜æœ‰æ–‡ä»¶ä½œç”¨åŸŸçš„ <code>static</code> å˜é‡å’Œå‡½æ•°ã€‚å®ƒä»¬æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ç±» <code>static</code> æˆå‘˜çš„ <code>static</code> å…³é”®å­—å«ä¹‰æœ‰ä½•è”ç³»å’ŒåŒºåˆ«ï¼Ÿï¼ˆæç¤ºï¼šå…³äºé“¾æ¥æ€§ [linkage]ï¼‰</li>
</ul>
</li>
</ol>
<p>è¿™äº›é—®é¢˜å°†å¼•å¯¼ä½ æ¢ç´¢ <code>static</code> å…³é”®å­—æ›´æ·±å±‚æ¬¡çš„å«ä¹‰ï¼Œä»¥åŠå®ƒåœ¨ C++ å®é™…é¡¹ç›®å¼€å‘ä¸­çš„é«˜çº§åº”ç”¨å’Œæ½œåœ¨æŒ‘æˆ˜ã€‚å½“ä½ å‡†å¤‡å¥½è®¨è®ºè¿™äº›é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å†ä¸€èµ·æ·±å…¥å­¦ä¹ ï¼</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Function/">Function    </a><a class="post-meta__tags" href="/tags/Software/">Software    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/325%20-%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>325 - ç±»å†…æˆå‘˜åˆå§‹åŒ–</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/328%20-%20cpp%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>328 - cppå‘½åç©ºé—´</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/Cpp é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡/" title="Cpp é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">Cpp é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/299 - æ˜¾å¼æ„é€ å‡½æ•°/" title="299 - æ˜¾å¼æ„é€ å‡½æ•°"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">299 - æ˜¾å¼æ„é€ å‡½æ•°</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/302 - å¯¹è±¡æ•°ç»„å¤åˆ¶é™·é˜±/" title="302 - å¯¹è±¡æ•°ç»„å¤åˆ¶é™·é˜±"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">302 - å¯¹è±¡æ•°ç»„å¤åˆ¶é™·é˜±</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£/" title="312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/return type for lambda function template/" title="return type for lambda function template"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">return type for lambda function template</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/diff between constexpr and define/" title="diff between constexpr and define"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">diff between constexpr and define</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>