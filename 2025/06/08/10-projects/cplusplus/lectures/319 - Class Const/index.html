<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>319 - Class Const | Bear's dream</title><meta name="description" content="319 - Class Const"><meta name="keywords" content="Cpp,Coding,Development,Class,Const"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="319 - Class Const"><meta name="twitter:description" content="319 - Class Const"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="319 - Class Const"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="319 - Class Const"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><link rel="prev" title="304 - 移动构造函数窃取" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/304%20-%20%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%AA%83%E5%8F%96/"><link rel="next" title="323 - cpp静态成员函数" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">152</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">20</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Class-Const"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Class Const</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🧑‍💻-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">🧑‍💻 User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🤖-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">🤖 Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-静态常量-Static-Constants-深度解析：优化你的类设计"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">C++ 静态常量 (Static Constants) 深度解析：优化你的类设计</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-详细讲解：一步步揭秘静态常量"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">1. 详细讲解：一步步揭秘静态常量</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-1-问题的引入：PI-常量的困境"><span class="toc_mobile_items-number">2.1.1.</span> <span class="toc_mobile_items-text">1.1 问题的引入：PI 常量的困境</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-2-解决方案：静态成员（Static-Members）"><span class="toc_mobile_items-number">2.1.2.</span> <span class="toc_mobile_items-text">1.2 解决方案：静态成员（Static Members）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-3-结合常量：静态常量（Static-Constants）"><span class="toc_mobile_items-number">2.1.3.</span> <span class="toc_mobile_items-text">1.3 结合常量：静态常量（Static Constants）</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-4-初始化问题与-C-17-的-inline-关键字"><span class="toc_mobile_items-number">2.1.4.</span> <span class="toc_mobile_items-text">1.4 初始化问题与 C++17 的 inline 关键字</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-5-另一个静态常量示例：DEFAULT-COLOR"><span class="toc_mobile_items-number">2.1.5.</span> <span class="toc_mobile_items-text">1.5 另一个静态常量示例：DEFAULT_COLOR</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-6-访问静态成员"><span class="toc_mobile_items-number">2.1.6.</span> <span class="toc_mobile_items-text">1.6 访问静态成员</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-7-const-成员函数-const-Correctness"><span class="toc_mobile_items-number">2.1.7.</span> <span class="toc_mobile_items-text">1.7 const 成员函数 (const Correctness)</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-代码示例"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">2. 代码示例</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-QA-闪卡-QA-Flash-Cards"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">3. QA 闪卡 (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-常见误解或错误-Common-Misunderstandings-or-Mistakes"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">4. 常见误解或错误 (Common Misunderstandings or Mistakes)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-编程练习-Coding-Exercise"><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">5. 编程练习 (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Class-Const"><span class="toc-number">1.</span> <span class="toc-text">Class Const</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#🧑‍💻-User"><span class="toc-number">1.1.</span> <span class="toc-text">🧑‍💻 User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🤖-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">🤖 Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-静态常量-Static-Constants-深度解析：优化你的类设计"><span class="toc-number">2.</span> <span class="toc-text">C++ 静态常量 (Static Constants) 深度解析：优化你的类设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-详细讲解：一步步揭秘静态常量"><span class="toc-number">2.1.</span> <span class="toc-text">1. 详细讲解：一步步揭秘静态常量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-问题的引入：PI-常量的困境"><span class="toc-number">2.1.1.</span> <span class="toc-text">1.1 问题的引入：PI 常量的困境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-解决方案：静态成员（Static-Members）"><span class="toc-number">2.1.2.</span> <span class="toc-text">1.2 解决方案：静态成员（Static Members）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-结合常量：静态常量（Static-Constants）"><span class="toc-number">2.1.3.</span> <span class="toc-text">1.3 结合常量：静态常量（Static Constants）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-初始化问题与-C-17-的-inline-关键字"><span class="toc-number">2.1.4.</span> <span class="toc-text">1.4 初始化问题与 C++17 的 inline 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-另一个静态常量示例：DEFAULT-COLOR"><span class="toc-number">2.1.5.</span> <span class="toc-text">1.5 另一个静态常量示例：DEFAULT_COLOR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-访问静态成员"><span class="toc-number">2.1.6.</span> <span class="toc-text">1.6 访问静态成员</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-const-成员函数-const-Correctness"><span class="toc-number">2.1.7.</span> <span class="toc-text">1.7 const 成员函数 (const Correctness)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-代码示例"><span class="toc-number">2.2.</span> <span class="toc-text">2. 代码示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-QA-闪卡-QA-Flash-Cards"><span class="toc-number">2.3.</span> <span class="toc-text">3. QA 闪卡 (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-常见误解或错误-Common-Misunderstandings-or-Mistakes"><span class="toc-number">2.4.</span> <span class="toc-text">4. 常见误解或错误 (Common Misunderstandings or Mistakes)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-编程练习-Coding-Exercise"><span class="toc-number">2.5.</span> <span class="toc-text">5. 编程练习 (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">319 - Class Const</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Class-Const"><a href="#Class-Const" class="headerlink" title="Class Const"></a>Class Const</h1><h2 id="🧑‍💻-User"><a href="#🧑‍💻-User" class="headerlink" title="🧑‍💻 User"></a>🧑‍💻 User</h2><p>In this lecture, we’re going to learn about static constants.And this is going to be a byproduct of what we have learned about in the last few lectures.Remember that we have designed a cylinder class in the last chapter, I think, and the way we did things,we were maintaining a variable, a constant variable for modeling the Pi variable that we use to computethe volume of a cylinder.Now we have tools to make this design a little better because remember, the Pi variable isn’t reallygoing to be used in many other locations.It should belong to the cylinder class.We can’t really make it a regular member variable because each object then is going to have its owncopy of Pi and we will be basically wasting memory.But now that we know about static variables, we can bind the Pi variable to the class itself by markingit as static.That’s what we do here.But we can also make it inline and allow for people to initialize this inside the class itself and avoidhaving to do this in the CPP file like we have seen in the previous lecture.So this is how static inline constants can really help you do a better design.You don’t have to maintain constants on the outside.They can be maintained inside the class itself and each class object is going to have access to thisvariable if it needs it.Now that you know this, we’re going to head over to Visual Studio code and play with this a littlemore.Okay.Here we are in our working folder.The current project is Static constants.We’re going to grab our template files like we always do, and we’re going to put them in place andwe are going to open this in Visual Studio code by dragging and dropping here, this is going to openour project or folder, I should say, and we’re going to clean up the main CPP file.Okay.We need the cylinder class to play with, so we’re going to create files for that.We’re going to create a header file and a dot CPP file.We’re going to hit the new file button here and we’re going to create a cylinder dot h file and we’regoing to do that again and create a cylinder dot cpp file.I am going to put in the code I have prepared before because I don’t want you to see me typing all this.This is nothing you haven’t seen before.We have our include guard here.We have the class declaration inside, we have a public section and a private section.The private section is going to model the base radius and the height.And in the public section, we’re going to have a bunch of functions that are going to make this classwork.We have a few constructors, we have the gators, we have the setters, and we have a method to computethe volume of our cylinder here.The volume function is really not going to modify the class here or the member variables of the class,so I am going to mark it as const.I am also going to mark our Gators as costs.Let’s do that because they are not modifying our thing.And now that we have this, we can go in our CPP file and put in our implementation.We are just going to include the header file and we’re going to be modifying the signatures of our gatorsbecause we have just marked them as const.We should be consistent for that here.And the volume function or member function is not going to modify the member variables.So it’s also going to be const.Other than this, I think we really are done here.So let’s go back to the header and focus on our constants.The constant is marked as static because we want it to be attached to the class itself.It’s not going to be attached to any object and it is in line because we want this facility to initializethat in the class declaration.We don’t want to go in any CPP file and do the initialization there because that’s just going to makemaintaining this member variable a little harder.We will have to go to different places to really maintain it and that’s by design.So we are marking that as inline.Note that this syntax is only going to work if you are using C plus plus 17 or a newer version of Cplus plus.So we are using C plus plus 20 in this course.So this is going to work without a problem.And another thing I want you to notice is that we have another static variable on top here.It’s going to be modeling the default color for our cylinder here.So this is something you can do.And I am doing this just to show you that you can declare all kinds of crazy constants in your classif you happen to need that.Okay.Now that we have this in place, we can head over to.Our main file and include our class.Let’s do that.We’re going to include the cylinder dot h, and we’re going to go down and create a cylinder objectand do things with it.For example, we can print the volume of a cylinder and we can print the default color using the syntaxhere.This is going to work because default color is living in the public scope of our class if it’s not public.The syntax here is not going to work as we have seen before.But if it’s not public, you can go through a member function to get it and print that out if you want.Down here you see that we can even use an object and print the default color.The syntax here is also going to work without a problem.We can build this program.Let’s use GCC to do that and we’re going to bring up a terminal to be able to play with us.We can clear and run Rooster and we’re going to see the volume printed out and we’re going to see thecolor for our cylinder printed out here.This is really all I had to share in this lecture, showing you that you can model constants in yourclass.Remember before we had to maintain the Pi variable in a separate file?It was on the outside and that was really bad design because all we wanted was to use that to computethe volume of our cylinder.So in a way, the Pi variable here is tied to the cylinder class and now we have a design that reallyconforms to that because this variable is attached to the class and it’s not attached to any objectas we have here in the main function with cylinder one, it is attached to the class as a blueprintas a whole.It’s not attached to any object here and this is really cool.It is good design.Okay, this is working fine and we are happy.But what do you do if you don’t have access to C plus plus 17 or a newer version?If that’s the case, you’re going to resort to declaring your variable in the class definition likethis.And then you’re going to have to initialize the variable in a CPP file somewhere.And we’re going to see how you can do that in the next lecture.So go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="🤖-Assistant"><a href="#🤖-Assistant" class="headerlink" title="🤖 Assistant"></a>🤖 Assistant</h2><p>好的，没问题！作为您C++学习旅程的向导，我将以最清晰、最易懂的方式，带您深入理解C++中的静态常量（static constants）。</p>
<hr>
<h1 id="C-静态常量-Static-Constants-深度解析：优化你的类设计"><a href="#C-静态常量-Static-Constants-深度解析：优化你的类设计" class="headerlink" title="C++ 静态常量 (Static Constants) 深度解析：优化你的类设计"></a>C++ 静态常量 (Static Constants) 深度解析：优化你的类设计</h1><p><strong>摘要：</strong> 本课程将深入探讨C++中如何在类内部定义和使用静态常量，特别是利用C++17引入的 <code>static inline const</code> 特性，来提升代码的设计质量和可维护性。我们将通过一个圆柱体（Cylinder）类的实例来具体演示。</p>
<hr>
<h2 id="1-详细讲解：一步步揭秘静态常量"><a href="#1-详细讲解：一步步揭秘静态常量" class="headerlink" title="1. 详细讲解：一步步揭秘静态常量"></a>1. 详细讲解：一步步揭秘静态常量</h2><p>在C++编程中，有效地管理常量是良好设计的重要组成部分。特别是在面向对象编程中，我们经常会遇到一些数据，它们与某个类紧密相关，但又不属于任何一个具体的对象实例。这就是静态常量（static constants）大显身手的地方。</p>
<p>让我们从一个熟悉的例子开始：圆柱体（Cylinder）类。</p>
<h3 id="1-1-问题的引入：PI-常量的困境"><a href="#1-1-问题的引入：PI-常量的困境" class="headerlink" title="1.1 问题的引入：PI 常量的困境"></a>1.1 问题的引入：<code>PI</code> 常量的困境</h3><p>在之前的课程中，您可能已经接触过如何计算圆柱体的体积，这通常需要用到圆周率 <code>PI</code>。在C++中，我们有几种方式来定义这个 <code>PI</code>：</p>
<ol>
<li><p><strong>作为全局常量（Global Constant）或外部常量：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cylinder.h (或单独的 constants.h)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.14159265358979323846</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// cylinder.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// 包含 PI</span></span></span><br><span class="line"><span class="comment">// ... 在 Cylinder 类中使用 PI 计算体积</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li><strong>问题：</strong> 这种做法使得 <code>PI</code> 成为一个全局可见的常量，它不属于任何特定的类。这可能导致：<ul>
<li><strong>命名冲突（Name Clashes）：</strong> 如果在大型项目中，其他部分也定义了同名的 <code>PI</code>，就可能发生冲突。</li>
<li><strong>设计不清晰：</strong> 从语义上讲，<code>PI</code> 是用来计算圆柱体体积的，它和 <code>Cylinder</code> 类有强关联性，但作为全局常量，这种关联性并没有明确体现出来。这使得代码的意图不那么直观。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>作为普通成员变量（Member Variable）：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> radius;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line">    <span class="comment">// const double PI_VALUE = 3.14159265358979323846; // 这种直接初始化非静态const成员是不允许的</span></span><br><span class="line">    <span class="comment">// 或者通过构造函数初始化</span></span><br><span class="line">    <span class="comment">// Cylinder() : PI_VALUE(3.14159...) &#123;&#125;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<ul>
<li><strong>问题：</strong> 如果将 <code>PI</code> 定义为 <code>Cylinder</code> 类的一个普通成员变量 (member variable)，那么每创建一个 <code>Cylinder</code> 对象，这个对象都会拥有自己的一份 <code>PI</code> 副本。这会造成严重的<strong>内存浪费（Memory Waste）</strong>！因为 <code>PI</code> 是一个数学常数，对所有圆柱体对象来说都是完全相同的。我们只需要一份 <code>PI</code> 就足够了。</li>
</ul>
</li>
</ol>
<h3 id="1-2-解决方案：静态成员（Static-Members）"><a href="#1-2-解决方案：静态成员（Static-Members）" class="headerlink" title="1.2 解决方案：静态成员（Static Members）"></a>1.2 解决方案：静态成员（Static Members）</h3><p>为了解决上述问题，C++引入了<strong>静态变量 (static variables)</strong>的概念。</p>
<ul>
<li><strong>什么是静态成员？</strong> 静态成员变量属于类本身，而不是类的任何具体对象实例。这意味着：<ul>
<li>所有该类的对象共享同一个静态成员的副本。</li>
<li>静态成员在程序启动时被初始化，并且只有一份存储空间。</li>
</ul>
</li>
<li><strong>如何声明？</strong> 在成员变量前面加上 <code>static</code> 关键字。</li>
</ul>
<p>将 <code>PI</code> 声明为 <code>static</code> 可以解决内存浪费的问题，因为无论创建多少个 <code>Cylinder</code> 对象，都只会有一个 <code>PI</code> 的副本。</p>
<h3 id="1-3-结合常量：静态常量（Static-Constants）"><a href="#1-3-结合常量：静态常量（Static-Constants）" class="headerlink" title="1.3 结合常量：静态常量（Static Constants）"></a>1.3 结合常量：静态常量（Static Constants）</h3><p><code>PI</code> 不仅是所有 <code>Cylinder</code> 对象共享的，它还是一个<strong>不可改变（Immutable）</strong>的常量。因此，我们应该结合 <code>static</code> 和 <code>const</code> 关键字，将其声明为 <code>static const</code>。</p>
<ul>
<li><strong>概念：</strong> <code>static const</code> 成员变量结合了 <code>static</code> 和 <code>const</code> 的特性。它既属于类，又不可修改。</li>
<li><strong>重要性：</strong> 适用于那些与类逻辑紧密相关、但又不会随对象状态变化、且不应被修改的常量。</li>
</ul>
<h3 id="1-4-初始化问题与-C-17-的-inline-关键字"><a href="#1-4-初始化问题与-C-17-的-inline-关键字" class="headerlink" title="1.4 初始化问题与 C++17 的 inline 关键字"></a>1.4 初始化问题与 C++17 的 <code>inline</code> 关键字</h3><p>在 C++17 之前，<code>static const</code> 成员变量的初始化方式有些复杂：</p>
<ul>
<li><strong>对于整型（Integer）或枚举（Enum）类型的 <code>static const</code> 成员：</strong> 如果它们是常量表达式（compile-time constants），可以在类内部直接声明并初始化。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> MAX_VALUE = <span class="number">100</span>; <span class="comment">// 可以在类内部直接初始化</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></li>
<li><strong>对于非整型（Non-integer）或复杂类型的 <code>static const</code> 成员（如 <code>double</code>、<code>std::string</code>）：</strong> 通常需要在类外部（通常是 <code>.cpp</code> 文件中）进行定义和初始化。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cylinder.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">double</span> PI; <span class="comment">// 声明 (Declaration)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// cylinder.cpp</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> Cylinder::PI = <span class="number">3.14159265358979323846</span>; <span class="comment">// 定义和初始化 (Definition and Initialization)</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li><strong>弊端：</strong> 这种传统方式需要你在<strong>头文件 (header file)</strong>中声明常量，然后在对应的<strong>实现 (implementation)</strong>文件（<code>.cpp</code> 文件）中进行定义和初始化。这导致一个常量需要在两个不同的地方进行维护，增加了代码的分散性和维护成本。</li>
</ul>
</li>
</ul>
<p>为了解决这个问题，C++17 引入了一个非常方便的特性：<strong><code>inline</code> 关键字与 <code>static</code> 成员变量的结合。</strong></p>
<ul>
<li><strong><code>static inline const</code> 的作用：</strong><br>在 C++17 及更高版本中，你可以在类声明（class declaration）内部，使用 <code>static inline const</code> 直接定义和初始化非整型的 <code>static const</code> 成员变量。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cylinder.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.14159265358979323846</span>; <span class="comment">// 声明和初始化都在头文件内</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></li>
<li><p><strong>优势：</strong></p>
<ol>
<li><strong>更简洁的设计：</strong> 常量的声明和定义都在一个地方，提高了代码的内聚性，使得类和其相关常量的定义更加集中。</li>
<li><strong>避免 ODR (One Definition Rule) 冲突：</strong> <code>inline</code> 关键字在这里的作用与 <code>inline</code> 函数类似，它允许在多个编译单元中出现相同的定义，编译器会确保最终只有一个定义被链接进来。这意味着你可以将带有 <code>static inline const</code> 成员的类完全放在头文件中，而不用担心链接错误。</li>
<li><strong>头文件友好：</strong> 使得类及其相关常量可以完全在头文件中定义，这对于开发仅包含头文件的库（header-only library）非常有用。</li>
</ol>
</li>
<li><p><strong>注意：</strong> 此语法特性仅适用于 C++17 或更高版本。如果您的编译器不支持 C++17，您将不得不使用传统的在 <code>.cpp</code> 文件中初始化 <code>static const</code> 成员的方式。</p>
</li>
</ul>
<h3 id="1-5-另一个静态常量示例：DEFAULT-COLOR"><a href="#1-5-另一个静态常量示例：DEFAULT-COLOR" class="headerlink" title="1.5 另一个静态常量示例：DEFAULT_COLOR"></a>1.5 另一个静态常量示例：<code>DEFAULT_COLOR</code></h3><p>除了像 <code>PI</code> 这样的数值常量，<code>static inline const</code> 还可以用于其他类型。例如，您可能希望为圆柱体设置一个默认颜色。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.14159265358979323846</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> DEFAULT_COLOR = <span class="string">"Blue"</span>; <span class="comment">// 默认颜色常量</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>这个 <code>DEFAULT_COLOR</code> 也是与 <code>Cylinder</code> 类相关联，对所有 <code>Cylinder</code> 对象都是相同的，且不应被修改，因此非常适合作为 <code>static inline const</code> 成员。</p>
<h3 id="1-6-访问静态成员"><a href="#1-6-访问静态成员" class="headerlink" title="1.6 访问静态成员"></a>1.6 访问静态成员</h3><p>访问类的 <code>static</code> 成员有两种主要方式：</p>
<ol>
<li><strong>通过类名访问（推荐）：</strong><br>这是最清晰、最推荐的方式，因为它明确表示该成员属于类，而不是某个特定的对象。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> volume = Cylinder::PI * radius * radius * height;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Default Color: "</span> &lt;&lt; Cylinder::DEFAULT_COLOR &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></div></li>
<li><strong>通过对象访问（可行但不推荐）：</strong><br>虽然语法上允许通过对象实例来访问 <code>static</code> 成员，但这可能会误导读者，让他们误以为该成员是对象的一部分。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Cylinder <span class="title">myCylinder</span><span class="params">(<span class="number">5</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Default Color from object: "</span> &lt;&lt; myCylinder.DEFAULT_COLOR &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// 不推荐</span></span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<h3 id="1-7-const-成员函数-const-Correctness"><a href="#1-7-const-成员函数-const-Correctness" class="headerlink" title="1.7 const 成员函数 (const Correctness)"></a>1.7 <code>const</code> 成员函数 (<code>const</code> Correctness)</h3><p>在 <code>Cylinder</code> 类的设计中，您还会看到一些成员函数后面带 <code>const</code> 关键字，例如 <code>getVolume()</code>、<code>getRadius()</code> 等。</p>
<ul>
<li><strong>什么是 <code>const</code> 成员函数？</strong> 在成员函数签名后面加上 <code>const</code> 关键字，表示这个函数<strong>不会修改</strong>对象的状态（即不会修改该对象的非 <code>static</code> 成员变量）。</li>
<li><strong>为什么重要？</strong><ul>
<li><strong>提高代码健壮性：</strong> 编译器会检查 <code>const</code> 成员函数是否真的没有修改对象状态，这有助于避免潜在的错误。</li>
<li><strong>提高可读性：</strong> 明确告诉其他开发者这个函数是“只读”的，不会有副作用。</li>
<li><strong>允许对 <code>const</code> 对象调用：</strong> 如果你有一个 <code>const Cylinder</code> 对象，你只能调用它的 <code>const</code> 成员函数。如果你的 <code>get</code> 方法不是 <code>const</code> 的，你就无法通过 <code>const</code> 对象来获取其属性。</li>
</ul>
</li>
</ul>
<p>例如：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getVolume</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// 标记为 const</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getRadius</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// 标记为 const</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 .cpp 文件中实现时，也要保持 const</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getVolume</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> PI * radius * radius * height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<h2 id="2-代码示例"><a href="#2-代码示例" class="headerlink" title="2. 代码示例"></a>2. 代码示例</h2><p>为了帮助您更好地理解，以下是一个完整的 <code>Cylinder</code> 类及其使用 <code>static inline const</code> 成员的示例。</p>
<p>我们将代码分为三个文件：<code>cylinder.h</code> (头文件)、<code>cylinder.cpp</code> (实现文件) 和 <code>main.cpp</code> (主程序文件)。</p>
<p><strong><code>cylinder.h</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CYLINDER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CYLINDER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; // 引入 std::string</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // 用于输出，虽然这里主要是类声明</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 静态内联常量：PI，属于类本身，不可修改，且在头文件中直接定义初始化 (C++17+)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.14159265358979323846</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态内联常量：DEFAULT_COLOR，属于类本身，不可修改，且在头文件中直接定义初始化 (C++17+)</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> DEFAULT_COLOR = <span class="string">"Blue"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> radius;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数 (Constructors)</span></span><br><span class="line">    Cylinder() = <span class="keyword">default</span>; <span class="comment">// 默认构造函数</span></span><br><span class="line">    Cylinder(<span class="keyword">double</span> radius_param, <span class="keyword">double</span> height_param);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getters (访问器) - 标记为 const，因为它们不修改对象状态</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getRadius</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getHeight</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Setters (修改器)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setRadius</span><span class="params">(<span class="keyword">double</span> radius_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHeight</span><span class="params">(<span class="keyword">double</span> height_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算体积的方法 - 标记为 const，因为不修改对象状态</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getVolume</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CYLINDER_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>cylinder.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// 包含 Cylinder 类的声明</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数的实现</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">double</span> radius_param, <span class="keyword">double</span> height_param) &#123;</span><br><span class="line">    radius = radius_param;</span><br><span class="line">    height = height_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Getters 的实现 - 注意这里的 const 关键字也要与声明一致</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getRadius</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> radius;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getHeight</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Setters 的实现</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::setRadius</span><span class="params">(<span class="keyword">double</span> radius_param)</span> </span>&#123;</span><br><span class="line">    radius = radius_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::setHeight</span><span class="params">(<span class="keyword">double</span> height_param)</span> </span>&#123;</span><br><span class="line">    height = height_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// getVolume 方法的实现 - 注意这里的 const 关键字也要与声明一致</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getVolume</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 内部直接使用静态常量 PI，无需通过对象访问</span></span><br><span class="line">    <span class="keyword">return</span> PI * radius * radius * height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// 包含 Cylinder 类的声明</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 创建 Cylinder 对象</span></span><br><span class="line">    <span class="function">Cylinder <span class="title">cylinder1</span><span class="params">(<span class="number">5.0</span>, <span class="number">10.0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印圆柱体体积</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 1 Volume: "</span> &lt;&lt; cylinder1.getVolume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问并打印静态常量 DEFAULT_COLOR</span></span><br><span class="line">    <span class="comment">// 推荐方式：通过类名访问</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Default Cylinder Color (via class name): "</span> &lt;&lt; Cylinder::DEFAULT_COLOR &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 也可以通过对象访问静态常量，但不推荐，因为可能引起误解</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Default Cylinder Color (via object name - not recommended): "</span> &lt;&lt; cylinder1.DEFAULT_COLOR &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 访问并打印静态常量 PI (虽然一般直接在计算中使用，但也可以打印)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Value of PI: "</span> &lt;&lt; Cylinder::PI &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- Testing another cylinder ---\n"</span>;</span><br><span class="line">    <span class="function">Cylinder <span class="title">cylinder2</span><span class="params">(<span class="number">3.0</span>, <span class="number">7.0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 2 Volume: "</span> &lt;&lt; cylinder2.getVolume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// 再次证明 PI 和 DEFAULT_COLOR 是共享的，而不是每个对象一份</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 2's PI value is the same: "</span> &lt;&lt; cylinder2.PI &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>如何编译和运行：</strong><br>如果你使用 <code>g++</code> (GCC) 编译器，可以在终端中执行以下命令：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp cylinder.cpp -o my_cylinder_app -std=c++17 <span class="comment"># 或 -std=c++20 或更高</span></span><br><span class="line">./my_cylinder_app</span><br></pre></td></tr></table></figure></div></p>
<h2 id="3-QA-闪卡-QA-Flash-Cards"><a href="#3-QA-闪卡-QA-Flash-Cards" class="headerlink" title="3. QA 闪卡 (QA Flash Cards)"></a>3. QA 闪卡 (QA Flash Cards)</h2><p>用这些问题来检验你对静态常量的理解：</p>
<ol>
<li><strong>问：</strong> 什么是 <code>static</code> 成员变量？它和普通成员变量有什么核心区别？<br><strong>答：</strong> <code>static</code> 成员变量属于类本身，所有对象共享同一个副本。普通成员变量则属于类的每个独立对象，每个对象都有自己的副本。</li>
<li><strong>问：</strong> 为什么我们需要 <code>static const</code> 成员变量？它解决了什么问题？<br><strong>答：</strong> <code>static const</code> 成员变量用于表示与类逻辑紧密相关、对所有对象都相同、且不可修改的常量。它解决了全局常量命名冲突和内存浪费（每个对象都有副本）的问题，并提升了设计的清晰度。</li>
<li><strong>问：</strong> 在 C++17 中，<code>static inline const</code> 声明中的 <code>inline</code> 关键字有什么作用？<br><strong>答：</strong> <code>inline</code> 允许 <code>static const</code> 成员变量在类声明（通常是头文件）内部直接定义和初始化，即使是非整型。它避免了在 <code>.cpp</code> 文件中单独定义和初始化的麻烦，并确保在多个编译单元中包含时不会违反 ODR（One Definition Rule）。</li>
<li><strong>问：</strong> 如何访问类的 <code>static</code> 成员变量？哪种方式更推荐？<br><strong>答：</strong> 可以通过类名（<code>ClassName::member_name</code>）或对象（<code>object.member_name</code>）访问。推荐通过类名访问，因为它更清晰地表明该成员属于类而不是特定对象。</li>
<li><strong>问：</strong> 什么是 <code>const</code> 成员函数？为什么要在 <code>getVolume()</code> 和 <code>getRadius()</code> 这样的 <code>get</code> 方法后面加上 <code>const</code>？<br><strong>答：</strong> <code>const</code> 成员函数承诺不修改对象的状态（非 <code>static</code> 成员变量）。在 <code>get</code> 方法后加上 <code>const</code>，表示这些方法是“只读”的，不会改变对象的数据，这提高了代码的健壮性和可读性，并且允许通过 <code>const</code> 对象调用这些方法。</li>
</ol>
<h2 id="4-常见误解或错误-Common-Misunderstandings-or-Mistakes"><a href="#4-常见误解或错误-Common-Misunderstandings-or-Mistakes" class="headerlink" title="4. 常见误解或错误 (Common Misunderstandings or Mistakes)"></a>4. 常见误解或错误 (Common Misunderstandings or Mistakes)</h2><p>在实际编码中，关于静态常量，初学者常犯以下错误或存在误解：</p>
<ol>
<li><strong>忘记 <code>inline</code> (C++17之前或误用):</strong><ul>
<li><strong>错误：</strong> 在 C++17 之前的版本，或者即使是 C++17 但忘记使用 <code>inline</code>，尝试在类内部直接初始化 <code>static const double PI = 3.14;</code> 会导致编译错误，因为它需要外部定义。</li>
<li><strong>正确做法：</strong> 检查你的 C++ 标准版本。如果是 C++17 或更高，请使用 <code>static inline const</code>。如果不是，你必须在 <code>.cpp</code> 文件中进行定义和初始化。</li>
</ul>
</li>
<li><strong>混淆 <code>static</code> 和非 <code>static</code> 成员：</strong><ul>
<li><strong>错误：</strong> 误以为 <code>static</code> 成员变量属于每个对象，或者尝试在 <code>static</code> 成员函数中（我们这里没有 <code>static</code> 函数，但这是常见混淆点）直接访问非 <code>static</code> 成员变量（因为 <code>static</code> 函数不与特定对象关联）。</li>
<li><strong>正确理解：</strong> <code>static</code> 成员是类的属性，与对象无关。非 <code>static</code> 成员是对象的属性。</li>
</ul>
</li>
<li><strong>不一致的 <code>const</code> 声明：</strong><ul>
<li><strong>错误：</strong> 在头文件（<code>.h</code>）中声明成员函数为 <code>const</code>（例如 <code>double getVolume() const;</code>），但在对应的 <code>.cpp</code> 文件中定义时忘记加上 <code>const</code>（写成 <code>double Cylinder::getVolume() { ... }</code>）。</li>
<li><strong>结果：</strong> 这会导致编译错误，因为声明和定义不匹配。</li>
<li><strong>正确做法：</strong> 声明和定义中的 <code>const</code> 关键字必须保持一致。</li>
</ul>
</li>
<li><strong><code>static</code> 成员的访问权限：</strong><ul>
<li><strong>错误：</strong> 认为 <code>static</code> 成员不受 <code>public</code>/<code>private</code>/<code>protected</code> 访问修饰符的限制。</li>
<li><strong>结果：</strong> 如果 <code>PI</code> 被声明为 <code>private static inline const double PI;</code>，那么在 <code>main</code> 函数中尝试 <code>std::cout &lt;&lt; Cylinder::PI;</code> 将会引发编译错误，因为它没有公开访问权限。</li>
<li><strong>正确理解：</strong> <code>static</code> 成员同样遵守 C++ 的访问控制规则。</li>
</ul>
</li>
<li><strong>滥用 <code>static</code>：</strong><ul>
<li><strong>错误：</strong> 将所有常量都定义为 <code>static</code> 成员，即使它们只在一个特定的函数内部使用，或者与类本身没有强关联。</li>
<li><strong>正确理解：</strong> <code>static</code> 成员适用于那些真正与类本身相关联、且对所有对象都相同的常量。如果一个常量只在某个函数内部使用，考虑在函数内部定义为局部 <code>const</code> 变量。如果与类无关，考虑全局 <code>const</code> 或命名空间内的 <code>const</code>。</li>
</ul>
</li>
</ol>
<h2 id="5-编程练习-Coding-Exercise"><a href="#5-编程练习-Coding-Exercise" class="headerlink" title="5. 编程练习 (Coding Exercise)"></a>5. 编程练习 (Coding Exercise)</h2><p>现在轮到您来动手实践了！请完成下面的编码练习，以巩固您对 <code>static inline const</code> 的理解。</p>
<p><strong>任务：</strong><br>在 <code>Cylinder</code> 类中添加一个 <code>static inline const</code> 成员，表示圆柱体的<strong>默认高度 (DEFAULT_HEIGHT)</strong>，其值为 <code>10.0</code>。然后，在 <code>main</code> 函数中打印出这个默认高度。</p>
<p>请您在下面的代码中填写空白处 <code>// TODO: 在这里添加你的代码</code> 的部分。</p>
<p><strong><code>cylinder.h</code> (骨架代码)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CYLINDER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CYLINDER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.14159265358979323846</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> DEFAULT_COLOR = <span class="string">"Blue"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里添加你的代码 (默认高度常量)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> radius;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Cylinder() = <span class="keyword">default</span>;</span><br><span class="line">    Cylinder(<span class="keyword">double</span> radius_param, <span class="keyword">double</span> height_param);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getRadius</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getHeight</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setRadius</span><span class="params">(<span class="keyword">double</span> radius_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setHeight</span><span class="params">(<span class="keyword">double</span> height_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">getVolume</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CYLINDER_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>cylinder.cpp</code> (骨架代码 - 无需修改)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span></span></span><br><span class="line"></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">double</span> radius_param, <span class="keyword">double</span> height_param) &#123;</span><br><span class="line">    radius = radius_param;</span><br><span class="line">    height = height_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getRadius</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> radius;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getHeight</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::setRadius</span><span class="params">(<span class="keyword">double</span> radius_param)</span> </span>&#123;</span><br><span class="line">    radius = radius_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::setHeight</span><span class="params">(<span class="keyword">double</span> height_param)</span> </span>&#123;</span><br><span class="line">    height = height_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::getVolume</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> PI * radius * radius * height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code> (骨架代码)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Cylinder <span class="title">cylinder1</span><span class="params">(<span class="number">5.0</span>, <span class="number">10.0</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 1 Volume: "</span> &lt;&lt; cylinder1.getVolume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Default Cylinder Color: "</span> &lt;&lt; Cylinder::DEFAULT_COLOR &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Value of PI: "</span> &lt;&lt; Cylinder::PI &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里添加你的代码 (打印默认高度)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p>请您将填充好的代码粘贴到您的回复中，我将为您检查并提供反馈！</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Const/">Const    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/304%20-%20%E7%A7%BB%E5%8A%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%AA%83%E5%8F%96/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>304 - 移动构造函数窃取</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>323 - cpp静态成员函数</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/静态成员访问控制/" title="静态成员访问控制"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">静态成员访问控制</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/275 - getter and setter/" title="275 - getter and setter"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">275 - getter and setter</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/277 - IDE 创建 cpp 类方法/" title="277 - IDE 创建 cpp 类方法"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">277 - IDE 创建 cpp 类方法</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/272 - first class/" title="272 - first class"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">272 - first class</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cpp结构体与类的区别和用法/" title="282 - cpp结构体与类的区别和用法"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cpp结构体与类的区别和用法</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'不说话的人会疯掉吗?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">外向孤独者患者</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>