<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>332 - cpp using声明命名空间冲突 | Bear's dream</title><meta name="description" content="332 - cpp using声明命名空间冲突"><meta name="keywords" content="Coding,Cpp,Development,Class,Namespace"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="332 - cpp using声明命名空间冲突"><meta name="twitter:description" content="332 - cpp using声明命名空间冲突"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="332 - cpp using声明命名空间冲突"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/332%20-%20cpp%20using%E5%A3%B0%E6%98%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%86%B2%E7%AA%81/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="332 - cpp using声明命名空间冲突"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/332%20-%20cpp%20using%E5%A3%B0%E6%98%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%86%B2%E7%AA%81/"><link rel="prev" title="334 - cpp Nested" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/334%20-%20cpp%20Nested/"><link rel="next" title="338 - cpp Build" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/338%20-%20cpp%20Build/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">150</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#332-C-Using声明命名空间冲突"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">332 - C++ Using声明命名空间冲突</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🧑‍💻-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">🧑‍💻 User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🤖-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">🤖 Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-using-声明：让代码更简洁，但要小心命名冲突！"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">C++ using 声明：让代码更简洁，但要小心命名冲突！</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-为什么我们需要-using-声明？——-命名空间的“冗长”困扰"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">1. 为什么我们需要 using 声明？—— 命名空间的“冗长”困扰</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-using-声明的两种“魔法”语法"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2. using 声明的两种“魔法”语法</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-1-语法一：引入单个名称-using-namespace-name-member-name"><span class="toc_mobile_items-number">1.5.1.</span> <span class="toc_mobile_items-text">2.1 语法一：引入单个名称 (using namespace_name::member_name;)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-2-语法二：引入整个命名空间-using-namespace-namespace-name"><span class="toc_mobile_items-number">1.5.2.</span> <span class="toc_mobile_items-text">2.2 语法二：引入整个命名空间 (using namespace namespace_name;)</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-命名冲突：using-声明的“双刃剑”"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">3. 命名冲突：using 声明的“双刃剑”</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-QA-闪存卡-QA-Flash-Cards"><span class="toc_mobile_items-number">1.7.</span> <span class="toc_mobile_items-text">4. QA 闪存卡 (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-常见误解与错误-Common-Misunderstandings-and-Mistakes"><span class="toc_mobile_items-number">1.8.</span> <span class="toc_mobile_items-text">5. 常见误解与错误 (Common Misunderstandings and Mistakes)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-编程练习-Coding-Exercise"><span class="toc_mobile_items-number">1.9.</span> <span class="toc_mobile_items-text">6. 编程练习 (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#332-C-Using声明命名空间冲突"><span class="toc-number">1.</span> <span class="toc-text">332 - C++ Using声明命名空间冲突</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#🧑‍💻-User"><span class="toc-number">1.1.</span> <span class="toc-text">🧑‍💻 User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🤖-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">🤖 Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-using-声明：让代码更简洁，但要小心命名冲突！"><span class="toc-number">1.3.</span> <span class="toc-text">C++ using 声明：让代码更简洁，但要小心命名冲突！</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-为什么我们需要-using-声明？——-命名空间的“冗长”困扰"><span class="toc-number">1.4.</span> <span class="toc-text">1. 为什么我们需要 using 声明？—— 命名空间的“冗长”困扰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-using-声明的两种“魔法”语法"><span class="toc-number">1.5.</span> <span class="toc-text">2. using 声明的两种“魔法”语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-语法一：引入单个名称-using-namespace-name-member-name"><span class="toc-number">1.5.1.</span> <span class="toc-text">2.1 语法一：引入单个名称 (using namespace_name::member_name;)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-语法二：引入整个命名空间-using-namespace-namespace-name"><span class="toc-number">1.5.2.</span> <span class="toc-text">2.2 语法二：引入整个命名空间 (using namespace namespace_name;)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-命名冲突：using-声明的“双刃剑”"><span class="toc-number">1.6.</span> <span class="toc-text">3. 命名冲突：using 声明的“双刃剑”</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-QA-闪存卡-QA-Flash-Cards"><span class="toc-number">1.7.</span> <span class="toc-text">4. QA 闪存卡 (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-常见误解与错误-Common-Misunderstandings-and-Mistakes"><span class="toc-number">1.8.</span> <span class="toc-text">5. 常见误解与错误 (Common Misunderstandings and Mistakes)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-编程练习-Coding-Exercise"><span class="toc-number">1.9.</span> <span class="toc-text">6. 编程练习 (Coding Exercise)</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">332 - cpp using声明命名空间冲突</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/332%20-%20cpp%20using%E5%A3%B0%E6%98%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%86%B2%E7%AA%81/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/332%20-%20cpp%20using%E5%A3%B0%E6%98%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%86%B2%E7%AA%81/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="332-C-Using声明命名空间冲突"><a href="#332-C-Using声明命名空间冲突" class="headerlink" title="332 - C++ Using声明命名空间冲突"></a>332 - C++ Using声明命名空间冲突</h1><h2 id="🧑‍💻-User"><a href="#🧑‍💻-User" class="headerlink" title="🧑‍💻 User"></a>🧑‍💻 User</h2><p>In this lecture, we’re going to learn about using declarations.And this is a facility we have in the C plus plus programming language to be able to call things thatlive inside a namespace without explicitly specifying the namespace name.Let’s see how this works.We have seen that we can set up different classes in our namespace using the syntax here.For example, this is a header file for our point class.We could do the same thing for our line class.As you see here, it’s living inside our namespace and we could do the same thing for our cylinder classagain.It is living inside this namespace here.If we want to use these classes that live inside the namespaces we have seen that we had to prefix everythingwith the namespace name and if you are using these things a lot, typing the namespace multiple timescan really be annoying and sometimes you want to avoid that using declarations or a facility we havein the C plus plus programming language to avoid typing these namespaces.A lot of times if you don’t want to do that.So how does this work?Well, we have two syntaxes we can use.If you look here, we have two syntaxes and I’m going to tell you the difference between them.The first one is going to just bring in a name inside the namespace and the syntax to do that.You say using explicitly as you see here, you say the namespace name, you say Colon, Colon, andthen you say the name you want to import that you want to use without prefixing that with the namespace.If we do something like this, we will be able to create the point objects without specifying the namespace.And I want you to know that the second one we can use is what you see here and you say using namespace,you say the namespace name and this is going to bring in the entire namespace and you will be able touse things inside that namespace without adding the namespace name prefix.Okay.So if you go down you’re going to see another example.You can say using namespace math.This is going to bring the entire math namespace.And if you say using math colon, colon add, this is only going to bring in the Add name from the mathnamespace and we’re going to see a few examples of how this works.I realize this may be confusing at this point, but don’t worry, we’re going to see an example andyou’re going to see how all this comes together.Okay.Once you have brought in your namespace, you can then create things without using namespace prefixes.You see, we can create a point without adding colon.Colon.We can create line objects.As you see down here, we can call the add function without specifying the namespace where it lives.And but this also works for builtin namespaces.For example, if you say using stdcout and using Stdendl, you will be able to say cout hello and endlwithout specifying the STD namespace here.And this is going to work.You can even bring in the entire STD namespace using the syntax here.But this is not recommended because then your names are going to conflict with the things that liveinside the standard namespace and that’s going to be really bad.Okay.Now that you have an idea about this, let’s head over to Visual Studio code and play with this a littlemore.Okay, Here we are in our working folder.The current project is using declarations.We’re going to grab our template files or I think we’re going to be using the files we have createdin our geometry or geom project here, the cylinder, the line and the point.So we’re going to grab things from this project here.I think that’s going to be easier to handle.So we’re going to grab the files that we need.We’re going to grab the main CPP file, We’re going to grab the point CPP file, we’re going to leaveout the executable because we don’t really want that.We’re going to copy these things and then we’re going to go in our current project.I think this is going to be better.It’s going to save us a few seconds.Now that we have this, we’re going to open this little guy in Visual Studio code.Let’s do that.Okay.We have our project open here and you see that to be able to use things from the global namespace,we had to specify the geometry namespace here.And sometimes this may be annoying if you are typing these things maybe a hundred times or more.So we’re going to use using declarations to make those things simpler.We’re going to start with our point class here.We can go in and say we don’t want to specify the namespace name when we create the point objects likethis and this is what we want.We want the syntax here to work and.We’re going to use using declarations to do that.So we’re going to say using geom and we’re going to say point to mean that the point class name is whatwe want to bring in.And the moment we do that, you’re going to see that the problem here is going to go away and this isgoing to work.So this is just bringing in the name from the namespace.Okay.I want you to know that this is the first syntax we can use to do this.But the second syntax you can use is to bring in the entire namespace.And you do that by saying using namespace.And you’re going to say the namespace name.I don’t think we need these things.That Visual Studio code is autocompleting for us.We’re going to say Geom and this is going to bring the entire namespace.And if we do this, even the things we have below here, for example, the line and the cylinder aregoing to work without specifying the namespace name.You can see that this is going to make your code easier to read, but I think it is going to be confusingbecause people want to know this.Things are going to be living in namespaces.They have to haunt this line down to be able to understand your code.But I’m going to leave this decision to you If you want to use this using declarations, please usethem.If you don’t want them, you can specify your own namespaces like we did before, and either choiceis going to work.Let’s try and build this.We’re going to build with GCC, you’re going to see that the build is going to be good and we can bringup a terminal to play with this a little more so that we can run the application and show you that itis working.We have our point, we have our line and we have our volume printed out.And this is really cool to play with this further, we’re going to add a few functions that live ina header file called operations and the CPP file called operations that CPP.So we’re going to add those files here.Let’s go on top here and add operations dot H and we’re going to also add operations that CPP.We are going to jump into the header file and put in our code.We have the namespace here and we don’t have an include guard on this header file.So let’s grab an include guard from some other file and we’re going to adapt this a little bit.I think that’s going to work better.Saving us a few typos.Let’s grab the ending of this little guy.Let’s grab cylinder dot h and we’re going to see the ending of that thing.We can go to the end and do that, and then we’re going to say operations dot H here, let’s say operations.And we can say operations here and we’re going to say operations down here.Okay, we’re good here.We are also going to put in our CPP file.Again, if we look at our operations here, it’s just setting up a simple example we can play with.We have add sub multi dev functions to add, subtract, multiply and divide.And we have two sets of these functions here.One set is going to just do the operations.It’s not going to do any adjustment and another set is going to do the adjustment upon further investigation.Here I see that the functions from the math namespaces are doing the adjustment that they shouldn’tdo.So I’m going to fix this a little bit.Sorry for this if you find this confusing, but this is programming.We make mistakes and we fix them.That’s the important thing.So let’s do that.We’re going to remove our adjustment here and we’re going to make sure that the adjustment is done inour weighted namespace here and we’re going to see that we don’t need this minus here.Uh, what was I doing when I typed this code?But this is working.The important thing is that this functions are living in separate namespaces.We have a set of functions which is going to just do the operations.It’s just going to add, subtract, multiply and divide.And we have a set of functions which is not just going to do the operations, but it’s also going todo an adjustment.We’re going to subtract.And suppose this is something important for whatever operation you are doing in your C plus plus program.The important thing is that we have these namespaces and we can use using declarations to make thingssimpler.Another thing we’re going to do is to head over in our main function and put in another add function.So for example, if we go down here and put in our add function, it’s going to say Add.We’re going to say that it lives in the global namespace and it’s just going to do something silly.It’s going to add up the numbers and it’s going to add 0.555 and we’re just going to see that we cancall this function here.Now, what happens if we go in our main function and call the Add function?Let’s do that.We’re going to put a separator here and we’re going to go down here and say, add, okay, which oneis going to be called?Well, the C plus plus compiler is going to see that we have an Add function here.We need to specify the parameters, let’s say ten and 20.This is going to satisfy our compiler.The compiler is going to look in the global namespace.It’s going to say, Aha, I have an Add function, I am going to call that Let’s build and show thatthis is actually the case.Okay.The world should be good here.We’re going to clear and run, Rooster.Clear and run, Rooster.We’re going to see that we are calling the Add function from the global namespace here.So what happens if, for example, we go down here and say, using math?And we can save this the moment we do this.We’re going to see a squiggly line.And this is problematic because we didn’t include the operations header.So let’s do that operations.And now this is going to be valid syntax, but the ad name is going to be confusing to the compiler.Now the compiler is going to see the Add function call here and it’s going to look on top here.It’s going to say, Aha, I have an Add function from the global namespace, but I also have an Addfunction from the math namespace that I can call and this is going to be confusing to the compiler.I want you to know this.So we’re going to try and build this with GCC and we’re going to get an ambiguous compiler error.I think that’s what we’re going to get.We’re going to see double math, add double conflicts with a previous declaration of Add, which ishere.So the compiler is seeing two declarations for the Add functions and it doesn’t know which one to use.Okay.We’re going to see the same problem if we also bring in the entire math namespace.For example, if we say using namespace and say math, for example, we’re going to have the same problemwe’re going to build, you’re going to see that world finished with errors and we’re going to see thatwe have two functions that could service the same call.And this is really bad.So if you want to call the Add function, you have to be sure you know which one you are calling.So for example, we can take out all of these declarations and come here and for example, say mathand specify that we want to call the add function from the math namespace.If we’re trying to build this, this is going to work.Let’s bring this up a little bit so that you can see you’re going to see that the build is good.And if we run this, we’re going to see that we are calling the Add function from the math namespace.If we say math weighted, we can say that.And build and run this application.We’re going to see that the world is good.If we run Rooster, we’re going to see that.Now we are calling the Add function from the weighted namespace and this is really cool.You really have to know this.But the important message here is that we can use the using declarations to bring in namespaces anduse them without specifying the namespace like we do here.And this is really cool.We have two syntaxes.We can bring in specific names or we can bring in the entire namespace and you’re going to have to choosewhatever you think is better for you.The last thing I want you to see in this lecture is that we can also use using declarations on builtin namespaces.So let’s see that pretty quick.We can bring in C out and Endl and we’re going to say using STD C out and using Stdendl and we can sayout Hello world here.And this is going to work because we have brought in these names from the STD namespace.If we build and run this application, you’re going to see that it’s going to work.Okay, The world is good.We can clear and clear, not clear and run.Rooster.We’re going to see that we are saying Hello world, but we are not specifying the namespaces when weissue our C out statement here.And some people prefer to do things like this, but I prefer to specify the namespaces where my thingsare living.This is one syntax we can use, but we can also bring in the entire STD namespace.Now you know how to do that.We can say using namespace STD and this is going to bring in the entire STD namespace, but this isalso going to work.But I don’t really recommend this because this is going to bring in the names from the STD namespaceand they are going to conflict with things you do in your own code.This is basically going to be the same problem we saw when we were playing with the Add function.We had an Add function that we defined ourselves here in the global namespace and it was conflictingwith functions from the math and math weighted namespaces.So you need to be very careful, but the decision is going to be yours because you know the specificsof your project.So I’m going to leave that decision to you.This is really all I had to share in this lecture.I hope you found it interesting.We are going to stop here in this one and the next one we’re going to learn about anonymous namespaces.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="🤖-Assistant"><a href="#🤖-Assistant" class="headerlink" title="🤖 Assistant"></a>🤖 Assistant</h2><p>好的，很高兴能为您详细讲解 C++ 中的 <code>using</code> 声明 (using declarations)！作为您的 C++ 导师，我将尽力用最清晰、最易懂的方式来帮助您掌握这个重要的概念。</p>
<hr>
<h2 id="C-using-声明：让代码更简洁，但要小心命名冲突！"><a href="#C-using-声明：让代码更简洁，但要小心命名冲突！" class="headerlink" title="C++ using 声明：让代码更简洁，但要小心命名冲突！"></a><strong>C++ <code>using</code> 声明：让代码更简洁，但要小心命名冲突！</strong></h2><p><strong>简要总结:</strong> 本次课程将深入探讨 C++ 中的 <code>using</code> 声明，它允许我们更简洁地使用命名空间 (namespace) 中的名称，而无需重复书写命名空间 <code>前缀</code> (prefix)。我们将学习两种主要的 <code>语法</code> (syntax) —— 引入单个名称和引入整个命名空间，并着重分析它们带来的便利性以及可能导致的 <code>二义性</code> (ambiguous) 命名冲突问题，以及如何安全地使用它们。</p>
<hr>
<h2 id="1-为什么我们需要-using-声明？——-命名空间的“冗长”困扰"><a href="#1-为什么我们需要-using-声明？——-命名空间的“冗长”困扰" class="headerlink" title="1. 为什么我们需要 using 声明？—— 命名空间的“冗长”困扰"></a><strong>1. 为什么我们需要 <code>using</code> 声明？—— 命名空间的“冗长”困扰</strong></h2><p>在 C++ 中，<code>命名空间</code> (namespace) 是一种用于组织代码的机制，它帮助我们避免在大型项目中出现命名冲突。想象一下，您的团队开发了一个庞大的几何库 (例如 <code>geom</code> 命名空间)，里面定义了 <code>Point</code> (点)、<code>Line</code> (线) 和 <code>Cylinder</code> (圆柱) 等类。当您想使用这些类时，每次都需要这样写：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设这是您的Point类头文件：geom/Point.h</span></span><br><span class="line"><span class="keyword">namespace</span> geom &#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="keyword">double</span> x, y, z;</span><br><span class="line">        Point(<span class="keyword">double</span> x = <span class="number">0</span>, <span class="keyword">double</span> y = <span class="number">0</span>, <span class="keyword">double</span> z = <span class="number">0</span>);</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; <span class="comment">// end namespace geom</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在您的主文件 main.cpp 中使用</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Point.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">geom::Point <span class="title">p1</span><span class="params">(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>)</span></span>; <span class="comment">// 每次都要写 geom::</span></span><br><span class="line">    p1.print();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>这看起来还行，但如果您在一个文件中频繁创建 <code>Point</code>、<code>Line</code>、<code>Cylinder</code> 对象，或者调用 <code>geom</code> 命名空间下的各种函数，每次都敲 <code>geom::</code> 会非常繁琐和恼人。这正是 <code>using</code> 声明要解决的“痛点”。</p>
<h2 id="2-using-声明的两种“魔法”语法"><a href="#2-using-声明的两种“魔法”语法" class="headerlink" title="2. using 声明的两种“魔法”语法"></a><strong>2. <code>using</code> 声明的两种“魔法”语法</strong></h2><p><code>using</code> 声明有两种主要的 <code>语法</code> (syntax)，它们提供了不同的便利程度，但潜在的风险也不同。</p>
<h3 id="2-1-语法一：引入单个名称-using-namespace-name-member-name"><a href="#2-1-语法一：引入单个名称-using-namespace-name-member-name" class="headerlink" title="2.1 语法一：引入单个名称 (using namespace_name::member_name;)"></a><strong>2.1 语法一：引入单个名称 (<code>using namespace_name::member_name;</code>)</strong></h3><p>这种语法允许您从一个 <code>命名空间</code> 中精确地引入一个特定的名称（比如一个类名、函数名或变量名），使其可以直接使用，而无需再添加命名空间 <code>前缀</code>。</p>
<p><strong>如何工作：</strong><br>您可以使用 <code>using 命名空间名称::您想引入的名称;</code> 来实现。</p>
<p><strong>示例代码：</strong></p>
<p>让我们以上面的 <code>geom::Point</code> 为例。假设您的 <code>main.cpp</code> 文件原本是这样使用 <code>Point</code>、<code>Line</code> 和 <code>Cylinder</code> 的：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// geom/Point.h (保持不变)</span></span><br><span class="line"><span class="keyword">namespace</span> geom &#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span> <span class="comment">/* ... */</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// geom/Line.h (假设存在)</span></span><br><span class="line"><span class="keyword">namespace</span> geom &#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Line</span> &#123;</span> <span class="comment">/* ... */</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// geom/Cylinder.h (假设存在)</span></span><br><span class="line"><span class="keyword">namespace</span> geom &#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span> <span class="comment">/* ... */</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.cpp (未使用 using 声明之前)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Line.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Cylinder.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">geom::Point <span class="title">p1</span><span class="params">(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>)</span></span>;</span><br><span class="line">    <span class="function">geom::Line <span class="title">l1</span><span class="params">(p1, geom::Point(<span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>))</span></span>; <span class="comment">// 甚至在参数中也要写</span></span><br><span class="line">    <span class="function">geom::Cylinder <span class="title">c1</span><span class="params">(p1, <span class="number">5.0</span>, <span class="number">10.0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ... 其他操作</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>现在，我们使用 <code>using</code> 声明来简化 <code>main.cpp</code>：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp (使用 using 声明引入单个名称之后)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Line.h"</span>    <span class="comment">// 假设这些头文件也定义了 Line 和 Cylinder 在 geom 命名空间内</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Cylinder.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 在这里引入 geom::Point</span></span><br><span class="line"><span class="keyword">using</span> geom::Point; <span class="comment">// 声明：我希望以后可以直接使用 Point，它指的是 geom::Point</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>)</span></span>; <span class="comment">// 此时可以直接写 Point，无需 geom::Point</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 对于 Line 和 Cylinder，如果没用 using 声明，仍然需要加前缀</span></span><br><span class="line">    <span class="function">geom::Line <span class="title">l1</span><span class="params">(p1, geom::Point(<span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>))</span></span>;</span><br><span class="line">    <span class="function">geom::Cylinder <span class="title">c1</span><span class="params">(p1, <span class="number">5.0</span>, <span class="number">10.0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ... 其他操作</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>通过 <code>using geom::Point;</code>，编译器知道当您写 <code>Point</code> 时，您指的是 <code>geom::Point</code>。这让代码看起来更简洁。如果您还需要使用 <code>Line</code> 和 <code>Cylinder</code>，可以逐个添加：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> geom::Point;</span><br><span class="line"><span class="keyword">using</span> geom::Line;</span><br><span class="line"><span class="keyword">using</span> geom::Cylinder;</span><br><span class="line"><span class="comment">// 这样在 main 函数内部就可以直接使用 Point, Line, Cylinder 了</span></span><br></pre></td></tr></table></figure></div>
<h3 id="2-2-语法二：引入整个命名空间-using-namespace-namespace-name"><a href="#2-2-语法二：引入整个命名空间-using-namespace-namespace-name" class="headerlink" title="2.2 语法二：引入整个命名空间 (using namespace namespace_name;)"></a><strong>2.2 语法二：引入整个命名空间 (<code>using namespace namespace_name;</code>)</strong></h3><p>这种语法更强大，它会把指定 <code>命名空间</code> 中的所有名称都引入到当前的作用域 (scope) 中。这意味着该命名空间中的所有类、函数、变量等都可以直接使用，无需任何 <code>前缀</code>。</p>
<p><strong>如何工作：</strong><br>您可以使用 <code>using namespace 命名空间名称;</code> 来实现。</p>
<p><strong>示例代码：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp (使用 using namespace 声明引入整个命名空间之后)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Line.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"geom/Cylinder.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入整个 geom 命名空间</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> geom; <span class="comment">// 声明：我希望以后可以直接使用 geom 命名空间下的所有名称</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>)</span></span>;      <span class="comment">// 直接使用 Point</span></span><br><span class="line">    <span class="function">Line <span class="title">l1</span><span class="params">(p1, Point(<span class="number">4.0</span>, <span class="number">5.0</span>, <span class="number">6.0</span>))</span></span>; <span class="comment">// 直接使用 Line，且参数中的 Point 也不需前缀</span></span><br><span class="line">    <span class="function">Cylinder <span class="title">c1</span><span class="params">(p1, <span class="number">5.0</span>, <span class="number">10.0</span>)</span></span>; <span class="comment">// 直接使用 Cylinder</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ... 其他操作</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>这种方法无疑使得代码在书写上极其简洁。但是，它也带来了更大的风险，尤其是当引入的命名空间中包含与当前 <code>作用域</code> 或其他引入的命名空间中名称相同的实体时，就会出现 <code>二义性</code> (ambiguous) 错误，这是本课程中一个非常重要的点。</p>
<h2 id="3-命名冲突：using-声明的“双刃剑”"><a href="#3-命名冲突：using-声明的“双刃剑”" class="headerlink" title="3. 命名冲突：using 声明的“双刃剑”"></a><strong>3. 命名冲突：<code>using</code> 声明的“双刃剑”</strong></h2><p>正如讲师所强调的，虽然 <code>using</code> 声明能让代码更简洁，但它可能导致命名冲突。当多个地方存在同名的类或函数时，编译器会感到困惑，不知道您到底想调用哪一个。这被称为 <code>二义性</code> (ambiguous) 错误。</p>
<p>让我们通过一个具体的例子来深入理解这个问题。</p>
<p><strong>场景设定：</strong></p>
<ol>
<li><strong>全局命名空间 (global namespace) 中的 <code>Add</code> 函数：</strong><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp (在 main 函数外部)</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Calling global Add function."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> a + b + <span class="number">0.555</span>; <span class="comment">// 一个“奇怪”的全局 Add 函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
<li><strong><code>math</code> 命名空间中的 <code>Add</code> 函数：</strong><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// operations.h</span></span><br><span class="line"><span class="keyword">namespace</span> math &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>;</span><br><span class="line">    <span class="comment">// ... 其他函数如 Sub, Mul, Div</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// operations.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span></span></span><br><span class="line"><span class="keyword">namespace</span> math &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Calling math::Add function."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a + b; <span class="comment">// 简单的加法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
<li><strong><code>math_weighted</code> 命名空间中的 <code>Add</code> 函数：</strong><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// operations.h (与上面 math 命名空间在同一个文件中，但定义在不同的命名空间里)</span></span><br><span class="line"><span class="keyword">namespace</span> math_weighted &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// operations.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span></span></span><br><span class="line"><span class="keyword">namespace</span> math_weighted &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Calling math_weighted::Add function."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a + b - <span class="number">1.0</span>; <span class="comment">// 带调整的加法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
</ol>
<p><strong>问题复现：</strong></p>
<p>现在，我们在 <code>main.cpp</code> 中尝试调用 <code>Add(10, 20)</code>。</p>
<p><strong>情况一：只存在全局 <code>Add</code>，没有 <code>using</code> 声明</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">// 没有包含 operations.h，也没有 using 声明</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123; <span class="comment">/* ... */</span> &#125; <span class="comment">// 全局 Add</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = Add(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// 明确调用的是全局 Add</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Result: "</span> &lt;&lt; result &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：Calling global Add function. Result: 30.555</span></span><br></pre></td></tr></table></figure></div>
<p>这很明确，编译器会找到 <code>全局命名空间</code> 中的 <code>Add</code> 函数并调用它。</p>
<p><strong>情况二：引入 <code>math::Add</code>，同时存在全局 <code>Add</code>（使用 <code>using math::Add;</code>）</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span> <span class="comment">// 包含 math::Add 的声明</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123; <span class="comment">/* ... */</span> &#125; <span class="comment">// 全局 Add</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> math::Add; <span class="comment">// 引入 math 命名空间中的 Add 函数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = Add(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// ！！这里会报错：二义性！！</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>当您尝试编译这段代码时，编译器会发出 <code>二义性</code> (ambiguous) 错误！它会说：“嘿，我看到两个 <code>Add</code> 函数可以匹配 <code>Add(10, 20)</code>：一个是 <code>全局命名空间</code> 里的 <code>Add</code>，另一个是你通过 <code>using math::Add;</code> 引入的 <code>math::Add</code>。我不知道该用哪一个！”</p>
<p><strong>情况三：引入整个 <code>math</code> 命名空间，同时存在全局 <code>Add</code>（使用 <code>using namespace math;</code>）</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123; <span class="comment">/* ... */</span> &#125; <span class="comment">// 全局 Add</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> math; <span class="comment">// 引入整个 math 命名空间</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> result = Add(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// ！！同样会报错：二义性！！</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>结果和情况二一样，编译器仍然会因为无法区分 <code>全局命名空间</code> 的 <code>Add</code> 和 <code>math::Add</code> 而报错。</p>
<p><strong>如何解决 <code>二义性</code> 错误？</strong></p>
<p>当出现 <code>二义性</code> 错误时，您必须明确告诉编译器您想使用哪个 <code>Add</code> 函数。方法很简单：加上完整的命名空间 <code>前缀</code>。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp (解决二义性问题)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123; <span class="comment">/* ... */</span> &#125; <span class="comment">// 全局 Add</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以选择不使用 using 声明，或者即便使用了，遇到冲突也显式指定</span></span><br><span class="line"><span class="comment">// using math::Add; // 如果写了这行，下面必须显式指定</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 明确调用全局命名空间的 Add 函数</span></span><br><span class="line">    <span class="keyword">double</span> result1 = ::Add(<span class="number">10</span>, <span class="number">20</span>); <span class="comment">// :: 表示全局命名空间</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Result from global Add: "</span> &lt;&lt; result1 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 明确调用 math 命名空间的 Add 函数</span></span><br><span class="line">    <span class="keyword">double</span> result2 = math::Add(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Result from math::Add: "</span> &lt;&lt; result2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 明确调用 math_weighted 命名空间的 Add 函数</span></span><br><span class="line">    <span class="keyword">double</span> result3 = math_weighted::Add(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Result from math_weighted::Add: "</span> &lt;&lt; result3 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>通过 <code>::Add</code> (表示 <code>全局命名空间</code> 中的 <code>Add</code>)，<code>math::Add</code> 和 <code>math_weighted::Add</code>，我们明确地指出了要调用的函数，消除了 <code>二义性</code>。</p>
<p><strong>经验法则：</strong></p>
<ul>
<li><strong>不推荐在头文件 (<code>.h</code> 或 <code>.hpp</code>) 中使用 <code>using namespace ...;</code></strong>：这会将整个命名空间引入到所有包含该头文件的文件中，极大地增加了命名冲突的风险。</li>
<li><strong>在 <code>.cpp</code> 文件中谨慎使用 <code>using namespace ...;</code></strong>：如果您的 <code>.cpp</code> 文件很小，且您非常确定不会有命名冲突，可以考虑使用。但通常，最好只引入您需要使用的特定名称（<code>using namespace_name::member_name;</code>），或者干脆不使用 <code>using</code> 声明，每次都写完整 <code>前缀</code>。</li>
<li><strong>对于 <code>std</code> 命名空间：</strong><ul>
<li><code>std::cout</code> 和 <code>std::endl</code> 是 C++ 标准库 (standard library) 中最常用的输出流对象和换行符。您可以通过 <code>using std::cout;</code> 和 <code>using std::endl;</code> 来单独引入它们，然后直接写 <code>cout &lt;&lt; &quot;Hello&quot;;</code> 和 <code>endl;</code>。</li>
<li><strong>强烈不推荐在任何地方使用 <code>using namespace std;</code></strong>：<code>std</code> 命名空间非常庞大，包含了几千个名称。引入整个 <code>std</code> 命名空间几乎必然会导致您的代码与 <code>std</code> 库中的某些名称发生冲突，或者在您不知情的情况下，调用了 <code>std</code> 库中某个与您自定义名称相同的函数。这被称为“命名污染”。最好的做法是显式地使用 <code>std::</code> 前缀，或者只 <code>using</code> 您需要的少数几个 <code>std</code> 名称。</li>
</ul>
</li>
</ul>
<h2 id="4-QA-闪存卡-QA-Flash-Cards"><a href="#4-QA-闪存卡-QA-Flash-Cards" class="headerlink" title="4. QA 闪存卡 (QA Flash Cards)"></a><strong>4. QA 闪存卡 (QA Flash Cards)</strong></h2><ol>
<li><p><strong>Q1:</strong> <code>using</code> 声明的目的是什么？</p>
<ul>
<li><strong>A1:</strong> 允许我们更简洁地使用 <code>命名空间</code> 中的名称，避免重复书写命名空间 <code>前缀</code>。</li>
</ul>
</li>
<li><p><strong>Q2:</strong> <code>using</code> 声明有两种主要 <code>语法</code>，请分别举例说明。</p>
<ul>
<li><strong>A2:</strong><ul>
<li>引入单个名称：<code>using geom::Point;</code> (只引入 <code>Point</code> 这个类名)</li>
<li>引入整个命名空间：<code>using namespace geom;</code> (引入 <code>geom</code> 命名空间下的所有名称)</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Q3:</strong> 在什么情况下 <code>using</code> 声明会引发 <code>二义性</code> 错误？</p>
<ul>
<li><strong>A3:</strong> 当您尝试引入的名称与当前 <code>作用域</code> 或其他已引入的名称发生冲突（即存在两个或多个同名但来自不同 <code>命名空间</code> 的实体）时，编译器会因为无法判断您想使用哪个而报错。</li>
</ul>
</li>
<li><p><strong>Q4:</strong> 为什么通常 <strong>不推荐</strong> 在头文件 (<code>.h</code> 或 <code>.hpp</code>) 中使用 <code>using namespace std;</code>？</p>
<ul>
<li><strong>A4:</strong> 因为这会将整个 <code>std</code> 命名空间引入到所有包含该头文件的源文件中，极大地增加了 <code>命名冲突</code>（即“命名污染”）的风险，使得代码难以维护和理解。</li>
</ul>
</li>
</ol>
<h2 id="5-常见误解与错误-Common-Misunderstandings-and-Mistakes"><a href="#5-常见误解与错误-Common-Misunderstandings-and-Mistakes" class="headerlink" title="5. 常见误解与错误 (Common Misunderstandings and Mistakes)"></a><strong>5. 常见误解与错误 (Common Misunderstandings and Mistakes)</strong></h2><ol>
<li><p><strong>误解：<code>using namespace std;</code> 是 C++ 编程的标准做法。</strong></p>
<ul>
<li><strong>纠正：</strong> 这是一个非常常见的错误。在 C++ 初学阶段，很多教程会使用 <code>using namespace std;</code> 来简化代码，但这在实际的专业项目中是 <strong>强烈不推荐</strong> 的做法。正如前面所说，它会导致 <code>命名污染</code> 和 <code>二义性</code> 错误。应该养成显式使用 <code>std::</code> 前缀的习惯，或者只 <code>using</code> 您实际需要的少数几个 <code>std</code> 名称。</li>
</ul>
</li>
<li><p><strong>错误：将 <code>using</code> 声明放在头文件 (<code>.h</code>) 中。</strong></p>
<ul>
<li><strong>纠正：</strong> 即使是 <code>using std::cout;</code> 这样的单个名称引入，也应尽量避免放在头文件中。因为任何包含该头文件的源文件都会继承这个 <code>using</code> 声明，可能导致意想不到的命名冲突。<code>using</code> 声明的最佳实践是放在 <code>.cpp</code> 源文件中，或者在函数内部，这样它们的作用域 (scope) 被限制在当前文件或当前函数中，减少了冲突的可能性。</li>
</ul>
</li>
<li><p><strong>误解：<code>using</code> 声明可以解决所有的命名冲突。</strong></p>
<ul>
<li><strong>纠正：</strong> 恰恰相反，<code>using</code> 声明本身就是命名冲突的一个潜在来源！它通过将名称引入当前 <code>作用域</code> 来简化代码，但如果引入的名称与现有名称冲突，就会导致 <code>二义性</code> 错误。它并不是解决冲突的通用方法，而是用来在特定情况下简化代码书写，同时需要谨慎处理潜在冲突。</li>
</ul>
</li>
<li><p><strong>错误：忘记 <code>using</code> 声明有 <code>作用域</code> (scope)。</strong></p>
<ul>
<li><strong>纠正：</strong> <code>using</code> 声明和任何其他变量或函数声明一样，也有 <code>作用域</code>。如果您将 <code>using</code> 声明放在一个函数内部，那么它只在该函数中有效。如果您将它放在 <code>.cpp</code> 文件的 <code>全局作用域</code> (在所有函数外部)，那么它在该文件中的所有代码都有效。理解这个 <code>作用域</code> 对于避免或调试命名冲突非常重要。</li>
</ul>
</li>
</ol>
<h2 id="6-编程练习-Coding-Exercise"><a href="#6-编程练习-Coding-Exercise" class="headerlink" title="6. 编程练习 (Coding Exercise)"></a><strong>6. 编程练习 (Coding Exercise)</strong></h2><p>为了巩固您对 <code>using</code> 声明的理解，请完成以下练习。</p>
<p><strong>背景：</strong><br>我们有一个简单的数学运算库，包含在 <code>operations.h</code> 和 <code>operations.cpp</code> 中。<br><strong><code>operations.h</code>:</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> OPERATIONS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OPERATIONS_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> basic_math &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">subtract</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>;</span><br><span class="line">&#125; <span class="comment">// namespace basic_math</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> advanced_math &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span></span>; <span class="comment">// 这是一个三参数的 add</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">multiply</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span></span>;</span><br><span class="line">&#125; <span class="comment">// namespace advanced_math</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// OPERATIONS_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>operations.cpp</code>:</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> basic_math &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Basic Math: Adding "</span> &lt;&lt; a &lt;&lt; <span class="string">" and "</span> &lt;&lt; b &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">subtract</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Basic Math: Subtracting "</span> &lt;&lt; a &lt;&lt; <span class="string">" and "</span> &lt;&lt; b &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">// namespace basic_math</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> advanced_math &#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b, <span class="keyword">double</span> c)</span> </span>&#123; <span class="comment">// 注意：这是一个三参数的 add</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Advanced Math: Adding "</span> &lt;&lt; a &lt;&lt; <span class="string">", "</span> &lt;&lt; b &lt;&lt; <span class="string">" and "</span> &lt;&lt; c &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a + b + c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">multiply</span><span class="params">(<span class="keyword">double</span> a, <span class="keyword">double</span> b)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Advanced Math: Multiplying "</span> &lt;&lt; a &lt;&lt; <span class="string">" and "</span> &lt;&lt; b &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> a * b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">// namespace advanced_math</span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>任务：</strong><br>请修改下面的 <code>main.cpp</code> 文件，使其能够编译并运行，同时尽可能地使用 <code>using</code> 声明来简化代码书写，但要避免 <code>二义性</code> 错误。</p>
<ol>
<li>直接调用 <code>basic_math::add(5.0, 3.0)</code>。</li>
<li>通过 <code>using</code> 声明引入 <code>basic_math::subtract</code>，然后直接调用 <code>subtract(10.0, 4.0)</code>。</li>
<li>通过 <code>using namespace</code> 声明引入 <code>advanced_math</code> 命名空间。</li>
<li>调用 <code>advanced_math</code> 命名空间中的 <code>add</code> 函数（注意其参数数量）。</li>
<li>调用 <code>advanced_math</code> 命名空间中的 <code>multiply</code> 函数。</li>
<li>使用 <code>using std::cout;</code> 和 <code>using std::endl;</code> 来简化 <code>std::cout</code> 和 <code>std::endl</code> 的书写。</li>
</ol>
<p><strong><code>main.cpp</code> (待填充部分):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"operations.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// <span class="doctag">TODO:</span> 在这里添加必要的 using 声明</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// TODO 1: 调用 basic_math::add(5.0, 3.0)，不要使用 using 声明来简化</span></span><br><span class="line">    <span class="comment">// double result_add_basic = basic_math::add(5.0, 3.0);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Result from basic_math::add: " &lt;&lt; result_add_basic &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 2: 通过 using 声明引入 basic_math::subtract，然后直接调用 subtract(10.0, 4.0)</span></span><br><span class="line">    <span class="comment">// double result_subtract = subtract(10.0, 4.0);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Result from subtract: " &lt;&lt; result_subtract &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 3: 引入 advanced_math 命名空间 (使用 using namespace 声明)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 4: 调用 advanced_math 命名空间中的 add 函数 (三参数版本)</span></span><br><span class="line">    <span class="comment">// double result_add_adv = add(1.0, 2.0, 3.0);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Result from advanced_math::add: " &lt;&lt; result_add_adv &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 5: 调用 advanced_math 命名空间中的 multiply 函数</span></span><br><span class="line">    <span class="comment">// double result_multiply = multiply(6.0, 7.0);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Result from multiply: " &lt;&lt; result_multiply &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 6: 使用 using std::cout 和 using std::endl 来简化输出</span></span><br><span class="line">    <span class="comment">// cout &lt;&lt; "Exercise finished!" &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>请您尝试完成 <code>main.cpp</code> 中的 <code>TODO</code> 部分。完成后，请提供您的解决方案。我会在您的解决方案提交后进行评分，并提供正确答案和更深入的解释。加油！</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Namespace/">Namespace    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/334%20-%20cpp%20Nested/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>334 - cpp Nested</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/338%20-%20cpp%20Build/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>338 - cpp Build</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/静态成员访问控制/" title="静态成员访问控制"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">静态成员访问控制</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/276 - Class across multiple files/" title="276 - Class across multiple files"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">276 - Class across multiple files</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/272 - first class/" title="272 - first class"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">272 - first class</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/275 - getter and setter/" title="275 - getter and setter"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">275 - getter and setter</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/283 - cpp 类对象大小探究/" title="283 - cpp 类对象大小探究"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">283 - cpp 类对象大小探究</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'不说话的人会疯掉吗?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">外向孤独者患者</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>