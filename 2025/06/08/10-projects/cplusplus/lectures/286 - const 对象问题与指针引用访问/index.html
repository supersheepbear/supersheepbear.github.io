<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—® | Bear's dream</title><meta name="description" content="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><meta name="keywords" content="Cpp,Coding,Class,Object,Pointer"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><meta name="twitter:description" content="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/286%20-%20const%20%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98%E4%B8%8E%E6%8C%87%E9%92%88%E5%BC%95%E7%94%A8%E8%AE%BF%E9%97%AE/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/286%20-%20const%20%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98%E4%B8%8E%E6%8C%87%E9%92%88%E5%BC%95%E7%94%A8%E8%AE%BF%E9%97%AE/"><link rel="prev" title="283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/283%20-%20cpp%20%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%A4%A7%E5%B0%8F%E6%8E%A2%E7%A9%B6/"><link rel="next" title="287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">152</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">20</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#Const-å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-ä¸­çš„-const-å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">C++ ä¸­çš„ const å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Const-å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><span class="toc-number">1.</span> <span class="toc-text">Const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-ä¸­çš„-const-å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®"><span class="toc-number">2.</span> <span class="toc-text">C++ ä¸­çš„ const å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/286%20-%20const%20%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98%E4%B8%8E%E6%8C%87%E9%92%88%E5%BC%95%E7%94%A8%E8%AE%BF%E9%97%AE/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/286%20-%20const%20%E5%AF%B9%E8%B1%A1%E9%97%AE%E9%A2%98%E4%B8%8E%E6%8C%87%E9%92%88%E5%BC%95%E7%94%A8%E8%AE%BF%E9%97%AE/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="Const-å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><a href="#Const-å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®" class="headerlink" title="Const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"></a>Const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to learn about cost objects.Suppose you have a class like this.The class is called Dog, and we have two sections in the class.We have a public section and we have a private section inside the class.We also have a few constructors and we have a destructor.But the important thing we want to look at in this lecture is the setters, which is this block here.And the getters that we have in this class now, we have this class declared.We donâ€™t have the definitions in here because we could move them in a separate file to keep the headerclean.But suppose we created an object of this class and made it const.So we are declaring a dog object and it is made const here and when we make it const I want you to thinkabout what this means.It means that you canâ€™t change any member variable in this object.Essentially, you canâ€™t change the dog name, you canâ€™t change the dog breed, you canâ€™t change thedog age.If you try to do that, youâ€™re going to get a compiler error.In this lecture, weâ€™re going to see some problems that come with declaring your object cost.Then weâ€™re going to see a solution to this in a few lectures ahead.So if we have our object declared here and we tried to set the name to another name, for example,through the call here, you would expect this to fail because this object is cast and we shouldnâ€™t beable to modify any member variable of this object and say to name is going to try and modify the nameof the object.So this is going to give us a compiler error and we expect a compiler error.The problem is going to come if we try to call a function like print information here.And the print function is really trying to read from the dog object.The main purpose of this function is, for example, to read the dog name and print that out, to readthe breed name for the dog and print that out.Itâ€™s also going to read the age and print that out.Itâ€™s really not going to modify the object.But if we try to call this and compile our program, weâ€™re going to get a compiler error.This is even going to be the case if we try to read using any of the getters we have in the function.This is going to be even the case if we try to read the dog name through any of the getters we havein our class.So, for example, if we say Dog one get name here, weâ€™re going to get a compiler error.So why is this the case?The problem is we have no special way to differentiate between the getters and setters and tell thecompiler that the getters arenâ€™t going to modify the data in the class and that the setters are onlygoing to be able to modify.We donâ€™t really have a way to tell the compiler which methods are going to be modifying the objectsbecause we want our setters to modify the object and tell the compiler that our getters are innocent.Theyâ€™re not going to try and modify the object in the eyes of the compiler.Our getters could also modify the object.So thatâ€™s the problem here, and thatâ€™s why we are getting a compiler error.If we try to call any of these methods on a const object.Okay, so we have a problem.And the problem again is that we canâ€™t read data from our const objects, but weâ€™re going to get theprotection from the compiler if we try to call the setter methods.But if we canâ€™t read from our objects, our objects are really going to be useless.We are going to see a solution to this in a few lectures ahead.But first letâ€™s address some thoughts some of you might have about this problem here.Some of you might be saying, What if we try and go through pointers or references and try to modifythe object or try to call our getters and see if things work?Well, I had to break it to you.Thatâ€™s not going to work either.But letâ€™s analyze this things case by case.Okay, so suppose we are trying to go through a pointer to Non-const and try to see if we can call oursetter or getter functions.So we have our object declared here and we have a pointer to dog.Notice that this is a pointer to Non-const.So this pointer could potentially be used to modify the object it is pointing to.And the moment we assign the address of our cast object to this pointer, weâ€™re going to get a compilererror.The compiler is going to see that this pointer could be used to modify our const dog object.So itâ€™s going to stop us from doing the assignment here.So this is going to fail.This is not going to work.Okay, so our first attempt failed, but what if we try to go through a non-const reference?Letâ€™s see what happens.Again, we have our dog object.We are trying to set up a non-const reference to dog and we try to assign our dog object to this reference.Here again, the compiler is going to see that this reference could be used to modify our cast dog objectand it is going to store.Stop us from doing this assignment.So if we set up this assignment in our code, weâ€™re going to get a compiler error.And the compiler error is going to say we canâ€™t convert from a const.Doug Reference to Doug reference because thatâ€™s what we are trying to do here.Okay, so what if we try to go through pointer to cost?Letâ€™s see what happens.Weâ€™re going to have our Doug object, which is const and we are going to set up a pointer to const.Doug Thatâ€™s what we have here and weâ€™re going to assign the address of our object to this pointer.So this is going to work, this is going to compile, but the moment we try to call a setter to ourDoug object, weâ€™re going to get a compiler error.And this is expected because we have no business modifying a const object.But if we try to call an innocent getter function, which is not going to really modify our object,weâ€™re also going to get a compiler error.And this is the same problem we saw before.But I want you to see this in the context of pointers and references here.So this is also not going to work.Okay, so what if we try to go through const references, Weâ€™re going to set up our Doug object andweâ€™re going to set up a const reference here and weâ€™re going to assign our object to this reference.And the moment we try to go through our reference to modify the object, weâ€™re going to get a compilererror, which is what we expect.But you see that if we even call our printing function here, weâ€™re going to get a compiler error thatwe donâ€™t really expect.So this is a problem with const objects and we need to find a solution to this.So we have seen that const objects are really problematic and if you set them up, youâ€™re going to beprotected from changing your objects from the setters.But even your getters, which arenâ€™t really modifying your object, the compiler is going to preventyou from calling them.And this is the problem I really want you to see and keep in your mind.Now that we have really described the problem, it is time we headed over to Visual Studio Code andshow you how this works in practice.Okay, here we are in our working folder.The current project is Const Objects.Weâ€™re going to grab our template files and put them in place.Letâ€™s copy this and weâ€™re going to put that in our folder and we are going to open this in Visual Studiocode like we always do.Letâ€™s drag and drop here we have our folder open, letâ€™s open the main CPP file and clean it up a littlebit.The first thing weâ€™re going to do is to create our class that weâ€™re going to be using to learn aboutthe problems you might come across if you use const objects in your C plus plus program.So weâ€™re going to come to the left sidebar here and click on the plus icon, which says New file here.Weâ€™re going to create our header file, which is going to be called Doc Dot H, and weâ€™re going to createanother file, which is going to be our CPP file.Letâ€™s close the Open editors menu here because itâ€™s confusing me so weâ€™re going to also create a CPPfile.Weâ€™re going to say dot dot CPP and I am going to put in the code for the class because I have it prepared.So letâ€™s paste that in here.I have the code in the header.I am going to go to the doc CPP file here, which is open and Iâ€™m going to put in the code that I haveprepared.Letâ€™s go through this class a little bit because I donâ€™t really want to waste your time typing this.Weâ€™re going to look at it and weâ€™re going to see how itâ€™s made.Then weâ€™re going to try and use it.We have a class.Itâ€™s called Dog.It has a public section and a private section.Notice that our member variables now have been changed to string view because we want to avoid copieswhen we pass parameters to the constructors here.So thatâ€™s the reason why we used Stdstring view here.We also have a third member variable which is of unsigned and because the age canâ€™t really be negative,so it makes sense to make this unsigned.And if you go on top here, we also have a few other functions.We have our getters get name, get breed, get age.They are going to be returning our member variables.We have a couple of setters.We have set name, set, breed, set age.They are going to be setting data to our member variables.We also have a utility function which is called principal and itâ€™s going to print information aboutour class.So this is the definition of our class.But in the definition of the class, what we have are the prototypes for the functions.The definitions for the member functions are going to live in dog CPP, and if you go in dog CPP, youâ€™regoing to have an include statement.Here, weâ€™re going to have our constructor, which is going to use the parameters to initialize ourmember variables.We have our getters and all they will do is really return the member variables.One thing you should notice is that we have.The scope resolution operator in front of each function name here.So you see, Doug has a scope resolution operator in front.So this is going to tell the compiler that this function here belongs to the Doug class.Thatâ€™s what the scope resolution operator here means.We have the same on our getters, so we have our scope resolution.Operator You can see that on get name, get breed and get age.You see that we also have that on our setters.The setters are going to be setting data in our member variables.So weâ€™re going to set name, breed and age and our utility function is just going to print informationabout our class object.Itâ€™s just going to print.Doug Itâ€™s going to say the memory address where the object lives.Itâ€™s going to print the name, the breed and the age, and weâ€™re going to see that on the console.So this is our class.If you donâ€™t want to type it, you can get it from the resource section of this lecture and you canstart using it right away because this is going to take some time.But I do recommend spending some time to type this code.And because this is really how you learn.Another thing I havenâ€™t explained I think is the include guard here.This is going to prevent people from including this twice.So the preprocessor is basically going to come in this file and say, if this thing here is not defined,I am going to define it and then Iâ€™m going to include whatever I have in this file here.If this thing is already defined, itâ€™s not going to define this and itâ€™s not going to include whatwe have here.So we have learnt about this before and we are reusing this here.So now that we have this class, letâ€™s try to use it in main.Weâ€™re going to go to the main CPP file and weâ€™re going to include our dog class.And we say that by saying quotes and inside the put in the class header file.And now that we have the class included, we can try and use it in the main function.So weâ€™re going to say dog and say dog one and weâ€™re going to pass in the information to use our constructor.Weâ€™re going to pass in the name, which is going to be fluffy like always.Weâ€™re going to pass in the breed, which is going to be Shefford, and weâ€™re going to pass in the ageof the dog.Now that we have this, we can try and print information about this dog.So weâ€™re going to say dog one and say print info.This is going to call our print function that we have in the class.So if we go back to the class definition we have in Dog dot H, weâ€™re going to see that print info isgoing to print information.But another thing you can do in Visual Studio code is right click on the class and say, Go to definition.When you do that, itâ€™s not going to do that.So this doesnâ€™t work in Visual Studio code, but we can go and find the definition for the functionourselves.So print your form is going to print dog.Itâ€™s going to say the address of the object and itâ€™s going to print information about our object.So weâ€™re going to have name, breed and age printed out here, and weâ€™re going to be respectively printingour member variables here.So letâ€™s go back to Main and weâ€™re going to try and build this program with GCC.The build is good.We can bring up a terminal and say Clear and run a rooster.Now youâ€™re going to see that we have the information about our dog object here printed out.We say dog.We say the memory location for this object.And weâ€™re going to say information about this dog, the name, the breed and the age here.All this information is available.We can use our setters.So, for example, we can go in here and say, dog one, set name and change this to me, for example.Why not?And itâ€™s going to be Wire Fox.Weâ€™re going to set the name, nothing else.So weâ€™re going to say Milu here and weâ€™re going to print the information again.Weâ€™re going to say dog one printable.And if we do that, you see that the program is going to work.Visual Studio Code is not complaining.If we try to compile this program with GCC, youâ€™re going to see that the world is good.And if we run, weâ€™re going to see that our setting has applied to our object.The name is Fluffy, then the name is male.So the set name function here is doing its job.Now, what we really want to see in this lecture is how to work with const objects.So weâ€™re going to change this dog.One object here to be const, letâ€™s do that.And the moment we do that, youâ€™re going to see problems pop up.We change this guy to const here by appending or prepending the const keyword in front.And if we try to build this program, weâ€™re going to pass this through GCC, weâ€™re going to get compilererrors and you see that we have a few squiggly lines here show up.The first problem that we really expect is.When we try to set the name.Because now, because this object is cast, we canâ€™t really change any of its member variables.So if we try to change the name, the breed or the age, weâ€™re going to get a compiler error.And here we have that compiler error.We are trying to change the name of a const object.So we canâ€™t do that.Weâ€™re going to get a compiler error.So weâ€™re going to see the message here which says that we have a problem at line nine in our code.If we go to line nine, you see that we are calling Printinfo, but weâ€™re not going to look at thisjust yet and weâ€™re going to see that we have a problem again on line 11, which is what we are interestedin looking at now.But itâ€™s also going to say that we have a problem with our setname function call.Here we have on line 11 and itâ€™s going to say that const Doug as this argument discards the const qualifier.So whatâ€™s the error here means is that we are trying to modify our const Doug object through the displayor because the setname function here is going to be using the this pointer to set the member variable.So what I havenâ€™t really explained here is that, for example, if we use the setname function, letâ€™slook at the definition.We say M name equals name param.What the compiler is really going to generate in the background is use the this keyword or the thispointer and itâ€™s going to say this m name, then itâ€™s going to say equals name param.This is what the compiler is going to do.And going through the this pointer, you can really modify this object.So this is what the compiler is saying here.Itâ€™s saying that this pointer that you have in your function call is going to discard the const qualifierwe have in the main function.In other words, you can go through the this pointer and modify a const object and we canâ€™t allow youto do that.Weâ€™re going to give you a compiler error.We actually have the same problems with our calls to Printinfo because thatâ€™s going to do the same thingthrough our function calls.So letâ€™s go back to the definition.You see that we are accessing.M name.M Breed.M age.We are actually not modifying anything in this function, but the compiler doesnâ€™t know that.We know that we are not modifying our function.But what the compiler is going to look at is the signature of the function here.And if you look, there is really nothing telling the compiler that this function couldnâ€™t modify ourobject here.Thatâ€™s why the compiler is stopping us from doing this altogether.So the compiler is going to look at what we do here.Itâ€™s going to change our references to the member variables to this using the this pointer.So itâ€™s going to say this M name, itâ€™s going to say this M breed and itâ€™s going to change this to thisM age.And itâ€™s going to see that we could go through the this pointer and modify stuff about our object,and itâ€™s going to stop us from using this function altogether.On const objects, you have seen that this function was working when the object wasnâ€™t const, but nowit is cost and we could go through the printf function to modify our object.The compiler is going to give us a compiler error here.Hopefully you can understand this and I want you to know that this is the case.So letâ€™s say that this is a compiler error.So this is the problem I want you to see with const objects.If you flag your object as const, you want to be able to modify the object through the setters, butno other function is going to work anymore because the compiler is going to think that you could gothrough those functions to modify your object.So some of you might be saying, What if we try and go through pointers and references which are eitherconst or not cost?Letâ€™s try and see that weâ€™re going to comment this out and weâ€™re going to say direct access here, meaningthat we are going directly through the object name to try and do stuff.We go through the object name and call Printinfo.Weâ€™re going to get a compiler error.We go through the direct object, we try to set the name, weâ€™re going to get a compiler error.This is what we mean here by direct access.Okay, so letâ€™s try and go through a pointer to Non-const and see if we can access this function hereand do things with them.Weâ€™re going to go down here and set up a pointer.Weâ€™re going to say Doug Pointer.Itâ€™s a pointer to Non-const, so itâ€™s just going to be a Doug Pointer.Weâ€™re going to say Doug TR and weâ€™re going to initialize this with the address of our Doug object.Letâ€™s say that Doug one and at the moment we do that we should get a problem because this is a non-constpointer.We could go through it to modify this object here.And if we even try to compile the code by now, weâ€™re going to get a.Hi there.Okay, we have our compiler error.And what the compiler error is going to say is we are passing a const dog as this argument and thisis going to discard our qualifier.Why is that?Weâ€™re not doing that here?This was from before, but if we go down here, weâ€™re going to see a compiler error that says invalidconversion from const dog pointer to dog pointer.So what we have to the right of the assignment here is really a const dog pointer.It is a pointer to cast because we are using a const object here.But what we have on the left of the assignment here is a non const pointer and the compiler is goingto notice that we could go through this pointer and modify this object here.So itâ€™s going to stop us from setting up this pointer altogether.So this is not going to work either.And it is what I wanted you to see.Okay, so a non const pointer is not going to work, but what about a non const reference?Letâ€™s do that and weâ€™re going to set up a non-const reference to our object.Weâ€™re going to say dog reference and say dog ref and weâ€™re going to assign dog one and weâ€™re going toget the same behavior.This is a non const reference and we are trying to assign a const reference to a non const reference.If we try to compile the program, letâ€™s do that.Weâ€™re going to get the same compiler error and you see binding reference of type dog reference to constdog reference.So this is going to not work.Weâ€™re going to get the same compiler error because we could go through this reference and modify thiscast object.The compiler is going to stop us from doing this altogether.Okay, this is not going to work.Letâ€™s comment this out.Okay.Some of you might be saying, what if we change our pointer to cast so we can go down here and say thatletâ€™s say pointer to const and weâ€™re going to set up a const dog pointer, which is going to be constDog Peter.We can call it like this and weâ€™re going to assign the address of Dog one.And if we do this and compile, the compiler is going to trust this pointer.Now because it is a const pointer.We canâ€™t go through this pointer to modify the object we are pointing to now.So the compiler is going to trust us with this pointer.If we build, youâ€™re going to see that the code is going to work.So this is a good step forward.But if we try to do anything with this pointer, letâ€™s do that.Weâ€™re going to say const dog pointer and weâ€™re going to say set name.And we try to set the name to Milu, for example.This is not going to go well because we are trying to go through a const pointer to modify stuff.So this is going to give us a compiler error because weâ€™re not allowed to do that.We canâ€™t go through this pointer and modify our object.Weâ€™re going to see that the compiler error is saying const dog as this argument discards the qualifierof const.So we canâ€™t say set name through this pointer because we are pointing to a const object and this isa pointer to cast.So this is expected because this is a pointer to const.We really expect not to be able to go through the pointer to modify the object, but even our gettersare not going to work.So if we say const dog pointer and say get name, for example, this is a getter.Itâ€™s really not modifying the object, but the compiler doesnâ€™t know that.It doesnâ€™t know that this function isnâ€™t modifying our object because what really the compiler looksat is the signature of the function.Itâ€™s going to look at the gate name, letâ€™s look at that.Itâ€™s going to look at this function and itâ€™s going to say, There is nothing telling me that this functioncouldnâ€™t modify our object.So Iâ€™m going to stop you from trying to even call that function in the main function here.If you try to call it, Iâ€™m going to throw a compiler error.Thatâ€™s what the compiler is going to say.And if we try to world, letâ€™s do that, weâ€™re going to get a compiler error and itâ€™s going to say thesame thing that this argument that is used in this getName function.And if we go in get name again, the compiler is going to see what we do here and itâ€™s going to changethis to return this name.And itâ€™s going to say you could go through this pointer here and modify this object.So I am going to stop you from doing that.Thatâ€™s why we have this compiler error pointer to const isnâ€™t also going to work.So what if we use the const reference?Weâ€™re going to go down and try to use this.Weâ€™re going to say const dog reference and I say const dog ref and weâ€™re going to assign dog one whatwe always do.Now the compiler is going to trust this reference because it is cast.Letâ€™s try and compile and really prove this to see the world is good.But again, if we try and go through this and do anything, weâ€™re going to say.Cast a dark wrath.And I tried to set the name, for example, and weâ€™re going to change the name to Milu.Thatâ€™s what we want to do.And if we compile, weâ€™re going to get a compiler error.Letâ€™s do that.Weâ€™re going to use GCC.You see, we have a compiler error and the compiler error says this argument could be used to modifythe objects.So I want to let you use set name here.Thatâ€™s the compiler error.And we expect that because we are going through a Const reference and we canâ€™t really go through a constreference to modify the object we are referencing.So this is expected.But what is not expected is not to be able to even read stuff from our const object.So for example, if we say const dog reference and say get name, letâ€™s use this here.We expect this call to work.But if we build, weâ€™re going to really be surprised that it is not working again with the compilererror is going to say const dog.This argument discards the const qualifier because because we could go through the this pointer insidethis function definition and modify our const object here.So I am going to stop you from doing that and I am going to throw a compiler error.This is really what I wanted you to see in this lecture, that when your object is const, youâ€™re goingto be locked away from using your object and it is practically useless because you canâ€™t either readfrom it and you canâ€™t write to it.Weâ€™re going to stop here in this lecture and in the next one I am going to show you that youâ€™re goingto have the same problems if you try to use this object as an argument to functions.Then in the following lecture I am going to show you how we can solve this problem.So go ahead and finish up here and meet me in the next lecture.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼ŒC++ æ–°åŒå­¦ä½ å¥½ï¼éå¸¸æ¬¢è¿æ¥åˆ° C++ çš„ä¸–ç•Œã€‚ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€èŠä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼š<code>const</code> å¯¹è±¡ (const objects)ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬ä¼šå‘ç°ï¼Œæœ‰æ—¶å€™æƒ³è®©ä¸€ä¸ªå¯¹è±¡ä¿æŒä¸å˜ï¼Œåè€Œä¼šé‡åˆ°ä¸€äº›æ„æƒ³ä¸åˆ°çš„éº»çƒ¦ã€‚åˆ«æ‹…å¿ƒï¼Œæˆ‘ä¼šä¸€æ­¥ä¸€æ­¥å¸¦ä½ å¼„æ¸…æ¥šï¼</p>
<h1 id="C-ä¸­çš„-const-å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®"><a href="#C-ä¸­çš„-const-å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®" class="headerlink" title="C++ ä¸­çš„ const å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®"></a>C++ ä¸­çš„ <code>const</code> å¯¹è±¡ï¼šç¾å¥½çš„åˆè¡·ä¸æ¼äººçš„ç°å®</h1><p><strong>ç®€è¦æ€»ç»“ï¼š</strong></p>
<p>å½“æˆ‘ä»¬æŠŠä¸€ä¸ªå¯¹è±¡å£°æ˜ä¸º <code>const</code> (å¸¸é‡)ï¼Œæ„å‘³ç€æˆ‘ä»¬ä¸å¸Œæœ›å®ƒçš„ä»»ä½•æˆå‘˜å˜é‡è¢«ä¿®æ”¹ã€‚è¿™åœ¨å¾ˆå¤šæƒ…å†µä¸‹æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œæ¯”å¦‚ç¡®ä¿æ•°æ®åœ¨ä¼ é€’è¿‡ç¨‹ä¸­ä¸è¢«æ„å¤–æ›´æ”¹ã€‚ç„¶è€Œï¼ŒC++ ç¼–è¯‘å™¨åœ¨å¤„ç† <code>const</code> å¯¹è±¡æ—¶ï¼Œä¸ºäº†ä¿è¯è¿™ç§â€œä¸å˜æ€§â€ï¼Œä¼šä¸¥æ ¼é™åˆ¶æˆ‘ä»¬èƒ½å¯¹è¿™ä¸ªå¯¹è±¡åšä»€ä¹ˆã€‚ä»¤äººå›°æƒ‘çš„æ˜¯ï¼Œæœ‰æ—¶å€™å³ä½¿æˆ‘ä»¬åªæ˜¯æƒ³è¯»å–å¯¹è±¡çš„ä¿¡æ¯ï¼ˆæ¯”å¦‚è°ƒç”¨ä¸€ä¸ªâ€œè·å–â€æ–¹æ³•ï¼‰ï¼Œç¼–è¯‘å™¨ä¹Ÿå¯èƒ½ä¼šæŠ¥é”™ã€‚è¿™èŠ‚è¯¾æˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸ºåç»­å­¦ä¹ è§£å†³æ–¹æ¡ˆæ‰“ä¸‹åŸºç¡€ã€‚</p>
<hr>
<p><strong>è¯¦ç»†è§£é‡Šï¼š</strong></p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä½ å¯èƒ½ä¼šåœ¨ç¼–ç¨‹ä¸­ç”¨åˆ°çš„ä¾‹å­ã€‚æƒ³è±¡æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>Dog</code> (ç‹—) ç±»ï¼š</p>
<p><strong>1. <code>Dog</code> ç±»çš„è®¾è®¡</strong></p>
<p>è¿™ä¸ª <code>Dog</code> ç±»æœ‰å®ƒè‡ªå·±çš„å±æ€§ï¼ˆæ¯”å¦‚åå­—ã€å“ç§ã€å¹´é¾„ï¼‰å’Œè¡Œä¸ºï¼ˆæ¯”å¦‚è®¾ç½®åå­—ã€è·å–åå­—ã€æ‰“å°ä¿¡æ¯ï¼‰ã€‚</p>
<ul>
<li><p><strong>å¤´æ–‡ä»¶ (<code>dog.h</code>)</strong>: é€šå¸¸æˆ‘ä»¬ä¼šæŠŠç±»çš„å£°æ˜æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ã€‚</p>
<ul>
<li><strong>åŒ…å«å®ˆå« (Include Guards)</strong>:<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> DOG_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DOG_H</span></span><br><span class="line"><span class="comment">// ... ç±»çš„å£°æ˜ ...</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// DOG_H</span></span></span><br></pre></td></tr></table></figure></div>
è¿™å‡ è¡Œä»£ç å«åšâ€œåŒ…å«å®ˆå«â€ã€‚å®ƒä»¬çš„ä½œç”¨æ˜¯é˜²æ­¢åŒä¸€ä¸ªå¤´æ–‡ä»¶è¢«æ„å¤–åœ°å¤šæ¬¡åŒ…å«åˆ°åŒä¸€ä¸ªæºæ–‡ä»¶ä¸­ï¼Œé‚£æ ·ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚<code>#ifndef DOG_H</code> æ£€æŸ¥ <code>DOG_H</code> è¿™ä¸ªå®æ˜¯å¦è¿˜æ²¡è¢«å®šä¹‰ã€‚å¦‚æœæ²¡å®šä¹‰ï¼Œ<code>#define DOG_H</code> å°±ä¼šå®šä¹‰å®ƒï¼Œç„¶åå¤„ç†ä¸­é—´çš„ä»£ç ã€‚å¦‚æœä¸‹æ¬¡å†é‡åˆ° <code>#include &quot;dog.h&quot;</code>ï¼Œç”±äº <code>DOG_H</code> å·²ç»è¢«å®šä¹‰äº†ï¼Œ<code>#ifndef</code> åˆ° <code>#endif</code> ä¹‹é—´çš„ä»£ç å°±ä¼šè¢«è·³è¿‡ã€‚</li>
<li><strong>æˆå‘˜å˜é‡ (Member Variables)</strong>:<ul>
<li><code>m_name</code> (åå­—): æˆ‘ä»¬ä½¿ç”¨äº† <code>std::string_view</code> ç±»å‹ã€‚<code>std::string_view</code> (å­—ç¬¦ä¸²è§†å›¾) æ˜¯ä¸€ä¸ªè½»é‡çº§çš„å¯¹è±¡ï¼Œå®ƒâ€œæŒ‡å‘â€ä¸€ä¸ªå·²å­˜åœ¨çš„å­—ç¬¦ä¸²æ•°æ®ï¼Œä½†æœ¬èº«ä¸æ‹¥æœ‰è¿™ä¸ªæ•°æ®ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œåœ¨ä¼ é€’å­—ç¬¦ä¸²æ—¶å¯ä»¥é¿å…ä¸å¿…è¦çš„æ‹·è´ï¼Œæé«˜æ•ˆç‡ã€‚</li>
<li><code>m_breed</code> (å“ç§): åŒæ ·æ˜¯ <code>std::string_view</code>ã€‚</li>
<li><code>m_age</code> (å¹´é¾„): æˆ‘ä»¬ä½¿ç”¨äº† <code>unsigned int</code> (æ— ç¬¦å·æ•´å‹)ï¼Œå› ä¸ºå¹´é¾„é€šå¸¸ä¸ä¼šæ˜¯è´Ÿæ•°ã€‚<br>è¿™äº›æˆå‘˜å˜é‡é€šå¸¸æ”¾åœ¨ <code>private</code> (ç§æœ‰)åŒºåŸŸï¼Œæ„å‘³ç€å®ƒä»¬åªèƒ½è¢«ç±»è‡ªå·±çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œå¤–éƒ¨ä»£ç ä¸èƒ½ç›´æ¥ä¿®æ”¹å®ƒä»¬ï¼Œè¿™æ˜¯ä¸€ç§å°è£… (encapsulation) çš„ä½“ç°ã€‚</li>
</ul>
</li>
<li><strong>æˆå‘˜å‡½æ•° (Member Functions)</strong>:<ul>
<li><strong>æ„é€ å‡½æ•° (Constructors)</strong>: ç”¨äºåˆ›å»ºå’Œåˆå§‹åŒ– <code>Dog</code> å¯¹è±¡ã€‚</li>
<li><strong>ææ„å‡½æ•° (Destructor)</strong>: åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶æ‰§è¡Œæ¸…ç†å·¥ä½œï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ¯”è¾ƒç®€å•ï¼Œå¯èƒ½ä¸ºç©ºï¼‰ã€‚</li>
<li><strong>Setters (è®¾ç½®å™¨)</strong>: ä¾‹å¦‚ <code>set_name()</code>, <code>set_breed()</code>, <code>set_age()</code>ã€‚è¿™äº›å‡½æ•°ç”¨äºä¿®æ”¹å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚</li>
<li><strong>Getters (è·å–å™¨)</strong>: ä¾‹å¦‚ <code>get_name()</code>, <code>get_breed()</code>, <code>get_age()</code>ã€‚è¿™äº›å‡½æ•°ç”¨äºè¯»å–å¯¹è±¡çš„æˆå‘˜å˜é‡çš„å€¼ã€‚</li>
<li><strong>å·¥å…·å‡½æ•° (Utility Functions)</strong>: ä¾‹å¦‚ <code>print_info()</code>ï¼Œç”¨äºæ‰“å°ç‹—ç‹—çš„å…¨éƒ¨ä¿¡æ¯ã€‚<br>è¿™äº›æˆå‘˜å‡½æ•°é€šå¸¸æ”¾åœ¨ <code>public</code> (å…¬å…±)åŒºåŸŸï¼Œæ„å‘³ç€å¤–éƒ¨ä»£ç å¯ä»¥è°ƒç”¨å®ƒä»¬ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>æºæ–‡ä»¶ (<code>dog.cpp</code>)</strong>: é€šå¸¸æˆ‘ä»¬ä¼šæŠŠç±»æˆå‘˜å‡½æ•°çš„å…·ä½“å®ç°ï¼ˆå®šä¹‰ï¼‰æ”¾åœ¨æºæ–‡ä»¶ä¸­ã€‚</p>
<ul>
<li>åœ¨æºæ–‡ä»¶ä¸­ï¼Œä½ éœ€è¦ <code>#include &quot;dog.h&quot;</code> æ¥å¼•å…¥ç±»çš„å£°æ˜ã€‚</li>
<li><strong>ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ (Scope Resolution Operator) <code>::</code></strong>: å½“ä½ åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­å®šä¹‰æˆå‘˜å‡½æ•°æ—¶ï¼Œä½ éœ€è¦å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå‡½æ•°å±äºå“ªä¸ªç±»ã€‚ä¾‹å¦‚ï¼š<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ dog.cpp ä¸­</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"dog.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // ä¸ºäº† std::cout</span></span></span><br><span class="line"></span><br><span class="line">Dog::Dog(<span class="built_in">std</span>::string_view name_param, <span class="built_in">std</span>::string_view breed_param, <span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span><br><span class="line">    : m_name(name_param), m_breed(breed_param), m_age(age_param) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Dog å¯¹è±¡è¢«åˆ›å»ºäº†: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::string_view <span class="title">Dog::get_name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_name</span><span class="params">(<span class="built_in">std</span>::string_view new_name)</span> </span>&#123;</span><br><span class="line">    m_name = new_name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ... å…¶ä»–å‡½æ•°çš„å®šä¹‰ ...</span></span><br></pre></td></tr></table></figure></div>
è¿™é‡Œçš„ <code>Dog::</code> å°±æ˜¯ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼Œå®ƒè¡¨æ˜ <code>Dog(...)</code> æ„é€ å‡½æ•°ã€<code>get_name()</code> å‡½æ•°ç­‰æ˜¯ <code>Dog</code> ç±»çš„ä¸€éƒ¨åˆ†ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. ä»€ä¹ˆæ˜¯ <code>const</code> å¯¹è±¡ï¼Ÿ</strong></p>
<p>ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>Dog</code> å¯¹è±¡ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªå¯¹è±¡ä¸€æ—¦åˆ›å»ºåå°±ä¸èƒ½è¢«ä¿®æ”¹ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>const</code> å…³é”®å­— (keyword) æ¥å£°æ˜å®ƒï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"å°é»„"</span>, <span class="string">"ä¸­åç”°å›­çŠ¬"</span>, <span class="number">3</span>)</span></span>;</span><br></pre></td></tr></table></figure></div>
<p>è¿™é‡Œçš„ <code>const</code> å‘Šè¯‰ç¼–è¯‘å™¨ï¼š<code>dog1</code> æ˜¯ä¸€ä¸ªå¸¸é‡å¯¹è±¡ã€‚è¿™æ„å‘³ç€ <code>dog1</code> çš„ä»»ä½•æˆå‘˜å˜é‡ï¼ˆ<code>m_name</code>, <code>m_breed</code>, <code>m_age</code>ï¼‰éƒ½ä¸åº”è¯¥è¢«æ”¹å˜ã€‚</p>
<p><strong>3. <code>const</code> å¯¹è±¡å¸¦æ¥çš„é—®é¢˜</strong></p>
<ul>
<li><p><strong>è°ƒç”¨ Setter (è®¾ç½®å™¨)ï¼š</strong><br>å¦‚æœä½ è¯•å›¾ä¿®æ”¹ <code>dog1</code> çš„å±æ€§ï¼Œæ¯”å¦‚ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dog1.set_name("å°ç™½"); // å°è¯•ä¿®æ”¹ const å¯¹è±¡çš„åå­—</span></span><br></pre></td></tr></table></figure></div>
<p>ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼è¿™æ˜¯ç¬¦åˆæˆ‘ä»¬é¢„æœŸçš„ï¼Œå› ä¸º <code>dog1</code> æ˜¯ <code>const</code> çš„ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›å®ƒè¢«ä¿®æ”¹ã€‚<code>set_name</code> å‡½æ•°çš„ç›®çš„æ˜¯ä¿®æ”¹ <code>m_name</code>ï¼Œè¿™æ˜¾ç„¶è¿èƒŒäº† <code>const</code> å¯¹è±¡çš„åˆè¡·ã€‚</p>
</li>
<li><p><strong>è°ƒç”¨ Getter (è·å–å™¨) æˆ–å…¶ä»–çœ‹ä¼¼åªè¯»çš„å‡½æ•°ï¼š</strong><br>ç°åœ¨éº»çƒ¦æ¥äº†ã€‚å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³æ‰“å°ç‹—ç‹—çš„ä¿¡æ¯æˆ–è€…è·å–å®ƒçš„åå­—å‘¢ï¼Ÿ</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dog1.print_info();      // å°è¯•æ‰“å° const å¯¹è±¡çš„ä¿¡æ¯</span></span><br><span class="line"><span class="comment">// std::cout &lt;&lt; dog1.get_name(); // å°è¯•è·å– const å¯¹è±¡çš„åå­—</span></span><br></pre></td></tr></table></figure></div>
<p>ä½ å¯èƒ½ä¼šæƒŠè®¶åœ°å‘ç°ï¼Œè¿™ä¸¤è¡Œä»£ç åŒæ ·ä¼šå¯¼è‡´<strong>ç¼–è¯‘é”™è¯¯</strong>ï¼</p>
<p><strong>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ</strong><br>é—®é¢˜åœ¨äºï¼Œç¼–è¯‘å™¨å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæˆå‘˜å‡½æ•°æ˜¯å¦ä¼šä¿®æ”¹å¯¹è±¡ï¼Ÿé»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šå‡è®¾ä»»ä½•æ™®é€šçš„æˆå‘˜å‡½æ•°éƒ½æœ‰å¯èƒ½ä¿®æ”¹å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚å®ƒä¸ä¼šå»åˆ†æå‡½æ•°ä½“å†…éƒ¨çš„å…·ä½“ä»£ç ï¼ˆæ¯”å¦‚ <code>print_info</code> åªæ˜¯ <code>std::cout</code>ï¼Œ<code>get_name</code> åªæ˜¯ <code>return m_name;</code>ï¼‰ã€‚</p>
<p>å¯¹äºä¸€ä¸ªé <code>const</code> æˆå‘˜å‡½æ•°ï¼ˆæ¯”å¦‚æˆ‘ä»¬ç›®å‰å®šä¹‰çš„ <code>print_info</code> å’Œ <code>get_name</code>ï¼‰ï¼Œç¼–è¯‘å™¨è®¤ä¸ºå®ƒä»¬å†…éƒ¨çš„ <code>this</code> æŒ‡é’ˆ (this pointer) æ˜¯ä¸€ä¸ªæŒ‡å‘é <code>const</code> å¯¹è±¡çš„æŒ‡é’ˆ (ä¾‹å¦‚ <code>Dog* this</code>)ã€‚å½“ä½ ç”¨ä¸€ä¸ª <code>const Dog</code> å¯¹è±¡å»è°ƒç”¨è¿™æ ·ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç›¸å½“äºè¦æŠŠä¸€ä¸ª <code>const Dog*</code> (æŒ‡å‘ <code>const</code> å¯¹è±¡çš„æŒ‡é’ˆ) ä¼ é€’ç»™ä¸€ä¸ªæœŸæœ› <code>Dog*</code> (æŒ‡å‘é <code>const</code> å¯¹è±¡çš„æŒ‡é’ˆ) çš„ <code>this</code> æŒ‡é’ˆã€‚è¿™ç§è½¬æ¢ä¼šâ€œä¸¢å¼ƒ <code>const</code> é™å®šç¬¦â€ï¼Œæ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºå‡½æ•°å†…éƒ¨å¯èƒ½ä¼šé€šè¿‡è¿™ä¸ªé <code>const</code> çš„ <code>this</code> æŒ‡é’ˆä¿®æ”¹å¯¹è±¡ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨ä¸ºäº†å®‰å…¨èµ·è§ï¼Œç›´æ¥ç¦æ­¢äº†è¿™ç§è°ƒç”¨ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>ç¼–è¯‘å™¨çœ‹åˆ° <code>print_info()</code> å’Œ <code>get_name()</code> æ²¡æœ‰è¢«ç‰¹æ®Šæ ‡è®°ä¸ºâ€œä¿è¯ä¸ä¼šä¿®æ”¹å¯¹è±¡â€ï¼Œæ‰€ä»¥å®ƒå°±è®¤ä¸ºè¿™äº›å‡½æ•°å¯èƒ½ä¼šä¿®æ”¹å¯¹è±¡ï¼Œå› æ­¤ä¸å…è®¸åœ¨ <code>const</code> å¯¹è±¡ä¸Šè°ƒç”¨å®ƒä»¬ã€‚</strong></p>
</li>
</ul>
<p><strong>4. å°è¯•é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨è®¿é—® <code>const</code> å¯¹è±¡</strong></p>
<p>æœ‰äº›åŒå­¦å¯èƒ½ä¼šæƒ³ï¼Œèƒ½ä¸èƒ½é€šè¿‡æŒ‡é’ˆæˆ–å¼•ç”¨æ¥ç»•è¿‡è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥è¯•è¯•ï¼š</p>
<ul>
<li><p><strong>æŒ‡å‘é <code>const</code> å¯¹è±¡çš„æŒ‡é’ˆ (Pointer to Non-const):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"å°é»„"</span>, <span class="string">"ä¸­åç”°å›­çŠ¬"</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="comment">// Dog* ptr_dog = &amp;dog1; // ç¼–è¯‘é”™è¯¯ï¼</span></span><br></pre></td></tr></table></figure></div>
<p>è¿™è¡Œä»£ç ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸º <code>dog1</code> æ˜¯ <code>const Dog</code> ç±»å‹ï¼Œæ‰€ä»¥ <code>&amp;dog1</code> (å–åœ°å€) å¾—åˆ°çš„æ˜¯ä¸€ä¸ª <code>const Dog*</code> (æŒ‡å‘ <code>const Dog</code> çš„æŒ‡é’ˆ)ã€‚ä½ ä¸èƒ½æŠŠä¸€ä¸ª <code>const Dog*</code> èµ‹å€¼ç»™ä¸€ä¸ª <code>Dog*</code> (æŒ‡å‘é <code>const Dog</code> çš„æŒ‡é’ˆ)ï¼Œå› ä¸ºè¿™æ ·åšä¼šä¸¢å¤± <code>const</code> é™å®šï¼Œä½¿å¾—ä½ å¯ä»¥é€šè¿‡ <code>ptr_dog</code> æ¥ä¿®æ”¹ <code>dog1</code> çš„å†…å®¹ï¼Œè¿™å°±ç ´åäº† <code>dog1</code> çš„å¸¸é‡æ€§ã€‚ç¼–è¯‘å™¨ä¼šé˜»æ­¢è¿™ç§å±é™©è¡Œä¸ºï¼Œé”™è¯¯ä¿¡æ¯é€šå¸¸æ˜¯ â€œinvalid conversion from â€˜const Dog<em>â€™ to â€˜Dog</em>â€™â€ã€‚</p>
</li>
<li><p><strong>é <code>const</code> å¯¹è±¡çš„å¼•ç”¨ (Reference to Non-const):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"å°é»„"</span>, <span class="string">"ä¸­åç”°å›­çŠ¬"</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="comment">// Dog&amp; ref_dog = dog1; // ç¼–è¯‘é”™è¯¯ï¼</span></span><br></pre></td></tr></table></figure></div>
<p>åŒæ ·ï¼Œè¿™ä¹Ÿä¼šç¼–è¯‘é”™è¯¯ã€‚<code>dog1</code> æ˜¯ <code>const Dog</code>ï¼Œä½ ä¸èƒ½æŠŠå®ƒç»‘å®šåˆ°ä¸€ä¸ªé <code>const</code> çš„å¼•ç”¨ <code>Dog&amp;</code> ä¸Šã€‚åŸå› å’ŒæŒ‡é’ˆç±»ä¼¼ï¼Œå¦‚æœå…è®¸è¿™æ ·åšï¼Œä½ å°±å¯ä»¥é€šè¿‡ <code>ref_dog</code> ä¿®æ”¹ <code>dog1</code>ã€‚é”™è¯¯ä¿¡æ¯é€šå¸¸æ˜¯ â€œbinding reference of type â€˜Dog&amp;â€™ to â€˜const Dogâ€™ discards qualifiersâ€ã€‚</p>
</li>
<li><p><strong>æŒ‡å‘ <code>const</code> å¯¹è±¡çš„æŒ‡é’ˆ (Pointer to const):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"å°é»„"</span>, <span class="string">"ä¸­åç”°å›­çŠ¬"</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="keyword">const</span> Dog* ptr_const_dog = &amp;dog1; <span class="comment">// OK!</span></span><br></pre></td></tr></table></figure></div>
<p>è¿™ä¸ªæ˜¯å…è®¸çš„ã€‚<code>ptr_const_dog</code> æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>const Dog</code> çš„æŒ‡é’ˆï¼Œè¿™æ„å‘³ç€ä½ ä¸èƒ½é€šè¿‡ <code>ptr_const_dog</code> æ¥ä¿®æ”¹ <code>dog1</code> æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚<br>ä½†æ˜¯ï¼Œé—®é¢˜ä¾æ—§ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ptr_const_dog-&gt;set_name("å°ç™½"); // ç¼–è¯‘é”™è¯¯ï¼ (ç¬¦åˆé¢„æœŸï¼Œä¸èƒ½é€šè¿‡ const æŒ‡é’ˆä¿®æ”¹)</span></span><br><span class="line"><span class="comment">// ptr_const_dog-&gt;print_info();   // ç¼–è¯‘é”™è¯¯ï¼ (å’Œç›´æ¥è°ƒç”¨ dog1.print_info() ä¸€æ ·çš„é—®é¢˜)</span></span><br><span class="line"><span class="comment">// std::cout &lt;&lt; ptr_const_dog-&gt;get_name(); // ç¼–è¯‘é”™è¯¯ï¼ (å’Œç›´æ¥è°ƒç”¨ dog1.get_name() ä¸€æ ·çš„é—®é¢˜)</span></span><br></pre></td></tr></table></figure></div>
<p>å³ä½¿æˆ‘ä»¬ç”¨äº† <code>const</code> æŒ‡é’ˆï¼Œè°ƒç”¨é‚£äº›æ™®é€šçš„ getter æˆ– <code>print_info</code> ä»ç„¶å¤±è´¥ï¼Œå› ä¸ºè¿™äº›å‡½æ•°æœ¬èº«æ²¡æœ‰è¢«å£°æ˜ä¸º <code>const</code> æˆå‘˜å‡½æ•°ã€‚</p>
</li>
<li><p><strong><code>const</code> å¯¹è±¡çš„å¼•ç”¨ (Reference to const):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">const</span> Dog <span class="title">dog1</span><span class="params">(<span class="string">"å°é»„"</span>, <span class="string">"ä¸­åç”°å›­çŠ¬"</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="keyword">const</span> Dog&amp; ref_const_dog = dog1; <span class="comment">// OK!</span></span><br></pre></td></tr></table></figure></div>
<p>è¿™ä¹Ÿæ˜¯å…è®¸çš„ã€‚<code>ref_const_dog</code> æ˜¯ä¸€ä¸ªå¯¹ <code>const Dog</code> çš„å¼•ç”¨ã€‚<br>åŒæ ·çš„é—®é¢˜ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ref_const_dog.set_name("å°ç™½"); // ç¼–è¯‘é”™è¯¯ï¼ (ç¬¦åˆé¢„æœŸ)</span></span><br><span class="line"><span class="comment">// ref_const_dog.print_info();   // ç¼–è¯‘é”™è¯¯ï¼</span></span><br><span class="line"><span class="comment">// std::cout &lt;&lt; ref_const_dog.get_name(); // ç¼–è¯‘é”™è¯¯ï¼</span></span><br></pre></td></tr></table></figure></div>
</li>
</ul>
<p><strong>æ€»ç»“ä¸€ä¸‹å½“å‰çš„å›°å¢ƒï¼š</strong><br>ä¸€æ—¦å¯¹è±¡è¢«å£°æ˜ä¸º <code>const</code>ï¼Œæˆ‘ä»¬å°±æ— æ³•è°ƒç”¨é‚£äº›æ²¡æœ‰è¢«ç‰¹æ®Šæ ‡è®°ä¸ºâ€œå®‰å…¨â€ï¼ˆå³ä¸ä¼šä¿®æ”¹å¯¹è±¡ï¼‰çš„æˆå‘˜å‡½æ•°ï¼Œå³ä½¿è¿™äº›å‡½æ•°å®é™…ä¸Šåªæ˜¯è¯»å–æ•°æ®ã€‚è¿™ä½¿å¾— <code>const</code> å¯¹è±¡åœ¨å½“å‰æƒ…å†µä¸‹å‡ ä¹â€œæ¯«æ— ç”¨å¤„â€ï¼Œå› ä¸ºæˆ‘ä»¬æ—¢ä¸èƒ½å†™ä¹Ÿä¸èƒ½ï¼ˆå®‰å…¨åœ°ï¼‰è¯»ã€‚</p>
<p>åˆ«ç°å¿ƒï¼è¿™ä¸ªé—®é¢˜æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ï¼ˆå°±æ˜¯å°†æˆå‘˜å‡½æ•°å£°æ˜ä¸º <code>const</code> æˆå‘˜å‡½æ•°ï¼‰ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¥ä¸‹æ¥çš„è¯¾ç¨‹ä¸­å­¦ä¹ ã€‚ç°åœ¨ï¼Œé‡è¦çš„æ˜¯ç†è§£ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™äº›ç¼–è¯‘é”™è¯¯ã€‚</p>
<hr>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<p>æˆ‘ä»¬ä¼šåˆ›å»ºä¸‰ä¸ªæ–‡ä»¶ï¼š<code>dog.h</code> (ç±»å£°æ˜), <code>dog.cpp</code> (ç±»å®šä¹‰), å’Œ <code>main.cpp</code> (ä¸»ç¨‹åºï¼Œä½¿ç”¨ <code>Dog</code> ç±»)ã€‚</p>
<p><strong><code>dog.h</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> DOG_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string_view&gt; // ä¸ºäº† std::string_view</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;    // ä¸ºäº† std::cout (è™½ç„¶é€šå¸¸å®šä¹‰åœ¨.cppï¼Œä½†print_infoå†…è”çš„è¯å¯èƒ½æ”¾è¿™é‡Œ)</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::string_view m_name;</span><br><span class="line">    <span class="built_in">std</span>::string_view m_breed;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> m_age;</span><br><span class="line">    <span class="comment">// ä¸€ä¸ªé™æ€æˆå‘˜ï¼Œç”¨äºæ¼”ç¤ºææ„å‡½æ•°ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">    <span class="comment">// static inline size_t dog_count&#123;&#125;; </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Dog(<span class="built_in">std</span>::string_view name_param, <span class="built_in">std</span>::string_view breed_param, <span class="keyword">unsigned</span> <span class="keyword">int</span> age_param);</span><br><span class="line">    Dog(); <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    ~Dog(); <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getters</span></span><br><span class="line">    <span class="function"><span class="built_in">std</span>::string_view <span class="title">get_name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::string_view <span class="title">get_breed</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">get_age</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Setters</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_name</span><span class="params">(<span class="built_in">std</span>::string_view name_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_breed</span><span class="params">(<span class="built_in">std</span>::string_view breed_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_age</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å·¥å…·å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// DOG_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>dog.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"dog.h"</span> <span class="comment">// åŒ…å«ç±»å£°æ˜</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°å®šä¹‰</span></span><br><span class="line">Dog::Dog(<span class="built_in">std</span>::string_view name_param, <span class="built_in">std</span>::string_view breed_param, <span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span><br><span class="line">    : m_name(name_param), m_breed(breed_param), m_age(age_param) &#123;</span><br><span class="line">    <span class="comment">// dog_count++;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— '"</span> &lt;&lt; m_name &lt;&lt; <span class="string">"' è¢«å‚æ•°åŒ–æ„é€ äº†ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog::Dog() : Dog(<span class="string">"æ— åæ°"</span>, <span class="string">"æœªçŸ¥å“ç§"</span>, <span class="number">0</span>) &#123; <span class="comment">// å§”æ‰˜æ„é€ </span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— '"</span> &lt;&lt; m_name &lt;&lt; <span class="string">"' è¢«é»˜è®¤æ„é€ äº†ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°å®šä¹‰</span></span><br><span class="line">Dog::~Dog() &#123;</span><br><span class="line">    <span class="comment">// dog_count--;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— '"</span> &lt;&lt; m_name &lt;&lt; <span class="string">"' è¢«ææ„äº†ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Getters å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="built_in">std</span>::string_view <span class="title">Dog::get_name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::string_view <span class="title">Dog::get_breed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_breed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">Dog::get_age</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Setters å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_name</span><span class="params">(<span class="built_in">std</span>::string_view name_param)</span> </span>&#123;</span><br><span class="line">    m_name = name_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—çš„åå­—è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_breed</span><span class="params">(<span class="built_in">std</span>::string_view breed_param)</span> </span>&#123;</span><br><span class="line">    m_breed = breed_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—çš„å“ç§è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_breed &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_age</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span> </span>&#123;</span><br><span class="line">    m_age = age_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—çš„å¹´é¾„è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¥å…·å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::print_info</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸ºäº†æ¼”ç¤º this æŒ‡é’ˆï¼Œæˆ‘ä»¬æ‰“å°ä¸€ä¸‹å¯¹è±¡çš„åœ°å€</span></span><br><span class="line">    <span class="comment">// åœ¨æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œthis æ˜¯ä¸€ä¸ªæŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—ä¿¡æ¯ (å¯¹è±¡åœ°å€: "</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="string">"):"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  åå­—: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// ç¼–è¯‘å™¨ä¼šç†è§£ä¸º this-&gt;m_name</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  å“ç§: "</span> &lt;&lt; m_breed &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// this-&gt;m_breed</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  å¹´é¾„: "</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;   <span class="comment">// this-&gt;m_age</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"dog.h"</span> <span class="comment">// åŒ…å« Dog ç±»</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- é const å¯¹è±¡æµ‹è¯• ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Dog <span class="title">dog_non_const</span><span class="params">(<span class="string">"æ—ºè´¢"</span>, <span class="string">"æ‹‰å¸ƒæ‹‰å¤š"</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    dog_non_const.print_info();</span><br><span class="line">    dog_non_const.set_name(<span class="string">"å¤§é»„"</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ—ºè´¢çš„æ–°åå­—: "</span> &lt;&lt; dog_non_const.get_name() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    dog_non_const.print_info();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- const å¯¹è±¡æµ‹è¯• ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> Dog <span class="title">dog_const</span><span class="params">(<span class="string">"å¸¸é‡ç‹—"</span>, <span class="string">"é‡‘æ¯›"</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º const å¯¹è±¡ dog_const"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. å°è¯•è°ƒç”¨ setter - åº”è¯¥ç¼–è¯‘å¤±è´¥ (ç¬¦åˆé¢„æœŸ)</span></span><br><span class="line">    <span class="comment">// dog_const.set_name("è¯•å›¾ä¿®æ”¹"); // å–æ¶ˆæ³¨é‡Šè¿™è¡Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. å°è¯•è°ƒç”¨ getter - åº”è¯¥ç¼–è¯‘å¤±è´¥ (è¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨!)</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "å¸¸é‡ç‹—çš„åå­—: " &lt;&lt; dog_const.get_name() &lt;&lt; std::endl; // å–æ¶ˆæ³¨é‡Šè¿™è¡Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. å°è¯•è°ƒç”¨ print_info - åº”è¯¥ç¼–è¯‘å¤±è´¥ (è¿™ä¹Ÿæ˜¯é—®é¢˜æ‰€åœ¨!)</span></span><br><span class="line">    <span class="comment">// dog_const.print_info(); // å–æ¶ˆæ³¨é‡Šè¿™è¡Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- const å¯¹è±¡ä¸æŒ‡é’ˆ/å¼•ç”¨æµ‹è¯• ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// 4. å°è¯•ç”¨é const æŒ‡é’ˆæŒ‡å‘ const å¯¹è±¡ - åº”è¯¥ç¼–è¯‘å¤±è´¥</span></span><br><span class="line">    <span class="comment">// Dog* ptr_non_const_to_const = &amp;dog_const; // å–æ¶ˆæ³¨é‡Šè¿™è¡Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "ptr_non_const_to_const åˆ›å»ºå¤±è´¥ (é¢„æœŸä¸­)" &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. å°è¯•ç”¨é const å¼•ç”¨ç»‘å®š const å¯¹è±¡ - åº”è¯¥ç¼–è¯‘å¤±è´¥</span></span><br><span class="line">    <span class="comment">// Dog&amp; ref_non_const_to_const = dog_const; // å–æ¶ˆæ³¨é‡Šè¿™è¡Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "ref_non_const_to_const åˆ›å»ºå¤±è´¥ (é¢„æœŸä¸­)" &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6. ä½¿ç”¨ const æŒ‡é’ˆæŒ‡å‘ const å¯¹è±¡ - OK</span></span><br><span class="line">    <span class="keyword">const</span> Dog* ptr_const_to_const = &amp;dog_const;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ptr_const_to_const åˆ›å»ºæˆåŠŸ: "</span> &lt;&lt; ptr_const_to_const &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ptr_const_to_const-&gt;set_name("å†æ¬¡å°è¯•ä¿®æ”¹"); // ç¼–è¯‘é”™è¯¯ (é¢„æœŸä¸­)</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "åå­—: " &lt;&lt; ptr_const_to_const-&gt;get_name() &lt;&lt; std::endl; // ç¼–è¯‘é”™è¯¯ (é—®é¢˜ä¾æ—§)</span></span><br><span class="line">    <span class="comment">// ptr_const_to_const-&gt;print_info(); // ç¼–è¯‘é”™è¯¯ (é—®é¢˜ä¾æ—§)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 7. ä½¿ç”¨ const å¼•ç”¨ç»‘å®š const å¯¹è±¡ - OK</span></span><br><span class="line">    <span class="keyword">const</span> Dog&amp; ref_const_to_const = dog_const;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ref_const_to_const ç»‘å®šæˆåŠŸ"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ref_const_to_const.set_name("åˆåŒå’å•å°è¯•ä¿®æ”¹"); // ç¼–è¯‘é”™è¯¯ (é¢„æœŸä¸­)</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "åå­—: " &lt;&lt; ref_const_to_const.get_name() &lt;&lt; std::endl; // ç¼–è¯‘é”™è¯¯ (é—®é¢˜ä¾æ—§)</span></span><br><span class="line">    <span class="comment">// ref_const_to_const.print_info(); // ç¼–è¯‘é”™è¯¯ (é—®é¢˜ä¾æ—§)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123; <span class="comment">// åªæ˜¯ä¸ºäº†è®©ä¸Šé¢çš„æ³¨é‡Šè¡Œä¸å½±å“ç¨‹åºæ­£å¸¸ç»“æŸçš„è¾“å‡º</span></span><br><span class="line">         <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n(è¯·å–æ¶ˆä¸Šé¢main.cppä¸­æ ‡æ³¨ä¸ºä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯çš„è¡Œæ¥è§‚å¯Ÿç¼–è¯‘å™¨çš„æŠ¥é”™ä¿¡æ¯)"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\nç¨‹åºæ¼”ç¤ºç»“æŸã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br><strong>ç¼–è¯‘å’Œè¿è¡Œï¼š</strong><br>ä½ éœ€è¦ä¸€ä¸ª C++ ç¼–è¯‘å™¨ï¼ˆå¦‚ G++ï¼‰ã€‚<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ main.cpp dog.cpp -o main_program -std=c++17</span><br><span class="line">./main_program</span><br></pre></td></tr></table></figure></div><br>å½“ä½ å–æ¶ˆ <code>main.cpp</code> ä¸­é‚£äº›ä¼šå¯¼è‡´é”™è¯¯çš„è¡Œçš„æ³¨é‡Šæ—¶ï¼Œä½ ä¼šçœ‹åˆ°ç¼–è¯‘å™¨æŠ¥é”™ã€‚ä»”ç»†é˜…è¯»ç¼–è¯‘å™¨çš„é”™è¯¯ä¿¡æ¯ï¼Œå®ƒä»¬é€šå¸¸ä¼šæç¤ºç±»ä¼¼ â€œpassing â€˜const Dogâ€™ as â€˜thisâ€™ argument discards qualifiersâ€ è¿™æ ·çš„ä¿¡æ¯ã€‚</p>
<hr>
<p><strong>QA é—ªå¡ (QA Flash Cards):</strong></p>
<ol>
<li><p><strong>Q:</strong> ä»€ä¹ˆæ˜¯ <code>const</code> å¯¹è±¡ (const object)ï¼Ÿ<br><strong>A:</strong> ä¸€ä¸ªåœ¨åˆå§‹åŒ–ä¹‹åï¼Œå…¶æˆå‘˜å˜é‡çš„å€¼ä¸èƒ½è¢«ä¿®æ”¹çš„å¯¹è±¡ã€‚å®ƒé€šè¿‡ <code>const</code> å…³é”®å­—å£°æ˜ã€‚</p>
</li>
<li><p><strong>Q:</strong> ä¸ºä»€ä¹ˆåœ¨ä¸€ä¸ª <code>const</code> å¯¹è±¡ä¸Šè°ƒç”¨ä¸€ä¸ªçœ‹èµ·æ¥åªæ˜¯è¯»å–æ•°æ®ï¼ˆå¦‚ <code>get_name()</code>ï¼‰çš„æ™®é€šæˆå‘˜å‡½æ•°ä¹Ÿä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Ÿ<br><strong>A:</strong> å› ä¸ºç¼–è¯‘å™¨é»˜è®¤æƒ…å†µä¸‹æ— æ³•ä¿è¯è¿™ä¸ªæ™®é€šæˆå‘˜å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚å®ƒçœ‹åˆ°çš„æ˜¯å‡½æ•°ç­¾å (function signature)ï¼Œè€Œä¸æ˜¯å‡½æ•°ä½“ã€‚é™¤éè¯¥å‡½æ•°è¢«æ˜ç¡®æ ‡è®°ä¸º <code>const</code> æˆå‘˜å‡½æ•°ï¼ˆæˆ‘ä»¬å°†åœ¨åç»­è¯¾ç¨‹å­¦ä¹ ï¼‰ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šè®¤ä¸ºå®ƒå¯èƒ½ä¼šä¿®æ”¹å¯¹è±¡ï¼Œå› æ­¤ç¦æ­¢åœ¨ <code>const</code> å¯¹è±¡ä¸Šè°ƒç”¨ã€‚</p>
</li>
<li><p><strong>Q:</strong> å°è¯•å°†ä¸€ä¸ª <code>const</code> å¯¹è±¡çš„åœ°å€èµ‹å€¼ç»™ä¸€ä¸ªé <code>const</code> æŒ‡é’ˆ (pointer to non-const) ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿä¾‹å¦‚ <code>Dog* ptr = &amp;const_dog_object;</code><br><strong>A:</strong> ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚å› ä¸ºè¿™æ ·åšä¼šä¸¢å¤± <code>const</code> é™å®šï¼Œä½¿å¾—ç¨‹åºå¯èƒ½é€šè¿‡è¿™ä¸ªé <code>const</code> æŒ‡é’ˆä¿®æ”¹ä¸€ä¸ªæœ¬åº”æ˜¯ <code>const</code> çš„å¯¹è±¡ï¼Œè¿™æ˜¯ä¸å®‰å…¨çš„ã€‚</p>
</li>
<li><p><strong>Q:</strong> <code>this</code> æŒ‡é’ˆ (this pointer) åœ¨ <code>const</code> å¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°æ—¶æ‰®æ¼”äº†ä»€ä¹ˆè§’è‰²ï¼Ÿ<br><strong>A:</strong> åœ¨ä¸€ä¸ªæ™®é€šçš„ï¼ˆé <code>const</code>ï¼‰æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œ<code>this</code> æŒ‡é’ˆçš„ç±»å‹æ˜¯ <code>ClassName*</code> (ä¾‹å¦‚ <code>Dog*</code>)ã€‚å½“ä½ åœ¨ä¸€ä¸ª <code>const ClassName</code> (ä¾‹å¦‚ <code>const Dog</code>) å¯¹è±¡ä¸Šå°è¯•è°ƒç”¨è¿™ä¸ªæ™®é€šæˆå‘˜å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦å°†å¯¹è±¡çš„åœ°å€ï¼ˆç±»å‹ä¸º <code>const ClassName*</code>ï¼‰ä¼ é€’ç»™ <code>this</code> æŒ‡é’ˆã€‚ä» <code>const ClassName*</code> åˆ° <code>ClassName*</code> çš„è½¬æ¢ä¼šâ€œä¸¢å¼ƒ <code>const</code> é™å®šç¬¦â€ï¼Œè¿™æ˜¯ä¸€ç§å±é™©æ“ä½œï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p>
</li>
</ol>
<hr>
<p><strong>å¸¸è§è¯¯è§£æˆ–æ–°æ‰‹æ˜“çŠ¯é”™è¯¯ï¼š</strong></p>
<ol>
<li><p><strong>è¯¯è§£ï¼šâ€œæˆ‘çš„ <code>getter</code> å‡½æ•°æ˜æ˜åªæ˜¯è¿”å›ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå®ƒè‚¯å®šä¸ä¼šä¿®æ”¹å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒåº”è¯¥èƒ½åœ¨ <code>const</code> å¯¹è±¡ä¸Šè°ƒç”¨ã€‚â€</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> ç¼–è¯‘å™¨å¹¶ä¸å»åˆ†æä½ å‡½æ•°ä½“å†…éƒ¨çš„é€»è¾‘ã€‚å®ƒåªçœ‹å‡½æ•°çš„å£°æ˜ã€‚å¦‚æœä¸€ä¸ªæˆå‘˜å‡½æ•°æ²¡æœ‰åœ¨å…¶å£°æ˜çš„æœ«å°¾æ ‡è®° <code>const</code> (ä¾‹å¦‚ <code>std::string_view get_name() const;</code>)ï¼Œç¼–è¯‘å™¨å°±è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¯èƒ½ä¼šä¿®æ”¹å¯¹è±¡çš„å‡½æ•°ï¼Œå› æ­¤ä¸å…è®¸åœ¨ <code>const</code> å¯¹è±¡ä¸Šè°ƒç”¨å®ƒã€‚</li>
</ul>
</li>
<li><p><strong>é”™è¯¯ï¼šè®¤ä¸ºåªè¦æ˜¯æŒ‡é’ˆæˆ–å¼•ç”¨è¢«å£°æ˜ä¸º <code>const</code>ï¼ˆä¾‹å¦‚ <code>const Dog* ptr</code>ï¼‰ï¼Œé‚£ä¹ˆå®ƒæŒ‡å‘çš„å¯¹è±¡çš„æ‰€æœ‰æ–¹æ³•éƒ½èƒ½è¢«å®‰å…¨è°ƒç”¨ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> <code>const Dog* ptr</code> æ„å‘³ç€ä½ <em>ä¸èƒ½é€šè¿‡ <code>ptr</code> è¿™ä¸ªæŒ‡é’ˆæ¥ä¿®æ”¹</em>å®ƒæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œèƒ½å¦è°ƒç”¨å¯¹è±¡çš„æŸä¸ªæ–¹æ³•ï¼Œå–å†³äºè¯¥æ–¹æ³•æœ¬èº«æ˜¯ä¸æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ã€‚å¦‚æœæ–¹æ³•ä¸æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ï¼Œé‚£ä¹ˆå³ä½¿é€šè¿‡ <code>const Dog*</code> æŒ‡é’ˆè°ƒç”¨ï¼Œä¹Ÿä¼šå¤±è´¥ã€‚</li>
</ul>
</li>
<li><p><strong>æ··æ·†â€œæŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ/å¼•ç”¨â€å’Œâ€œå¸¸é‡æŒ‡é’ˆ/å¼•ç”¨æœ¬èº«â€ï¼š</strong></p>
<ul>
<li><code>const Dog* p;</code> // p æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª <code>Dog</code> å¯¹è±¡ï¼Œè¿™ä¸ª <code>Dog</code> å¯¹è±¡é€šè¿‡pæ¥çœ‹æ˜¯å¸¸é‡ï¼ˆä¸èƒ½é€šè¿‡pä¿®æ”¹ï¼‰ã€‚pæœ¬èº«å¯ä»¥æŒ‡å‘å…¶ä»–<code>Dog</code>å¯¹è±¡ã€‚</li>
<li><code>Dog* const p;</code> // p æ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆï¼Œpä¸€æ—¦åˆå§‹åŒ–åä¸èƒ½å†æŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œä½†å®ƒæŒ‡å‘çš„ <code>Dog</code> å¯¹è±¡å¯ä»¥é€šè¿‡pæ¥ä¿®æ”¹ï¼ˆå¦‚æœå¯¹è±¡æœ¬èº«ä¸æ˜¯constï¼‰ã€‚</li>
<li>æœ¬èŠ‚è¯¾ä¸»è¦è®¨è®ºçš„æ˜¯<strong>å¯¹è±¡æœ¬èº«æ˜¯ <code>const</code></strong> (<code>const Dog my_dog;</code>)ï¼Œæˆ–è€…é€šè¿‡<strong>æŒ‡å‘å¸¸é‡çš„æŒ‡é’ˆ/å¼•ç”¨</strong> (<code>const Dog* ptr;</code> æˆ– <code>const Dog&amp; ref;</code>) æ¥è®¿é—®å¯¹è±¡æ—¶é‡åˆ°çš„é—®é¢˜ã€‚</li>
</ul>
</li>
<li><p><strong>è¯•å›¾ç”¨ <code>const_cast</code> å»æ‰ <code>const</code> æ€§è´¨æ¥è°ƒç”¨é <code>const</code> æˆå‘˜å‡½æ•°ï¼š</strong></p>
<ul>
<li>è™½ç„¶ <code>const_cast</code> å¯ä»¥ç”¨æ¥ç§»é™¤å˜é‡çš„ <code>const</code> é™å®šï¼Œä½†å¦‚æœåŸå§‹å¯¹è±¡ç¡®å®æ˜¯ä»¥ <code>const</code> æ–¹å¼å®šä¹‰çš„ï¼Œç„¶åä½ é€šè¿‡ <code>const_cast</code> ä¿®æ”¹äº†å®ƒï¼Œè¿™æ˜¯æœªå®šä¹‰è¡Œä¸º (undefined behavior)ï¼Œéå¸¸å±é™©ï¼Œåº”è¯¥é¿å…ã€‚æˆ‘ä»¬è¿™é‡Œé‡åˆ°çš„é—®é¢˜ï¼Œæ­£ç¡®çš„è§£å†³æ–¹å¼æ˜¯ä¿®æ”¹ç±»çš„è®¾è®¡ï¼ˆä½¿ç”¨ <code>const</code> æˆå‘˜å‡½æ•°ï¼‰ï¼Œè€Œä¸æ˜¯è¯•å›¾â€œæ¬ºéª—â€ç¼–è¯‘å™¨ã€‚</li>
</ul>
</li>
</ol>
<hr>
<p><strong>ç¼–ç ç»ƒä¹ ï¼š</strong></p>
<p>ä¸‹é¢æ˜¯ <code>dog.h</code> å’Œ <code>dog.cpp</code> çš„ä»£ç ï¼ˆå’Œä¸Šé¢ç¤ºä¾‹ä¸€æ ·ï¼Œä½ å¯ä»¥ç›´æ¥å¤åˆ¶ä½¿ç”¨ï¼‰ã€‚ä½ çš„ä»»åŠ¡æ˜¯è¡¥å…¨ <code>main.cpp</code> ä¸­çš„ <code>// TODO:</code> éƒ¨åˆ†ï¼Œå¹¶è§‚å¯Ÿç¼–è¯‘å™¨çš„è¡Œä¸ºã€‚</p>
<p><strong><code>dog.h</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> DOG_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DOG_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string_view&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="built_in">std</span>::string_view m_name;</span><br><span class="line">    <span class="built_in">std</span>::string_view m_breed;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> m_age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dog(<span class="built_in">std</span>::string_view name_param, <span class="built_in">std</span>::string_view breed_param, <span class="keyword">unsigned</span> <span class="keyword">int</span> age_param);</span><br><span class="line">    Dog();</span><br><span class="line">    ~Dog();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="built_in">std</span>::string_view <span class="title">get_name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::string_view <span class="title">get_breed</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">get_age</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_name</span><span class="params">(<span class="built_in">std</span>::string_view name_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_breed</span><span class="params">(<span class="built_in">std</span>::string_view breed_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_age</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// DOG_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>dog.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"dog.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">Dog::Dog(<span class="built_in">std</span>::string_view name_param, <span class="built_in">std</span>::string_view breed_param, <span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span><br><span class="line">    : m_name(name_param), m_breed(breed_param), m_age(age_param) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— '"</span> &lt;&lt; m_name &lt;&lt; <span class="string">"' è¢«å‚æ•°åŒ–æ„é€ äº†ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog::Dog() : Dog(<span class="string">"æ— åæ°"</span>, <span class="string">"æœªçŸ¥å“ç§"</span>, <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— '"</span> &lt;&lt; m_name &lt;&lt; <span class="string">"' è¢«é»˜è®¤æ„é€ äº†ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog::~Dog() &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹— '"</span> &lt;&lt; m_name &lt;&lt; <span class="string">"' è¢«ææ„äº†ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::string_view <span class="title">Dog::get_name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::string_view <span class="title">Dog::get_breed</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_breed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">Dog::get_age</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_name</span><span class="params">(<span class="built_in">std</span>::string_view name_param)</span> </span>&#123;</span><br><span class="line">    m_name = name_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—çš„åå­—è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_breed</span><span class="params">(<span class="built_in">std</span>::string_view breed_param)</span> </span>&#123;</span><br><span class="line">    m_breed = breed_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—çš„å“ç§è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_breed &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::set_age</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> age_param)</span> </span>&#123;</span><br><span class="line">    m_age = age_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—çš„å¹´é¾„è¢«è®¾ç½®ä¸º: "</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dog::print_info</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç‹—ç‹—ä¿¡æ¯ (å¯¹è±¡åœ°å€: "</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt; <span class="string">"):"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  åå­—: "</span> &lt;&lt; m_name &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  å“ç§: "</span> &lt;&lt; m_breed &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  å¹´é¾„: "</span> &lt;&lt; m_age &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code> (ç»ƒä¹ éƒ¨åˆ†)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"dog.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> Dog <span class="title">my_const_dog</span><span class="params">(<span class="string">"è±†è±†"</span>, <span class="string">"æŸ¯åŸº"</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»ºäº†ä¸€ä¸ª const Dog å¯¹è±¡ my_const_dogã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 1: å°è¯•è°ƒç”¨ my_const_dog çš„ print_info() æ–¹æ³•ã€‚</span></span><br><span class="line">    <span class="comment">//         ç¼–è¯‘ä¸€ä¸‹ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ç„¶åæ³¨é‡Šæ‰è¿™è¡Œä»£ç ã€‚</span></span><br><span class="line">    <span class="comment">// Your code for TODO 1 here:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 2: å°è¯•è°ƒç”¨ my_const_dog çš„ get_name() æ–¹æ³•ï¼Œå¹¶æ‰“å°è¿”å›çš„åå­—ã€‚</span></span><br><span class="line">    <span class="comment">//         ç¼–è¯‘ä¸€ä¸‹ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ç„¶åæ³¨é‡Šæ‰è¿™è¡Œä»£ç ã€‚</span></span><br><span class="line">    <span class="comment">// Your code for TODO 2 here:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 3: å°è¯•å£°æ˜ä¸€ä¸ªæ™®é€šçš„ Dog æŒ‡é’ˆ (Dog*), è®©å®ƒæŒ‡å‘ my_const_dogã€‚</span></span><br><span class="line">    <span class="comment">//         ä¾‹å¦‚: Dog* ptr_to_const = &amp;my_const_dog;</span></span><br><span class="line">    <span class="comment">//         ç¼–è¯‘ä¸€ä¸‹ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ç„¶åæ³¨é‡Šæ‰è¿™è¡Œä»£ç ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆä¼šå¤±è´¥ã€‚</span></span><br><span class="line">    <span class="comment">// Your code for TODO 3 here:</span></span><br><span class="line">    <span class="comment">// è§£é‡Šä¸ºä»€ä¹ˆå¤±è´¥:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\nç»ƒä¹ å®Œæˆã€‚å¦‚æœä½ æ³¨é‡Šæ‰äº†æ‰€æœ‰å¯¼è‡´é”™è¯¯çš„ä»£ç ï¼Œç¨‹åºåº”è¯¥èƒ½æ­£å¸¸ç¼–è¯‘å’Œè¿è¡Œã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br>è¯·ä½ å°è¯•å®Œæˆ <code>main.cpp</code> ä¸­çš„ <code>// TODO:</code> éƒ¨åˆ†ï¼Œç¼–è¯‘å¹¶è§‚å¯Ÿç»“æœã€‚ç„¶åæŠŠä½ çš„ <code>main.cpp</code> ä»£ç å‘ç»™æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ çœ‹çœ‹å¹¶ç»™å‡ºåé¦ˆï¼</p>
<p>æˆ‘ä»¬è¿™èŠ‚è¯¾å°±å…ˆåˆ°è¿™é‡Œã€‚ç†è§£äº† <code>const</code> å¯¹è±¡å¸¦æ¥çš„è¿™äº›é—®é¢˜ï¼Œä¸‹ä¸€èŠ‚è¯¾æˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°å­¦ä¹ å¦‚ä½•è§£å†³å®ƒä»¬äº†ï¼åŠ æ²¹ï¼</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">main.cpp: In function â€˜int main()â€™:</span><br><span class="line">main.cpp:11:28: error: passing â€˜const Dogâ€™ as â€˜thisâ€™ argument discards qualifiers [-fpermissive]</span><br><span class="line">   11 |     my_const_dog.print_info();</span><br><span class="line">      |     ~~~~~~~~~~~~~~~~~~~~~~~^~</span><br><span class="line">In file included from main.cpp:2:</span><br><span class="line">dog.h:26:10: note:   in call to â€˜void Dog::print_info()â€™</span><br><span class="line">   26 |     void print_info();</span><br><span class="line">      |          ^~~~~~~~~~</span><br><span class="line">main.cpp:17:26: error: passing â€˜const Dogâ€™ as â€˜thisâ€™ argument discards qualifiers [-fpermissive]</span><br><span class="line">   17 |     my_const_dog.get_name();</span><br><span class="line">      |     ~~~~~~~~~~~~~~~~~~~~~^~</span><br><span class="line">dog.h:18:22: note:   in call to â€˜std::string_view Dog::get_name()â€™</span><br><span class="line">   18 |     std::string_view get_name();</span><br><span class="line">      |                      ^~~~~~~~</span><br><span class="line">main.cpp:25:25: error: invalid conversion from â€˜const Dog*â€™ to â€˜Dog*â€™ [-fpermissive]</span><br><span class="line">   25 |     Dog* ptr_to_const &#x3D; &amp;my_const_dog;</span><br><span class="line">      |                         ^~~~~~~~~~~~~</span><br><span class="line">      |                         |</span><br><span class="line">      |                         const Dog*</span><br></pre></td></tr></table></figure></div></div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Object/">Object    </a><a class="post-meta__tags" href="/tags/Pointer/">Pointer    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/283%20-%20cpp%20%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%A4%A7%E5%B0%8F%E6%8E%A2%E7%A9%B6/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>287 - const å¯¹è±¡ä½œä¸ºå‡½æ•°å‚æ•°çš„æ³¨æ„äº‹é¡¹</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/Cpp é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡/" title="Cpp é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">Cpp é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹/" title="278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶/" title="283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/304 - ç§»åŠ¨æ„é€ å‡½æ•°çªƒå–/" title="304 - ç§»åŠ¨æ„é€ å‡½æ•°çªƒå–"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">304 - ç§»åŠ¨æ„é€ å‡½æ•°çªƒå–</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/notes/é™æ€æˆå‘˜è®¿é—®æ§åˆ¶/" title="é™æ€æˆå‘˜è®¿é—®æ§åˆ¶"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">é™æ€æˆå‘˜è®¿é—®æ§åˆ¶</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>