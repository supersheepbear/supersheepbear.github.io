<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>325 - 类内成员初始化 | Bear's dream</title><meta name="description" content="325 - 类内成员初始化"><meta name="keywords" content="Coding,Cpp,Development,Learning,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="325 - 类内成员初始化"><meta name="twitter:description" content="325 - 类内成员初始化"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="325 - 类内成员初始化"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/325%20-%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="325 - 类内成员初始化"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/325%20-%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/"><link rel="prev" title="330 - cpp 默认全局命名空间与作用域运算符" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/330%20-%20cpp%20%E9%BB%98%E8%AE%A4%E5%85%A8%E5%B1%80%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%BF%90%E7%AE%97%E7%AC%A6/"><link rel="next" title="323 - cpp静态成员函数" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">150</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#类内成员初始化"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">类内成员初始化</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🧑‍💻-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">🧑‍💻 User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🤖-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">🤖 Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-类内成员初始化深度解析"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">C++ 类内成员初始化深度解析</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-为什么需要类内成员初始化？"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">1. 为什么需要类内成员初始化？</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-类内成员初始化的多种方式"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2. 类内成员初始化的多种方式</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-1-赋值初始化-Assignment-Initialization"><span class="toc_mobile_items-number">1.5.1.</span> <span class="toc_mobile_items-text">2.1. 赋值初始化 ([Assignment Initialization])</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-2-花括号初始化-Brace-Initialization"><span class="toc_mobile_items-number">1.5.2.</span> <span class="toc_mobile_items-text">2.2. 花括号初始化 ([Brace Initialization])</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-类内成员初始化与构造函数初始化列表的关系-重要概念"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">3. 类内成员初始化与构造函数初始化列表的关系 (重要概念!)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-C-11-之前的限制-历史背景"><span class="toc_mobile_items-number">1.7.</span> <span class="toc_mobile_items-text">4. C++11 之前的限制 (历史背景)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-总结与最佳实践"><span class="toc_mobile_items-number">1.8.</span> <span class="toc_mobile_items-text">5. 总结与最佳实践</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-QA-闪卡-Flash-Cards"><span class="toc_mobile_items-number">1.9.</span> <span class="toc_mobile_items-text">6. QA 闪卡 (Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#7-常见误解或错误"><span class="toc_mobile_items-number">1.10.</span> <span class="toc_mobile_items-text">7. 常见误解或错误</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-编程练习"><span class="toc_mobile_items-number">1.11.</span> <span class="toc_mobile_items-text">8. 编程练习</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🧑‍💻-User-1"><span class="toc_mobile_items-number">1.12.</span> <span class="toc_mobile_items-text">🧑‍💻 User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🤖-Assistant-1"><span class="toc_mobile_items-number">1.13.</span> <span class="toc_mobile_items-text">🤖 Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#您的解决方案评分"><span class="toc_mobile_items-number">1.14.</span> <span class="toc_mobile_items-text">您的解决方案评分</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#实际答案与解释"><span class="toc_mobile_items-number">1.15.</span> <span class="toc_mobile_items-text">实际答案与解释</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#进一步思考与探索-Extended-Questions"><span class="toc_mobile_items-number">1.16.</span> <span class="toc_mobile_items-text">进一步思考与探索 ([Extended Questions])</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#类内成员初始化"><span class="toc-number">1.</span> <span class="toc-text">类内成员初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#🧑‍💻-User"><span class="toc-number">1.1.</span> <span class="toc-text">🧑‍💻 User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🤖-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">🤖 Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-类内成员初始化深度解析"><span class="toc-number">1.3.</span> <span class="toc-text">C++ 类内成员初始化深度解析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-为什么需要类内成员初始化？"><span class="toc-number">1.4.</span> <span class="toc-text">1. 为什么需要类内成员初始化？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-类内成员初始化的多种方式"><span class="toc-number">1.5.</span> <span class="toc-text">2. 类内成员初始化的多种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-赋值初始化-Assignment-Initialization"><span class="toc-number">1.5.1.</span> <span class="toc-text">2.1. 赋值初始化 ([Assignment Initialization])</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-花括号初始化-Brace-Initialization"><span class="toc-number">1.5.2.</span> <span class="toc-text">2.2. 花括号初始化 ([Brace Initialization])</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-类内成员初始化与构造函数初始化列表的关系-重要概念"><span class="toc-number">1.6.</span> <span class="toc-text">3. 类内成员初始化与构造函数初始化列表的关系 (重要概念!)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-C-11-之前的限制-历史背景"><span class="toc-number">1.7.</span> <span class="toc-text">4. C++11 之前的限制 (历史背景)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-总结与最佳实践"><span class="toc-number">1.8.</span> <span class="toc-text">5. 总结与最佳实践</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-QA-闪卡-Flash-Cards"><span class="toc-number">1.9.</span> <span class="toc-text">6. QA 闪卡 (Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-常见误解或错误"><span class="toc-number">1.10.</span> <span class="toc-text">7. 常见误解或错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-编程练习"><span class="toc-number">1.11.</span> <span class="toc-text">8. 编程练习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🧑‍💻-User-1"><span class="toc-number">1.12.</span> <span class="toc-text">🧑‍💻 User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🤖-Assistant-1"><span class="toc-number">1.13.</span> <span class="toc-text">🤖 Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#您的解决方案评分"><span class="toc-number">1.14.</span> <span class="toc-text">您的解决方案评分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实际答案与解释"><span class="toc-number">1.15.</span> <span class="toc-text">实际答案与解释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进一步思考与探索-Extended-Questions"><span class="toc-number">1.16.</span> <span class="toc-text">进一步思考与探索 ([Extended Questions])</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">325 - 类内成员初始化</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/325%20-%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/325%20-%20%E7%B1%BB%E5%86%85%E6%88%90%E5%91%98%E5%88%9D%E5%A7%8B%E5%8C%96/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="类内成员初始化"><a href="#类内成员初始化" class="headerlink" title="类内成员初始化"></a>类内成员初始化</h1><h2 id="🧑‍💻-User"><a href="#🧑‍💻-User" class="headerlink" title="🧑‍💻 User"></a>🧑‍💻 User</h2><p>In this lecture we’re going to look at in class member initialization.And this is a facility we have in C plus plus to control how member variables are initialized when wedeclare them directly inside the body of our class.So suppose this is a private section of some class you are declaring and you can set up member variableslike this without doing any initialization.So what this is going to do by default, it’s going to initialize your data to contain some junk data.It might be zero, it might be really anything that can fit in this type that we have here.So we don’t have control on what is going to be in here.But you might also explicitly put in your own data.For example, you can go through assignment and put in zero and make sure that the member variablesare going to contain zero inside.When you create an object of your class and this is going to work.Another option we have is to use brace initialization, and this is going to implicitly initialize yourmember variables to zero.So this is going to be exactly the same thing like this, but it’s going to be implicitly done by thecompiler When it sees brace initialization like this.You can also explicitly put in your data, just like we do here, using brace initialization.And this is going to put in zero.And you can even initialize custom types that you set up yourself.And this is going to call your own default constructor to construct your thanks.And so you can also use in class member initialization to set up and initialize classes of your owntypes.For example, here we have an integer type that we have built ourselves and we are setting up a membervariable of that type.And if we use brace initialization like this, this is going to call our default constructor and you’regoing to see that this is going to work exactly like you want.But one thing I want you to know is that it wasn’t always this easy to do in class member initializationbecause before a C plus plus 11, the list of types for which you could do in class member initializationwas really limited before C plus plus 11.You could only do this for static constants of integral types.So integer size T and things like that.And we could only do this only for static constants of enum type.If you do this for any other type that is not covered by what we see here, you would get a compilererror, but we are using modern C plus plus so we can really do in class member initialization for anytype and it is going to work just like you see here.So let’s head over to Visual Studio code and play with this a little more.Okay.Here we are in our working folder.The current project is in class member initialization.We’re going to grab our template files pretty quick.We’re going to put them in place and we’re going to open this in Visual Studio code by dragging anddropping here, this is going to open our files.We have the main CPP file.We can clean this up a little bit.And before we do anything, I want to bring in a class that we’re going to use to show that in classmember initialization can also work for our own custom types.We’re going to put in an integer class.So let’s put a header file for that here and we’re going to do a CPP file.We are going to put in the header file.Nothing complicated here.We have our include guard, we have the class, we have a member variable inside and we have a set ofsetters and getters and we have a constructor and destructor here.Nothing complicated.Okay?Now that we have this, we can put in the CPP file.Let’s do that.And we are just going to put in the implementations for our constructors.We have a constructor that takes one parameter and it’s going to use that to initialize our member variable,which is called inner.And if we go here, we’re going to see that now that we have the integer class, we can go in Main.cppand really try to play with these things.What we’re going to do is include the integer class and we are going to set up a class called Point.We already know a class like this, so we’re going to do this, we’re going to call this point.And you see Visual Studio code is going to autocomplete these things.So we have I don’t like this kinds of autocomplete because they really make things hard to see.And we’re going to put in our own class called Point.Let’s do that and we’re going to put our closing semicolon.We’re going to put in a private section and we’re going to have a public section on top.And inside we’re going to have two member variables double X and double Y, and we’re going to alignthese things a little bit better.So let’s do that.And we have our class.So this is what we want.Let’s make sure that we have a constructor.That we can use to create point objects and let’s call our members M, x and M y.I think this is going to work and we’re going to say point.We’re going to say double X here and double Y, and we are going to use an initializer list to put thesevalues in.So we’re going to say M X is going to take x, n and m, y is going to take y, n.We’re going to use brace initialization here and we’re going to put in our body and we have our constructorhere.But what we want is to learn about in class member initialization here and we have already done that.If we do something like this, we want to be putting any initialization at all and this is really goingto put in junk data in our member variables.They are not going to be initialized and we’re going to have a problem to be able to try this out.Let’s really put in a default constructor.We’re going to say point and we’re going to say default.And this is not going to do anything.It’s just going to put an empty body on the constructor and it’s not going to do any initializationon our point member variables here.So we can set up a function which is going to print the point object and we’re going to be able to seethis member variables.But if you want, you can also use a debugger to see that let’s use a debugger.We haven’t used the debugger in a while, so let’s do that.We’re going to create a point object and we’re going to say P one.We’re not going to put any parentheses here.This is going to call the default constructor here and we should have junk data inside m, x and m yfor this P one point here.Okay, let’s put a break point here and we are going to use a debugger.So we’re going to use the debugging tools that come with GCC.We’re going to start debugging and this is going to build our binary.The binary is going to be passed into the debugger and we’re going to hit the breakpoint here.We have hit the breakpoint.And if we look at our locals, we can see what we have in M, X and m y.You can see that it’s data that we really never put in our object here.And what this is going to do, it’s going to see the syntax we have on line 21.It is going to look at the default constructor that we have here, and the default constructor is reallynot going to do anything.It’s going to be an empty body constructor and I really want you to save this.So let’s not put in a default constructor like this and put in a body of our own and we’re going tosay STD and we’re not going to put anything in the body.So the member variables are going to be left the way they are, and we’re going to be able to see thatthrough the debugger that we have junk data inside our member variables here.When we hit the breakpoint on line 22 here, I hope you understand this.So we’re going to debug again.We’re going to run a debugging session.This is going to build our program.The build is going to be good.We’re going to pass the executable through the debugger and we’re going to hit the breakpoint here.So when we do that, we’re going to step over to be able to hit the return statement here.And at this point, the point object will be already constructed and we will see what is inside.You see, X has some junk data, Y has some junk data.And this is what default initialization like this is going to do.You are not putting in any initialization at all.So the compiler is going to put in some junk data.And this is one way we can do this, but we are using modern C plus plus.We really have many ways we can control how our member variables are initialized and we’re going touse assignment to do our initialization.So the way we can do that, we can really copy what we have on top here and use assignment.Or to really be super clear, we’re going to say explicit assignment.Okay, so if we do this, we can, for example, say 0.1 for X and say 0.1 for Y.We can say that and if we do this, we’re going to see that.Now, the data is not going to be junk.It’s not going to be junk data like we see in the debugger here in our locals.We’re going to see the data we explicitly put in through our assignment operator here.We’re going to kill the debugging session and we’re going to run it again so that the changes we havehere are taken into consideration.The binary is going to be generated.It’s going to be passed it to the debugger and we’re going to hit the breakpoint at line 32 here.If we look at our locals, you see now that we have the data we put in, we have 0.1, 0.1 and it iswhat we put in here.And this is really cool.So this is another way you can control how your in class member initialization works.We’re going to comment this out because we still have a few ways we need to see to do this.We can also use empty based initializers.Let’s do that.And the way we do that, we say double m x and we’re going to put an.Pair of curly braces and we’re going to say double m X and an empty pair of curly braces.And this is going to default.Initialize whatever you have here, because this is a fundamental type.This is going to initialize this to zero.But if it was a custom type like integer, for example, this would call the default constructor foryour type.So let’s try and debug again and see that this is going to initialize our member variables to zero,which is a zero initialization of the double type that we have here.So we’re going to start a debugging session again and it seems like we have a compiler error.What is the problem here?Double m y.We are initializing this twice and we’re going to get a compiler error.Let’s try and build and make sure that we have no compiler error.So we are going to start a debugging session again and we have an error here.Let’s close this and if we go here, it says class point does not have any field named M Why are wenamed this?Mm So let’s say m y here and let’s build it to make sure this is not giving us any more compiler errors.The build is good.We’re going to start a debugging session and we should hit our breakpoint here.And if we go and we’re going to see that our member variables were initialized to zero as the resultof this braced initializer, we have in our member variable declaration here.So this is really cool.So you can do this, but you can even explicitly put a value in this braced initializer and it is goingto pick the value up and put that in your member variable.So for example, if we change this to 0.1 and put that in here, this is going to work and this is nolonger empty braced initializer, let’s just say braced initializer.And if we kill the session here and run it again, we’re going to see that our member variables havebeen initialized to 0.1.And if we look at our locals, this is exactly what we expect here.So this is really cool.You can do all these kinds of crazy things, but remember, we have a custom type which is called integerhere, and we can even use this in our in class member initialization to show you that this is actuallygoing to work.So what we’re going to do is put in a default constructor and give it a body.We want to note that this was called, so we’re going to say Stdcout default constructor called Okay.So if we do this and then come in our point class and set up an integer member variable, let’s forexample, say integer and say I and I used a braced initializer here.This is going to call the constructor of the integer class and we should see this message here printedout on the console.If we’re trying to set up an object of point type in our main function here.So we’re going to go in main here and make sure that we have this created.This is it.So let’s build and try to run the application and we should see a call to the constructor of the integerclass as a result of this member variable that we have here, which is used brace initialization.This is going to default constructor to the object.So let’s build and try to run this.We’re going to use GCC to build.You’re going to see that the world is good, so this is fine.We can clear and run roster and you see default constructor called but the const constructor for whatThe default constructor for integer.Let’s say that we’re going to build the world should be good and if we run roster we should see thedefault constructor called If you want you can set up a breakpoint in the integer body here and you’regoing to see it hit by the debugger.But the main message is that you can really do in class member initialization for any type, be it afundamental type like a double.For example, here we have the data which is not initialized and the compiler is just going to put injunk data.You can use assignment, you can use Brace Initializers, you can even in class member initialize customtypes like we have the integer class here and this is going to work as you expect.This is going to call your default constructor and it is going to do whatever you are doing in yourdefault constructor.In this case, we really aren’t doing anything.We are just putting a debug statement to know that the constructor was called here.This is really all we set out to do in this lecture.I hope you found it interesting.We are going to stop here in this one.The next one we’re going to try and recap what we saw in this chapter.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="🤖-Assistant"><a href="#🤖-Assistant" class="headerlink" title="🤖 Assistant"></a>🤖 Assistant</h2><p>好的，很高兴能为您深入讲解C++中的“类内成员初始化”([in-class member initialization] 或 ICMI)。作为您C++学习之旅的向导，我将尽力用最清晰、最全面的方式来帮助您理解这个概念。</p>
<hr>
<h2 id="C-类内成员初始化深度解析"><a href="#C-类内成员初始化深度解析" class="headerlink" title="C++ 类内成员初始化深度解析"></a>C++ 类内成员初始化深度解析</h2><p><strong>简介</strong>: 本节课将带您全面了解C++11引入的类内成员初始化(ICMI)机制，它允许我们直接在类定义中为成员变量设定默认初始值，从而有效避免“垃圾数据”并简化代码。</p>
<hr>
<h2 id="1-为什么需要类内成员初始化？"><a href="#1-为什么需要类内成员初始化？" class="headerlink" title="1. 为什么需要类内成员初始化？"></a>1. 为什么需要类内成员初始化？</h2><p>在C++中，当我们声明一个类(class)时，它通常包含一些成员变量(member variables)。这些成员变量在类的对象被创建时需要被初始化。如果不对它们进行显式初始化，它们可能会包含一些不确定的值，我们称之为“垃圾数据”([junk data])。</p>
<p><strong>问题</strong>:<br>假设您有一个<code>Point</code>类，里面有两个<code>double</code>类型的成员变量<code>m_x</code>和<code>m_y</code>，用于表示点的坐标：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数</span></span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="comment">// 如果这里不显式初始化 m_x 和 m_y</span></span><br><span class="line">        <span class="comment">// 它们将包含不确定的“垃圾数据”</span></span><br><span class="line">        <span class="comment">// 例如：m_x = 随机值, m_y = 随机值</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 其他构造函数或成员函数</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 main 函数中创建对象</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Point p1; <span class="comment">// 调用默认构造函数，m_x 和 m_y 未初始化</span></span><br><span class="line">    <span class="comment">// 此时访问 p1.m_x 和 p1.m_y 是危险的，因为它们是垃圾数据</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>在这种情况下，当您创建<code>Point</code>对象<code>p1</code>时，<code>p1.m_x</code>和<code>p1.m_y</code>的值是未知的，它们可能存储着之前内存中的任意数据。这被称为<strong>默认初始化</strong>([default initialization])，对于内置类型(如<code>int</code>, <code>double</code>等)，默认初始化不会进行任何操作，导致“垃圾数据”。这通常会导致程序行为不确定或崩溃。</p>
<p><strong>解决方案</strong>: C++11引入了<strong>类内成员初始化</strong>([in-class member initialization]，简称ICMI)这一强大特性。它允许您在声明成员变量的同时，直接在类定义内部为其指定一个默认的初始值。当您创建类的对象，并且没有在构造函数的成员初始化列表([member initializer list])中显式初始化该成员时，ICMI就会生效。</p>
<h2 id="2-类内成员初始化的多种方式"><a href="#2-类内成员初始化的多种方式" class="headerlink" title="2. 类内成员初始化的多种方式"></a>2. 类内成员初始化的多种方式</h2><p>类内成员初始化提供了几种语法来设置默认值：</p>
<h3 id="2-1-赋值初始化-Assignment-Initialization"><a href="#2-1-赋值初始化-Assignment-Initialization" class="headerlink" title="2.1. 赋值初始化 ([Assignment Initialization])"></a>2.1. 赋值初始化 ([Assignment Initialization])</h3><p>这是最直观的方式，使用赋值运算符<code>=</code>来指定初始值。</p>
<p><strong>示例</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x = <span class="number">0.0</span>; <span class="comment">// 使用赋值初始化</span></span><br><span class="line">    <span class="keyword">double</span> m_y = <span class="number">0.0</span>; <span class="comment">// m_x 和 m_y 默认都初始化为 0.0</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="comment">// 当创建 Point 对象时，如果构造函数不显式初始化 m_x 和 m_y</span></span><br><span class="line">        <span class="comment">// 它们将默认被初始化为 0.0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Point p1; <span class="comment">// 调用 Point() 构造函数，m_x 和 m_y 会是 0.0</span></span><br><span class="line">    <span class="comment">// 您可以打印 p1.m_x 和 p1.m_y 来验证</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br><strong>解释</strong>: 在这里，<code>m_x</code>和<code>m_y</code>将始终以<code>0.0</code>作为它们的默认值。如果您创建<code>Point</code>对象时，没有在构造函数中明确为<code>m_x</code>和<code>m_y</code>提供初始值，那么它们就会被这个类内初始化值覆盖。</p>
<h3 id="2-2-花括号初始化-Brace-Initialization"><a href="#2-2-花括号初始化-Brace-Initialization" class="headerlink" title="2.2. 花括号初始化 ([Brace Initialization])"></a>2.2. 花括号初始化 ([Brace Initialization])</h3><p>花括号初始化(<code>{}</code>)是C++11引入的一种通用初始化语法，它可以用于多种场景，包括类内成员初始化。</p>
<p><strong>2.2.1. 空花括号 <code>{}</code> (零初始化或调用默认构造函数)</strong><br>当您使用空花括号<code>{}</code>进行类内成员初始化时：</p>
<ul>
<li>对于<strong>内置类型</strong>([built-in types]，如<code>int</code>, <code>double</code>, 指针等)，这会进行<strong>零初始化</strong>([zero-initialization])，即将它们初始化为0（或等效的空值，如<code>nullptr</code>对于指针）。</li>
<li>对于<strong>自定义类型</strong>([custom types]，即您自己定义的类或结构体)，这会尝试调用它们的<strong>默认构造函数</strong>([default constructor])。</li>
</ul>
<p><strong>示例</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设我们有一个自定义的 Integer 类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Integer</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> m_value;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数</span></span><br><span class="line">    Integer() &#123;</span><br><span class="line">        m_value = <span class="number">0</span>; <span class="comment">// 内部初始化为 0</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Integer 默认构造函数被调用!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 带参数的构造函数</span></span><br><span class="line">    Integer(<span class="keyword">int</span> val) : m_value(val) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Integer 带参数构造函数被调用! 值: "</span> &lt;&lt; m_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="keyword">return</span> m_value; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x&#123;&#125;; <span class="comment">// 零初始化，m_x 默认为 0.0</span></span><br><span class="line">    <span class="keyword">double</span> m_y&#123;&#125;; <span class="comment">// 零初始化，m_y 默认为 0.0</span></span><br><span class="line">    Integer m_id&#123;&#125;; <span class="comment">// 调用 Integer 的默认构造函数</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="comment">// 即使构造函数体为空，m_x, m_y, m_id 也会被上面的类内初始化规则初始化</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 带参数的构造函数，显式初始化 m_x 和 m_y</span></span><br><span class="line">    Point(<span class="keyword">double</span> x_in, <span class="keyword">double</span> y_in) : m_x&#123;x_in&#125;, m_y&#123;y_in&#125; &#123;</span><br><span class="line">        <span class="comment">// 注意：m_id 仍然会调用其默认构造函数，因为这里没有显式初始化它</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point: ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">"), ID: "</span> &lt;&lt; m_id.getValue() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Point p1; <span class="comment">// 调用 Point() 默认构造函数</span></span><br><span class="line">              <span class="comment">// m_x = 0.0, m_y = 0.0</span></span><br><span class="line">              <span class="comment">// m_id 调用 Integer 的默认构造函数</span></span><br><span class="line">    p1.print();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">10.5</span>, <span class="number">20.5</span>)</span></span>; <span class="comment">// 调用 Point(double, double) 构造函数</span></span><br><span class="line">                          <span class="comment">// m_x = 10.5, m_y = 20.5</span></span><br><span class="line">                          <span class="comment">// m_id 仍然调用 Integer 的默认构造函数</span></span><br><span class="line">    p2.print();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br><strong>输出</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Integer 默认构造函数被调用!</span><br><span class="line">Point: (0, 0), ID: 0</span><br><span class="line">---</span><br><span class="line">Integer 默认构造函数被调用!</span><br><span class="line">Point: (10.5, 20.5), ID: 0</span><br></pre></td></tr></table></figure></div><br><strong>解释</strong>:</p>
<ul>
<li><code>double m_x{};</code> 和 <code>double m_y{};</code> 会将<code>m_x</code>和<code>m_y</code>初始化为<code>0.0</code>。</li>
<li><code>Integer m_id{};</code> 会调用<code>Integer</code>类的默认构造函数，所以您会看到”Integer 默认构造函数被调用!”的输出，并且<code>m_id.m_value</code>被设置为<code>0</code>。</li>
</ul>
<p><strong>2.2.2. 带值的花括号 <code>{value}</code> (值初始化)</strong><br>您也可以在花括号中指定一个具体的值。</p>
<p><strong>示例</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x&#123;<span class="number">1.0</span>&#125;; <span class="comment">// 值初始化，m_x 默认为 1.0</span></span><br><span class="line">    <span class="keyword">double</span> m_y&#123;<span class="number">2.0</span>&#125;; <span class="comment">// 值初始化，m_y 默认为 2.0</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point() &#123;&#125; <span class="comment">// 默认构造函数，m_x 和 m_y 会被类内初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point: ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Point p1; <span class="comment">// 调用 Point() 默认构造函数</span></span><br><span class="line">              <span class="comment">// m_x = 1.0, m_y = 2.0</span></span><br><span class="line">    p1.print();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br><strong>输出</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Point: (1, 2)</span><br></pre></td></tr></table></figure></div><br><strong>解释</strong>: <code>m_x</code>和<code>m_y</code>将分别被初始化为<code>1.0</code>和<code>2.0</code>。</p>
<h2 id="3-类内成员初始化与构造函数初始化列表的关系-重要概念"><a href="#3-类内成员初始化与构造函数初始化列表的关系-重要概念" class="headerlink" title="3. 类内成员初始化与构造函数初始化列表的关系 (重要概念!)"></a>3. 类内成员初始化与构造函数初始化列表的关系 (重要概念!)</h2><p>这是一个非常关键且常被新手误解的地方。</p>
<ul>
<li><p><strong>规则</strong>: 如果一个成员变量在类定义中通过ICMI被初始化，并且<strong>同时也在构造函数的成员初始化列表([member initializer list])中被显式初始化</strong>，那么<strong>构造函数初始化列表的初始化将优先</strong>，ICMI的初始化将被忽略。</p>
</li>
<li><p><strong>执行顺序</strong>:</p>
<ol>
<li>当一个对象被创建时，首先会为所有成员变量（包括那些有ICMI的）分配内存。</li>
<li>对于那些有ICMI的成员，如果该构造函数的成员初始化列表<strong>没有</strong>显式地初始化它们，那么ICMI就会执行。</li>
<li>如果该构造函数的成员初始化列表<strong>有</strong>显式地初始化它们，那么ICMI会被跳过，转而使用成员初始化列表的值。</li>
<li>最后，构造函数体内的代码才会被执行。</li>
</ol>
</li>
</ul>
<p><strong>示例</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x = <span class="number">0.0</span>; <span class="comment">// 类内初始化为 0.0</span></span><br><span class="line">    <span class="keyword">double</span> m_y&#123;<span class="number">0.0</span>&#125;;  <span class="comment">// 类内初始化为 0.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数：没有显式初始化 m_x 和 m_y</span></span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造函数：显式初始化 m_x 和 m_y</span></span><br><span class="line">    Point(<span class="keyword">double</span> x_in, <span class="keyword">double</span> y_in) : m_x(x_in), m_y(y_in) &#123; <span class="comment">// 注意这里是成员初始化列表</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point: ("</span> &lt;&lt; m_x &lt;&lt; <span class="string">", "</span> &lt;&lt; m_y &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Point p1; <span class="comment">// 调用默认构造函数</span></span><br><span class="line">              <span class="comment">// m_x 和 m_y 将使用类内初始化值 (0.0)</span></span><br><span class="line">    p1.print();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">10.5</span>, <span class="number">20.5</span>)</span></span>; <span class="comment">// 调用带参数构造函数</span></span><br><span class="line">                         <span class="comment">// m_x 和 m_y 将使用构造函数初始化列表的值 (10.5, 20.5)</span></span><br><span class="line">                         <span class="comment">// 忽略类内初始化值</span></span><br><span class="line">    p2.print();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br><strong>输出</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">默认构造函数被调用</span><br><span class="line">Point: (0, 0)</span><br><span class="line">---</span><br><span class="line">带参数构造函数被调用</span><br><span class="line">Point: (10.5, 20.5)</span><br></pre></td></tr></table></figure></div><br><strong>结论</strong>: ICMI提供了一个<strong>默认值</strong>。只有当构造函数不显式提供成员的初始化值时，才会使用这个默认值。这使得您可以避免为每个构造函数都重复初始化相同的成员，从而减少代码冗余。</p>
<h2 id="4-C-11-之前的限制-历史背景"><a href="#4-C-11-之前的限制-历史背景" class="headerlink" title="4. C++11 之前的限制 (历史背景)"></a>4. C++11 之前的限制 (历史背景)</h2><p>在C++11之前，类内成员初始化功能非常有限。您只能对以下类型的成员进行类内初始化：</p>
<ul>
<li><strong>静态常量整型</strong>([static constant integral types])：如 <code>static const int</code>, <code>static const long</code>。</li>
<li><strong>静态常量枚举类型</strong>([static constant enum types])。</li>
</ul>
<p>对于其他任何类型（包括非<code>static</code>成员变量，以及非<code>const</code>或非整型的<code>static</code>成员），您都无法进行类内初始化。试图这样做会导致编译错误([compiler error])。</p>
<p><strong>示例 (C++11 之前不可行)</strong>:<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++11 之前会报错</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass_Old</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> value = <span class="number">0</span>; <span class="comment">// 错误！</span></span><br><span class="line">    <span class="keyword">double</span> price&#123;<span class="number">10.0</span>&#125;; <span class="comment">// 错误！</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">int</span> MAX_VAL = <span class="number">100</span>; <span class="comment">// C++11 之前允许</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><br>幸运的是，我们现在使用的是现代C++，所以这个限制已经解除，您可以使用ICMI来初始化<strong>任何类型</strong>的非静态成员变量。</p>
<h2 id="5-总结与最佳实践"><a href="#5-总结与最佳实践" class="headerlink" title="5. 总结与最佳实践"></a>5. 总结与最佳实践</h2><ul>
<li><strong>优点</strong>:<ul>
<li><strong>避免垃圾数据</strong>: 确保成员变量始终有一个已知的初始状态。</li>
<li><strong>代码简洁</strong>: 减少构造函数中重复的初始化代码。</li>
<li><strong>默认行为</strong>: 提供一个成员的默认初始值，除非被构造函数显式覆盖。</li>
</ul>
</li>
<li><strong>适用场景</strong>: 当您希望为类中的某个成员变量提供一个<strong>普遍的默认初始值</strong>时，ICMI是最佳选择。</li>
<li><strong>注意事项</strong>: ICMI只适用于<strong>非静态数据成员</strong>([non-static data members])。静态数据成员的初始化规则不同，它们需要在类定义外部进行定义和初始化。</li>
</ul>
<h2 id="6-QA-闪卡-Flash-Cards"><a href="#6-QA-闪卡-Flash-Cards" class="headerlink" title="6. QA 闪卡 (Flash Cards)"></a>6. QA 闪卡 (Flash Cards)</h2><ol>
<li><strong>Q</strong>: 什么是“类内成员初始化”(ICMI)？<br><strong>A</strong>: 它是C++11引入的一种特性，允许直接在类定义内部为非静态数据成员提供默认初始值。</li>
<li><strong>Q</strong>: ICMI有哪几种常见的初始化方式？<br><strong>A</strong>: 赋值初始化 (<code>=</code>) 和花括号初始化 (<code>{}</code> 或 <code>{value}</code>)。</li>
<li><strong>Q</strong>: 如果一个成员变量既有类内初始化，又在构造函数的成员初始化列表中被初始化，哪个会生效？<br><strong>A</strong>: 构造函数的成员初始化列表会优先，类内初始化会被忽略。</li>
<li><strong>Q</strong>: 在C++11之前，ICMI有什么限制？<br><strong>A</strong>: 只能用于静态常量整型或枚举类型的成员。现在这个限制已经解除。</li>
<li><strong>Q</strong>: 使用空花括号 <code>{}</code> 进行ICMI时，对于内置类型和自定义类型有什么不同？<br><strong>A</strong>: 对于内置类型，会进行零初始化；对于自定义类型，会调用其默认构造函数。</li>
</ol>
<h2 id="7-常见误解或错误"><a href="#7-常见误解或错误" class="headerlink" title="7. 常见误解或错误"></a>7. 常见误解或错误</h2><ol>
<li><strong>误解</strong>: 认为所有成员变量在没有显式初始化时都会自动变为0。<br><strong>纠正</strong>: 这不正确。只有在特定条件下（如全局/静态存储期的变量，或使用 <code>{}</code> 进行值初始化）才会零初始化。局部非静态变量如果不初始化，会包含垃圾数据。ICMI正是为了提供一个明确的默认初始化。</li>
<li><strong>错误</strong>: 混淆构造函数体内的赋值与成员初始化列表以及ICMI的执行顺序。<br><strong>纠正</strong>: 成员变量在进入构造函数体之前就已经完成了初始化。优先级是：构造函数初始化列表 &gt; 类内成员初始化 &gt; 默认初始化（垃圾数据）。构造函数体内的赋值实际上是“重新赋值”，而不是初始化。</li>
<li><strong>误解</strong>: 认为ICMI会阻止您在构造函数中提供不同的值。<br><strong>纠正</strong>: ICMI只是一个默认值。您始终可以在构造函数的成员初始化列表中提供不同的值来覆盖ICMI，这是完全允许且常见的做法。</li>
</ol>
<h2 id="8-编程练习"><a href="#8-编程练习" class="headerlink" title="8. 编程练习"></a>8. 编程练习</h2><p><strong>场景</strong>: 您正在开发一个简单的图形库，需要创建一个<code>Circle</code>类来表示圆形。每个圆形都有一个中心点(<code>Point</code>对象)和一个半径(<code>double</code>)。</p>
<p><strong>要求</strong>:</p>
<ol>
<li>定义一个<code>Point</code>类，包含<code>double x</code>和<code>double y</code>作为成员变量。请使用<strong>类内成员初始化</strong>将它们默认初始化为<code>0.0</code>。</li>
<li>定义一个<code>Circle</code>类，包含：<ul>
<li>一个<code>Point</code>类型的成员变量<code>center</code>。请使用<strong>类内成员初始化</strong>将它默认初始化为一个<code>Point</code>对象，该对象的<code>x</code>和<code>y</code>也应为<code>0.0</code>（利用<code>Point</code>类的ICMI）。</li>
<li>一个<code>double</code>类型的成员变量<code>radius</code>。请使用<strong>类内成员初始化</strong>将它默认初始化为<code>1.0</code>。</li>
</ul>
</li>
<li>为<code>Circle</code>类添加一个默认构造函数和一个带参数的构造函数。<ul>
<li>默认构造函数不显式初始化任何成员。</li>
<li>带参数的构造函数<code>Circle(double cx, double cy, double r)</code>应该使用<strong>成员初始化列表</strong>来初始化<code>center</code>和<code>radius</code>。</li>
</ul>
</li>
<li>在<code>Circle</code>类中添加一个<code>print()</code>方法，用于打印圆的中心坐标和半径。</li>
</ol>
<p><strong>请在下方空白处填写您的代码，完成这些要求。</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 定义 Point 类并进行类内成员初始化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里使用类内成员初始化，将 x 和 y 默认初始化为 0.0</span></span><br><span class="line">    <span class="keyword">double</span> x;</span><br><span class="line">    <span class="keyword">double</span> y;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数（可为空，因为成员已经类内初始化）</span></span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point 默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造函数</span></span><br><span class="line">    Point(<span class="keyword">double</span> px, <span class="keyword">double</span> py) : x(px), y(py) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point 带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"中心点: ("</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 定义 Circle 类并进行类内成员初始化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里使用类内成员初始化，将 center 默认初始化为 Point()</span></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里使用类内成员初始化，将 radius 默认初始化为 1.0</span></span><br><span class="line">    Point center;</span><br><span class="line">    <span class="keyword">double</span> radius;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 3.1 默认构造函数</span></span><br><span class="line">    Circle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Circle 默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.2 带参数的构造函数</span></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 使用成员初始化列表初始化 center 和 radius</span></span><br><span class="line">    Circle(<span class="keyword">double</span> cx, <span class="keyword">double</span> cy, <span class="keyword">double</span> r) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Circle 带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. print() 方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        center.print();</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">", 半径: "</span> &lt;&lt; radius &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 测试默认初始化 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Circle c1; <span class="comment">// 应该调用 Circle 的默认构造函数，center 和 radius 使用类内初始化值</span></span><br><span class="line">    c1.print();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 测试带参数初始化 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Circle <span class="title">c2</span><span class="params">(<span class="number">5.0</span>, <span class="number">10.0</span>, <span class="number">3.5</span>)</span></span>; <span class="comment">// 应该调用 Circle 的带参数构造函数，center 和 radius 使用参数值</span></span><br><span class="line">    c2.print();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="🧑‍💻-User-1"><a href="#🧑‍💻-User-1" class="headerlink" title="🧑‍💻 User"></a>🧑‍💻 User</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 定义 Point 类并进行类内成员初始化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里使用类内成员初始化，将 x 和 y 默认初始化为 0.0</span></span><br><span class="line">    <span class="keyword">double</span> x&#123;&#125;;</span><br><span class="line">    <span class="keyword">double</span> y&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数（可为空，因为成员已经类内初始化）</span></span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point 默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造函数</span></span><br><span class="line">    Point(<span class="keyword">double</span> px, <span class="keyword">double</span> py) : x(px), y(py) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point 带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"中心点: ("</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 定义 Circle 类并进行类内成员初始化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里使用类内成员初始化，将 center 默认初始化为 Point()</span></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 在这里使用类内成员初始化，将 radius 默认初始化为 1.0</span></span><br><span class="line">    Point center&#123;Point()&#125;;</span><br><span class="line">    <span class="keyword">double</span> radius&#123;<span class="number">1.0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 3.1 默认构造函数</span></span><br><span class="line">    Circle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Circle 默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.2 带参数的构造函数</span></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 使用成员初始化列表初始化 center 和 radius</span></span><br><span class="line">    Circle(<span class="keyword">double</span> cx, <span class="keyword">double</span> cy, <span class="keyword">double</span> r)</span><br><span class="line">    :center(Point(cx, cy)), radius(r) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Circle 带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. print() 方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        center.print();</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">", 半径: "</span> &lt;&lt; radius &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 测试默认初始化 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Circle c1; <span class="comment">// 应该调用 Circle 的默认构造函数，center 和 radius 使用类内初始化值</span></span><br><span class="line">    c1.print();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 测试带参数初始化 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Circle <span class="title">c2</span><span class="params">(<span class="number">5.0</span>, <span class="number">10.0</span>, <span class="number">3.5</span>)</span></span>; <span class="comment">// 应该调用 Circle 的带参数构造函数，center 和 radius 使用参数值</span></span><br><span class="line">    c2.print();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="🤖-Assistant-1"><a href="#🤖-Assistant-1" class="headerlink" title="🤖 Assistant"></a>🤖 Assistant</h2><p>好的，您的解决方案非常出色！作为C++开发者和老师，我为您感到骄傲。您不仅准确地理解了类内成员初始化 (ICMI) 的概念，还在实践中正确地运用了它，并且巧妙地处理了自定义类型和构造函数初始化列表之间的关系。</p>
<hr>
<h2 id="您的解决方案评分"><a href="#您的解决方案评分" class="headerlink" title="您的解决方案评分"></a>您的解决方案评分</h2><p><strong>整体评价</strong>: <strong>优秀 (Excellent)</strong></p>
<ul>
<li><strong>对 <code>Point</code> 类的实现</strong>:<ul>
<li><code>double x{};</code> 和 <code>double y{};</code>：完美！您使用了空花括号初始化，这对于内置类型<code>double</code>来说，会确保它们被零初始化为<code>0.0</code>，完全符合要求。</li>
</ul>
</li>
<li><strong>对 <code>Circle</code> 类的实现</strong>:<ul>
<li><code>Point center{Point()};</code>：非常棒！您用花括号初始化来调用 <code>Point</code> 的默认构造函数，确保 <code>center</code> 被正确初始化为 <code>(0.0, 0.0)</code>。</li>
<li><code>double radius{1.0};</code>：同样完美！清晰地将 <code>radius</code> 默认初始化为 <code>1.0</code>。</li>
<li>带参数的构造函数 <code>Circle(double cx, double cy, double r) : center(Point(cx, cy)), radius(r)</code>：这里是亮点！您正确地使用了成员初始化列表来初始化 <code>center</code> 和 <code>radius</code>。<code>center(Point(cx, cy))</code> 显式地构建了一个 <code>Point</code> 对象，并将其用于初始化 <code>center</code>。这展示了您对成员初始化列表优先级高于类内成员初始化的理解。</li>
</ul>
</li>
</ul>
<p><strong>总结</strong>: 您的代码简洁、高效，并且正确地体现了所学知识。没有明显的错误或需要改进的地方。</p>
<hr>
<h2 id="实际答案与解释"><a href="#实际答案与解释" class="headerlink" title="实际答案与解释"></a>实际答案与解释</h2><p>您的答案已经非常接近“标准答案”了，甚至在某些方面（如 <code>Point center{Point()};</code> 和 <code>center(Point(cx, cy))</code>）展示了更细致的理解。</p>
<p><strong>我的参考答案</strong>:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 定义 Point 类并进行类内成员初始化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> x&#123;&#125;; <span class="comment">// 使用空花括号初始化，内置类型默认为 0.0</span></span><br><span class="line">    <span class="keyword">double</span> y&#123;&#125;; <span class="comment">// 使用空花括号初始化，内置类型默认为 0.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 默认构造函数（可为空，因为成员已经类内初始化）</span></span><br><span class="line">    Point() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point 默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 带参数的构造函数</span></span><br><span class="line">    <span class="comment">// 对于自定义类型，成员初始化列表通常更直接，避免不必要的临时对象</span></span><br><span class="line">    Point(<span class="keyword">double</span> px, <span class="keyword">double</span> py) : x(px), y(py) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point 带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"中心点: ("</span> &lt;&lt; x &lt;&lt; <span class="string">", "</span> &lt;&lt; y &lt;&lt; <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 定义 Circle 类并进行类内成员初始化</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Circle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// 对于自定义类型成员，空花括号 &#123;&#125; 或不带参数的构造函数名</span></span><br><span class="line">    <span class="comment">// 通常是更简洁的调用默认构造函数的方式</span></span><br><span class="line">    Point center&#123;&#125;; <span class="comment">// 类内成员初始化，调用 Point 的默认构造函数</span></span><br><span class="line">    <span class="keyword">double</span> radius&#123;<span class="number">1.0</span>&#125;; <span class="comment">// 类内成员初始化，radius 默认初始化为 1.0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 3.1 默认构造函数</span></span><br><span class="line">    <span class="comment">// 注意：即使构造函数体为空，类内初始化也会发生</span></span><br><span class="line">    Circle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Circle 默认构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.2 带参数的构造函数</span></span><br><span class="line">    <span class="comment">// 使用成员初始化列表初始化 center 和 radius</span></span><br><span class="line">    <span class="comment">// 对于 Point 成员，直接传递参数给其构造函数</span></span><br><span class="line">    Circle(<span class="keyword">double</span> cx, <span class="keyword">double</span> cy, <span class="keyword">double</span> r)</span><br><span class="line">    : center(cx, cy), <span class="comment">// 直接调用 Point 的 (double, double) 构造函数</span></span><br><span class="line">      radius(r)      <span class="comment">// 初始化 radius</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Circle 带参数构造函数被调用"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. print() 方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        center.print();</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">", 半径: "</span> &lt;&lt; radius &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 测试默认初始化 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Circle c1; <span class="comment">// 应该调用 Circle 的默认构造函数，center 和 radius 使用类内初始化值</span></span><br><span class="line">    c1.print(); <span class="comment">// 输出: Point 默认构造函数被调用 (来自 center&#123;&#125;)</span></span><br><span class="line">                <span class="comment">//       Circle 默认构造函数被调用</span></span><br><span class="line">                <span class="comment">//       中心点: (0, 0), 半径: 1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- 测试带参数初始化 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Circle <span class="title">c2</span><span class="params">(<span class="number">5.0</span>, <span class="number">10.0</span>, <span class="number">3.5</span>)</span></span>; <span class="comment">// 应该调用 Circle 的带参数构造函数，center 和 radius 使用参数值</span></span><br><span class="line">    c2.print(); <span class="comment">// 输出: Point 带参数构造函数被调用 (来自 center(cx, cy))</span></span><br><span class="line">                <span class="comment">//       Circle 带参数构造函数被调用</span></span><br><span class="line">                <span class="comment">//       中心点: (5, 10), 半径: 3.5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>关键点解释</strong>:</p>
<ol>
<li><p><strong><code>Point</code> 类的 ICMI</strong>:</p>
<ul>
<li><code>double x{};</code> 和 <code>double y{};</code>：这是<strong>零初始化</strong>([zero-initialization])的语法。对于内置类型，它会将变量初始化为0（对于<code>double</code>就是<code>0.0</code>）。这是最简洁且推荐的方式。</li>
</ul>
</li>
<li><p><strong><code>Circle</code> 类的 ICMI</strong>:</p>
<ul>
<li><code>Point center{};</code>：这同样是<strong>值初始化</strong>([value-initialization])的语法。对于自定义类型，它会尝试调用该类型的<strong>默认构造函数</strong>。您的 <code>Point center{Point()};</code> 也能达到相同的效果，但 <code>Point center{};</code> 更简洁，且通常编译器能更好地进行<strong>拷贝省略</strong>([copy elision])，避免创建不必要的临时 <code>Point</code> 对象。</li>
<li><code>double radius{1.0};</code>：完美，直接指定了初始值。</li>
</ul>
</li>
<li><p><strong><code>Circle</code> 的带参数构造函数</strong>:</p>
<ul>
<li><code>Circle(double cx, double cy, double r) : center(cx, cy), radius(r)</code>：<ul>
<li><code>center(cx, cy)</code>：这是<strong>成员初始化列表</strong>中初始化 <code>Point</code> 成员的<strong>最直接和推荐</strong>的方式。它直接调用了 <code>Point</code> 类的 <code>Point(double px, double py)</code> 构造函数来构造 <code>center</code> 对象。</li>
<li>与 <code>center(Point(cx, cy))</code> 相比，<code>center(cx, cy)</code> 避免了显式创建一个临时 <code>Point</code> 对象（即使现代编译器通常会优化掉这个临时对象，但从语义上讲，直接调用更清晰）。</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>您完全掌握了这些概念，非常棒！</p>
<hr>
<h2 id="进一步思考与探索-Extended-Questions"><a href="#进一步思考与探索-Extended-Questions" class="headerlink" title="进一步思考与探索 ([Extended Questions])"></a>进一步思考与探索 ([Extended Questions])</h2><p>为了进一步巩固您的理解，并探索与类内成员初始化相关的更多高级话题，这里有几个问题供您思考：</p>
<ol>
<li><p><strong>静态成员变量与 ICMI</strong>:</p>
<ul>
<li><code>static</code> 成员变量能否使用类内成员初始化 (ICMI)？如果不能，它们应该如何初始化？请说明原因。</li>
<li>提示: 考虑 <code>static</code> 成员的生命周期和存储位置。</li>
</ul>
</li>
<li><p><strong><code>const</code> 成员变量与 ICMI</strong>:</p>
<ul>
<li><code>const</code> 成员变量能否使用类内成员初始化 (ICMI)？请通过一个例子说明。</li>
<li>提示: <code>const</code> 成员必须在对象构造时立即被初始化，它们无法被赋值。</li>
</ul>
</li>
<li><p><strong>委托构造函数 ([Delegating Constructors]) 与 ICMI</strong>:</p>
<ul>
<li>C++11 引入了委托构造函数。当一个类同时使用 ICMI 和委托构造函数时，它们的执行顺序是怎样的？</li>
<li>例如，一个构造函数委托给另一个构造函数，同时类成员有 ICMI。</li>
<li>提示: 思考“初始化”和“赋值”的区别以及它们的执行时机。</li>
</ul>
</li>
<li><p><strong>初始化顺序的深入理解</strong>:</p>
<ul>
<li>请总结一个类的成员变量（包括基类子对象、非静态数据成员）在对象构造时，其初始化的完整顺序是怎样的？考虑类内成员初始化、成员初始化列表和构造函数体内的赋值。</li>
<li>提示: 这是一个C++中非常重要的概念，对理解对象生命周期至关重要。</li>
</ul>
</li>
</ol>
<p>祝您在C++的学习之旅中取得更大的进步！</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Learning/">Learning    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/330%20-%20cpp%20%E9%BB%98%E8%AE%A4%E5%85%A8%E5%B1%80%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%BF%90%E7%AE%97%E7%AC%A6/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>330 - cpp 默认全局命名空间与作用域运算符</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/323%20-%20cpp%E9%9D%99%E6%80%81%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>323 - cpp静态成员函数</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/275 - getter and setter/" title="275 - getter and setter"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">275 - getter and setter</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/309 - 聚合类型统一初始化/" title="309 - 聚合类型统一初始化"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">309 - 聚合类型统一初始化</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/266 - building concept/" title="266 - building concept"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">266 - building concept</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/277 - IDE 创建 cpp 类方法/" title="277 - IDE 创建 cpp 类方法"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">277 - IDE 创建 cpp 类方法</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/276 - Class across multiple files/" title="276 - Class across multiple files"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">276 - Class across multiple files</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'不说话的人会疯掉吗?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">外向孤独者患者</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>