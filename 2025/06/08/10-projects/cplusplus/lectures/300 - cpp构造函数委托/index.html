<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>300 - cppæ„é€ å‡½æ•°å§”æ‰˜ | Bear's dream</title><meta name="description" content="300 - cppæ„é€ å‡½æ•°å§”æ‰˜"><meta name="keywords" content="Coding,Cpp,Development,Class,Constructor"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="300 - cppæ„é€ å‡½æ•°å§”æ‰˜"><meta name="twitter:description" content="300 - cppæ„é€ å‡½æ•°å§”æ‰˜"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="300 - cppæ„é€ å‡½æ•°å§”æ‰˜"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/300%20-%20cpp%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%A7%94%E6%89%98/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="300 - cppæ„é€ å‡½æ•°å§”æ‰˜"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/300%20-%20cpp%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%A7%94%E6%89%98/"><link rel="prev" title="319 - Class Const" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><link rel="next" title="324 - Nested class" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/324%20-%20Nested%20class/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">150</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-æ„é€ å‡½æ•°å§”æ‰˜"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">C++æ„é€ å‡½æ•°å§”æ‰˜</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#1-æ ‡é¢˜å’Œç®€ä»‹"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">1. æ ‡é¢˜å’Œç®€ä»‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">6. ç¼–ç ç»ƒä¹ </span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#7-è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">7. è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#8-å»ºè®®å’Œæ‰©å±•é—®é¢˜"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">8. å»ºè®®å’Œæ‰©å±•é—®é¢˜</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-æ„é€ å‡½æ•°å§”æ‰˜"><span class="toc-number">1.</span> <span class="toc-text">C++æ„é€ å‡½æ•°å§”æ‰˜</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-æ ‡é¢˜å’Œç®€ä»‹"><span class="toc-number">2.</span> <span class="toc-text">1. æ ‡é¢˜å’Œç®€ä»‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc-number">3.</span> <span class="toc-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc-number">4.</span> <span class="toc-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc-number">5.</span> <span class="toc-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc-number">6.</span> <span class="toc-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc-number">7.</span> <span class="toc-text">6. ç¼–ç ç»ƒä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">7.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">7.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><span class="toc-number">8.</span> <span class="toc-text">7. è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-å»ºè®®å’Œæ‰©å±•é—®é¢˜"><span class="toc-number">9.</span> <span class="toc-text">8. å»ºè®®å’Œæ‰©å±•é—®é¢˜</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">300 - cppæ„é€ å‡½æ•°å§”æ‰˜</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/300%20-%20cpp%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%A7%94%E6%89%98/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/300%20-%20cpp%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%A7%94%E6%89%98/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="C-æ„é€ å‡½æ•°å§”æ‰˜"><a href="#C-æ„é€ å‡½æ•°å§”æ‰˜" class="headerlink" title="C++æ„é€ å‡½æ•°å§”æ‰˜"></a>C++æ„é€ å‡½æ•°å§”æ‰˜</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture weâ€™re going to learn about constructor delegation, and this is a technique we havein C plus plus To have a constructor, use another constructor and avoid code duplication.Suppose we have two constructors for our square class here we have one that takes a single parameterand we have another that takes three parameters.We have modified the class now to have many member variables.We have the side, we have the color, we have an integer which is going to represent the shading ofthe square and we have another double member variable for the position of the square on the screen.For example, suppose we are doing some visual application so we can set up our constructors like thisand they are going to work.They are going to be two separate constructors.We can look at the implementations of this constructors.The one parameter constructor is going to only initialize the side parameter and the others are goingto be left uninitialized in the body here and it is possible to do this, but I donâ€™t recommend it.But it is possible.So the second one is going to take three parameters.Itâ€™s going to have side parameter, the color and the shading.But notice that it is also leaving out the position and I have left this out on purpose because I havesomething to show you a little later in this lecture.So this constructor is also using our initializer list here.So side is going to be initialized with side param color is going to be initialized with color paramand shading is going to be initialized with shading parameter.This is going to work.But we are really duplicating work because we have two constructors really doing almost the same thing.It is possible for the single parameter constructor here to reuse the constructor that is taking threeparameters and this is what we call constructor delegation.The one parameter constructor on top is going to delegate the construction of its object to anotherconstructor and the syntax to do that is really simple.We can do constructor delegation using the syntax we see here.We have the constructor here.You see we have the function name, we have the parameters.Then weâ€™re going to put a colon and specify the constructor.We want to call and specify the arguments we want to call it with.Okay, so this really looks like initializer list and it is an initializer list, but it is callinganother constructor and which constructor it is called.And if we look down, weâ€™re going to see that we have a constructor that exactly takes three parametersand it is what we are passing here side param, the color and the shading information.And thatâ€™s what we pass in this constructor here.And the construction work for our object is no longer going to be done by this constructor here.Itâ€™s going to be done by the three parameter constructor.And when the job is done, weâ€™re going to hit the body of the one parameter constructor here.So we need to think about the sequence of events when we have a constructor delegation involved.So what is going to happen here?The one parameter constructor is going to be called if you pass one parameter when you are creatingyour object.So before we get into the body of the one parameter constructor, the compiler is going to realize theconstructor delegation and it is going to call the three parameter constructor to do the actual objectcreation.Then the three parameter constructor is going to construct the object and itâ€™s going to initialize theobject with the provided data.So weâ€™re going to use the arguments that are passed in the initializer list of our one parameter constructorhere.And then after the object is created, weâ€™re going to hit the body of the three parameter constructorbecause thatâ€™s the constructor that was called After the body of the three parameter constructor.Weâ€™re going to hit the body of the single parameter constructor and control is going to go back to Mainwhere we created the object.And one thing you should know is that all these calls to this constructor was can be seen in the callstack with the debugger.And youâ€™re going to see this in a minute.But now what we really want to know is the syntax to do constructor delegation and understand what thisis going to do.It is going to delegate the work to build the object to another constructor.And the syntax to do this is to use an initializer list which is going to call the other constructor.And this is really cool.Okay, some of you might be asking, okay, constructor delegation is good and we have seen that wecould use initializer list to do that.But what if I call the three parameter constructor myself like I do here?Well, I hate to break this to you, but this is not going to do what you want.This is not going to do constructor delegation.This is just going to create a local object of square and it is going to be thrown away when the bodyof this function finishes executing.So if you really want to do constructor.Delegation initializer lists are your only bet.This is one cases where we can only do this using initializer lists and the importance of initializerlist is only getting better.And this is a case where we can only do this thing using initializer lists.Another thing you should note with constructor delegation is that if you have done a constructor delegationin your class, you canâ€™t do any further initialization before or after the delegation call.So for example, if we look at the line here, we have our constructor delegation.We canâ€™t put up another initializer which is going to initialize the position.If we do this, the compiler is going to throw a compiler error.Itâ€™s not allowed.The line here is going to try and put the initialization for the position in front of the delegationcall.But this is also going to be a compiler error and you canâ€™t do that.This is disallowed by the compiler.Okay.So this is really how constructor delegation is going to work.And after you have done your constructor delegation, you can really do anything you want in the bodyof your one parameter constructor.Here, for example, we can take this chance to initialize the position member variable, which wasnâ€™tinitialized by any of the initializer list.And we can do this and it is going to work.Now that you know this, weâ€™re going to head over to Visual Studio code and show you this things inaction.Okay, Here we are in our working folder.The current project is constructor delegation.We are going to be reusing the code from the last lecture where we set up a square class.So letâ€™s grab the code from there.Weâ€™re going to grab our classes and weâ€™re going to grab the VS code folder because weâ€™re going to beusing this for our settings and then weâ€™re going to put this in our current project, which is constructeddelegation.Again, weâ€™re going to grab this and open this in Visual Studio code and this is going to open our folder.The first thing we want to do is to open up the main CPP file and see that we have everything we needthere.We donâ€™t really need to do the second call here because itâ€™s going to just give us a compiler error.What we want to learn about here is constructor delegation and weâ€™re just going to use our code likethis.We just want to use constructor delegation here.So letâ€™s head over to our square class and really modify it.Weâ€™re going to add a net variable, which is going to be our shading and weâ€™re going to add a doublevariable member variable, I should say, which is going to be our position.And we can open our square CPP file and close the left pane here because it is taking up space.So letâ€™s go to the header file and weâ€™re going to set up a constructor which is going to initializethree of these guys here.So letâ€™s do that.Weâ€™re going to put in a constructor which is going to take three parameters.Letâ€™s do that.Weâ€™re going to say Square and weâ€™re going to say double side parameters.Weâ€™re going to say const STD string, we can do this.Weâ€™re going to use a reference and this is going to be color param and weâ€™re going to say int shadingparam, this is going to be our thing and itâ€™s not going to have anything by default here.And I think we can even take out the constructor we have in front here and make it a one param constructor.This is going to help us better in what we want to show in this lecture here.Canâ€™t take out this semicolon.Letâ€™s do this and this is it.Letâ€™s go back to the CPP file and make sure that we have the implementations for these two constructors.Weâ€™re going to go to square dot CPP and weâ€™re going to see that we no longer have a one parameter constructor.We can change this and change this to only initialize the first guy and the others are going to be leftout.But we can put in another constructor which is going to initialize three parameters or three membervariables I should say.So weâ€™re going to say square and square and weâ€™re going to have a double side.Param I should go to the header and copy these parameters and because I canâ€™t remember how I named them,I can do that.So Iâ€™m going to put them in here and then weâ€™re going to letâ€™s check how we named our things.This should be m shading because itâ€™s a member variable and this should be M position because it isa member variable.This is just trying to stay consistent with our naming convention here.Weâ€™re going to put in our initializer list.So weâ€™re going to say M side, weâ€™re going to initialize this with side param and weâ€™re going to doM color and weâ€™re going to initialize this with color param and weâ€™re going to do M shading and weâ€™regoing to initialize this with shading param.Hopefully you see that naming your things consistently is going to help out.Okay, now we have the constructor.In place.But we really have two constructors that are different and they are going to be constructing.Objects here.But sometimes we want to make one constructor reuse the work that we have done in another constructor.So suppose, for example, the three parameter constructor here is doing some heavy computations andwe donâ€™t want to repeat all these computations in all these constructors and repeat our work.So a reasonable thing to do is to make the first constructor here, which is going to take one parameter.Use the constructor that is taking more parameters because we can pass default parameters when we callthe other constructor here, which takes more parameters.I realize this is a little bit convoluted, but stay with me.Weâ€™re going to explain these things step by step.Okay?So letâ€™s go down here and put in a few stdcout statements.Weâ€™re going to say iostream here because we want to print things out and weâ€™re going to say that theone parameter constructor was called.And down here weâ€™re going to say that the three parameter constructor was called.So letâ€™s go down here and put our body and make it aligned with what we did here.And our initializer list calls are not consistent here.We are using curlies, here we are using parentheses.I like to use curlies.So letâ€™s do that so that we really stay consistent here.Letâ€™s do this.Weâ€™re going to change this to use curly braces.And the last one is also going to use curly braces.This is going to be consistent here.So we have this weâ€™re going to go inside and put in our Stdcout statement and weâ€™re going to say thatthe three parameter constructor was called Letâ€™s go back in Main and see what we have there.We donâ€™t really want all this junk because we donâ€™t need this anymore.We just want to see what is used to build our object here.So letâ€™s take out the function here because we donâ€™t really need it anymore either.And we can build weâ€™re going to use GCC to build this.And you see, the build is good.If we bring up a terminal to run our program, we can clear and run Rooster.Weâ€™re going to see that one param constructor is called to build our object here, but we donâ€™t wantthe one param to do the job alone.We want to reuse the three param constructor, to use the logic we have in here to build our objectand we can do constructor delegation.The syntax to do constructor delegation is really simple.You just use initializer lists.So weâ€™re going to take out the initializer list we have here and weâ€™re going to change it to call thethree parameter constructor.So weâ€™re going to say Square and weâ€™re going to pass it all the parameters that it expects.We only have one.So we can, for example, say side parameter here, letâ€™s use Curly because thatâ€™s consistent.Weâ€™re going to say side param because thatâ€™s what we have here.So letâ€™s do that.And for the others weâ€™re going to just specify some values here to make the other constructor happy.So for example, we can specify a default value we want, letâ€™s say black.You just need to be able to handle all this information in your three parameter constructor.So we just want to make it happy here.And for shading, letâ€™s pass in a sex.Letâ€™s suppose this makes sense for whatever application we are building here and you see that VisualStudio code is going to accept this syntax.We have no squiggly lines, so this must be working here.But I want you to understand the sequence of events when we set up a call like this.But before we analyze that, letâ€™s build and see what is going to happen here.So letâ€™s build with GCC.Weâ€™re going to see that the world is good.So the calls here are going to be working.But letâ€™s see what we see in the terminal here.If we run our executable, weâ€™re going to see that the three parameter constructor was called.Then the one parameter constructor was called.So this hopefully proves that even if we call the single parameter constructor, the compiler is goingto use the three parameter constructor to build our object.After the object is created, weâ€™re going to hit the body of the three parameter constructor becausethatâ€™s what constructed our object.Then control is to go back to our constructor and give us a chance to do whatever we want to do in ourone parameter constructor here.We can even prove this with a debugger.So letâ€™s put a breakpoint on line seven here and put a breakpoint on line 13 here in the body of eachconstructor.And then weâ€™re going to try and run this through the debugger.We are going to go to our run tab here, which is what we always use to run the debugger.And by the way, you can go to the run menu here and hit start debugging.This is going to start debugging your application just like we do here.But I like to do things explicitly by coming here.So I.I am going to start my debugging session and we donâ€™t really need to see any other thing.The first thing we see is that we have hit the body of the three parameter constructor and look at whatwe have in Main.In Main we are calling the one parameter constructor, but we have hit the body of our three parameterconstructor.So what is going to happen is when we call the one parameter constructor, the compiler is going tohit the constructor here, but itâ€™s going to see that it is delegating the construction work to thethree parameter constructor.Then the three parameter constructor is going to be called.Weâ€™re going to hit its body.If we execute and get out of it, youâ€™re going to see that weâ€™re going to hit the body of the one parameterconstructor I just hit next a couple of times, and then Iâ€™m going to come in here.And if we hit step over, weâ€™re going to print the message here.And if we go to our terminal, weâ€™re going to see that the messages were printed out.And if we come out of this, weâ€™re going to come back to Main and our object is going to be alreadyconstructed.And if we look inside, weâ€™re going to see our information that was used to create the object here.This is really cool.And we can see all this data in our local variables here.So, for example, youâ€™re going to see that the color letâ€™s see if we can see this.Youâ€™re going to see that the color is black.It is really hidden in all these options here.But we can hunt that down and find that.So we have the color, we have the shading, we have the position, which is really a junk value becausewe didnâ€™t really initialize this, but you see that we can see our data.And the main message in this lecture is that we can do constructor delegation and the syntax to do thatis in our square CPP file.We can bring this back and you have to use the initializer list as you see here.So this is the syntax and you need to know this.Okay, so now that you know this, weâ€™re going to address the problem that some of you might be askingabout what we are doing here.So what if we donâ€™t use our initializer list?Letâ€™s comment this out anyway.So weâ€™re going to take out all this.We can comment this out and we donâ€™t use an initializer list and we call the constructor directly inour body, the body of our one parameter constructor.What if we do that?Letâ€™s do that.So weâ€™re going to say square and weâ€™re going to pass in side param because we have access to that andthen weâ€™re going to pass the other parameters here.The color is going to be black and the shading is going to be six.Letâ€™s do this and youâ€™re going to see that the compiler is really not going to complain, but it isnot going to do what you think it is going to do.Letâ€™s try and build the program and really see what is happening here.Hopefully we can see that we are going to build with JCC.Youâ€™re going to see that the world is good, but weâ€™re going to run Rooster and weâ€™re going to see thatthree parameter constructor called one parameter constructor called This still looks like what we hadin the last few runs, but what this is really doing, itâ€™s not doing the constructor delegation.This is constructing your object and destroying it on the spot because this is going to be a local objectfor our square class.We can prove this by putting some message in our destructor.So letâ€™s say Stdcout Square object destroyed and weâ€™re going to see that the three parameter constructoris going to be called, but its destructor is going to be called before we hit the end of this functionbody here.Letâ€™s build and see if this actually is easier to see.Youâ€™re going to see that the world is good and weâ€™re going to clear and run Rooster.Weâ€™re going to see that once we hit the body of the square constructor.The three parameter constructor is going to be called, which is what we have here.And the output statement is going to be coming from this guy here.But because the compiler sees that this guy will never be used, it is a temporary object.The compiler is going to destroy it right away and weâ€™re going to see square object destroyed here.Then weâ€™re going to print this one parameter constructor called Message here.And then weâ€™re going to say that the square object that we built in the main function here was destroyed.You really need to understand these things.Hopefully you see that if you call your constructor directly in the body of your constructor here,this is not going to do constructor delegation.And I want you to know this.So letâ€™s take this out and bring in our initializer list back.And this is going to do proper constructor delegation and letâ€™s try and build and run this program tosee if we see different output.Weâ€™re going to clear and run Rooster.Weâ€™re going to see that only the three parameter constructor is going to be called The one parameterconstructor is going to be called.After we do the proper object initialization, weâ€™re going to hit this body here.Weâ€™re going to hit.One param constructor called and we see that we destroy only one square object because we donâ€™t havea local object constructed in the body of one param constructor here.Hopefully this is clear now.Another thing I want you to see is that we canâ€™t do further initialization if we are doing constructordelegation here.So for example on this one param constructor of ours, we canâ€™t try and initialize the position membervariable here.If we do that, weâ€™re going to get a compiler error.So letâ€™s try and do that before.So weâ€™re going to say M position and weâ€™re going to put in any position.Letâ€™s put in 8.0 and put a comma here and weâ€™re going to put a comma after this.And letâ€™s use curly braces here.I canâ€™t really remember using curly braces here, so letâ€™s do that.If we do this, weâ€™re going to get a compiler error.You see that we have a squiggly line.The compiler is not going to support this.If you are using constructor delegation, the constructor delegation should be the only thing you havein your initializer list.If we build this, weâ€™re going to get some weird compiler error.And letâ€™s see that constructor delegation follows Member initializer list for square position and thisis not allowed.Weâ€™re going to have a compiler error if we try and put this position after the constructor delegation,weâ€™re also going to get the same thing because the compiler doesnâ€™t allow this.This is just how the compilers are wired and we have to live with this.If we do this, weâ€™re also going to get a squiggly line because this is not allowed.Letâ€™s world with GCC to show you this.Weâ€™re going to see a build error and it is basically going to be the same thing and you shouldnâ€™t reallydo this.So we canâ€™t have any further initialization before or after our constructor delegation here.Letâ€™s build and see that.Now this is building fine because we should prove this.We see the build is good, so the compiler is happy.Okay, So I think this really wraps up what I had to share with you in this lecture.But before I let you go, I want you to see that you can really do anything once you hit the body ofyour one parameter constructor.Here, for example, we can take this chance to initialize our position member variable, which is notinitialized by any of the initializer lists we have in here.So we can go in here and for example, put a value in our M position member variable.We can do this.So weâ€™re going to say M position equals 45.8, for example, and this is going to be accepted by thecompiler.If we build, weâ€™re going to see that the build is going to be good.Okay, the build is good and this is really all I hope now you know that you can do constructor delegationto offload the job to build your object to other constructors.Those constructors are going to take over your job to do construction and when they are done doing thejob, they are going to give you a chance to do whatever you want in your delegating constructor.As we see in this one Param constructor here, this is really all I had to share in this lecture.I hope you found it interesting.We are going to stop here in this one.In the next one weâ€™re going to learn about copy constructors.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼éå¸¸ä¹æ„å¸®åŠ©ä½ å­¦ä¹  C++ ä¸­çš„æ„é€ å‡½æ•°å§”æ‰˜ (constructor delegation)ã€‚è¿™ç¡®å®æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç‰¹æ€§ï¼Œèƒ½è®©ä½ çš„ä»£ç æ›´ç®€æ´ã€æ›´æ˜“äºç»´æŠ¤ã€‚</p>
<p>è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p>
<hr>
<h1 id="1-æ ‡é¢˜å’Œç®€ä»‹"><a href="#1-æ ‡é¢˜å’Œç®€ä»‹" class="headerlink" title="1. æ ‡é¢˜å’Œç®€ä»‹"></a>1. æ ‡é¢˜å’Œç®€ä»‹</h1><p><strong>æ ‡é¢˜ï¼š</strong> C++ æ„é€ å‡½æ•°å§”æ‰˜ (Constructor Delegation) ç²¾è®²ï¼šè®©æ„é€ å‡½æ•°äº’ç›¸åä½œ</p>
<p><strong>ç®€ä»‹ï¼š</strong> æœ¬èŠ‚è¯¾æˆ‘ä»¬å°†å­¦ä¹  C++ ä¸­çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§â€”â€”æ„é€ å‡½æ•°å§”æ‰˜ã€‚å®ƒå…è®¸ä¸€ä¸ªæ„é€ å‡½æ•° (constructor) è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°æ¥å®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œä»è€Œé¿å…ä»£ç é‡å¤ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<hr>
<h1 id="2-è¯¦ç»†è§£é‡Š"><a href="#2-è¯¦ç»†è§£é‡Š" class="headerlink" title="2. è¯¦ç»†è§£é‡Š"></a>2. è¯¦ç»†è§£é‡Š</h1><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ åœ¨è®¾è®¡ä¸€ä¸ªç±»ï¼Œæ¯”å¦‚ä¸€ä¸ª <code>Square</code> (æ­£æ–¹å½¢) ç±»ã€‚è¿™ä¸ªç±»å¯èƒ½æœ‰å¾ˆå¤šæˆå‘˜å˜é‡ (member variables)ï¼Œä¾‹å¦‚è¾¹é•¿ã€é¢œè‰²ã€é˜´å½±æ ·å¼ã€å±å¹•ä½ç½®ç­‰ç­‰ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾çš„ Square ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_side;         <span class="comment">// è¾¹é•¿</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;   <span class="comment">// é¢œè‰²</span></span><br><span class="line">    <span class="keyword">int</span> m_shading;         <span class="comment">// é˜´å½±æ ·å¼ (æ•´æ•°è¡¨ç¤º)</span></span><br><span class="line">    <span class="keyword">double</span> m_position_x;   <span class="comment">// Xè½´ä½ç½®</span></span><br><span class="line">    <span class="comment">// å¯èƒ½è¿˜æœ‰ m_position_y ç­‰ç­‰</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ... æ„é€ å‡½æ•°å’Œå…¶ä»–æ–¹æ³•</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>ç°åœ¨ï¼Œä½ å¯èƒ½éœ€è¦æä¾›å¤šç§æ–¹å¼æ¥åˆ›å»º <code>Square</code> å¯¹è±¡ï¼š</p>
<ul>
<li>åªæä¾›è¾¹é•¿ï¼Œå…¶ä»–ä½¿ç”¨é»˜è®¤å€¼ã€‚</li>
<li>æä¾›è¾¹é•¿ã€é¢œè‰²å’Œé˜´å½±æ ·å¼ï¼Œä½ç½®ä½¿ç”¨é»˜è®¤å€¼ã€‚</li>
<li>æä¾›æ‰€æœ‰å‚æ•°ã€‚</li>
</ul>
<p>å¦‚æœä¸ºæ¯ç§æƒ…å†µéƒ½å†™ä¸€ä¸ªå®Œæ•´çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªæ„é€ å‡½æ•°ä¸­éƒ½åˆ†åˆ«åˆå§‹åŒ–è¿™äº›æˆå‘˜å˜é‡ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šåˆå§‹åŒ–é€»è¾‘æ˜¯é‡å¤çš„ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ä½¿ç”¨æ„é€ å‡½æ•°å§”æ‰˜çš„ä¾‹å­ (å†—ä½™ä»£ç )</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_side;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line">    <span class="keyword">int</span> m_shading;</span><br><span class="line">    <span class="keyword">double</span> m_position_x;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°1: åªæ¥å—è¾¹é•¿</span></span><br><span class="line">    Square(<span class="keyword">double</span> side_param) &#123;</span><br><span class="line">        m_side = side_param;</span><br><span class="line">        m_color = <span class="string">"black"</span>;    <span class="comment">// é»˜è®¤é¢œè‰²</span></span><br><span class="line">        m_shading = <span class="number">0</span>;        <span class="comment">// é»˜è®¤é˜´å½±</span></span><br><span class="line">        m_position_x = <span class="number">0.0</span>;   <span class="comment">// é»˜è®¤ä½ç½®</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å•å‚æ•°æ„é€ å‡½æ•°è¢«è°ƒç”¨ (ç‹¬ç«‹å®ç°)\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°2: æ¥å—è¾¹é•¿ã€é¢œè‰²ã€é˜´å½±</span></span><br><span class="line">    Square(<span class="keyword">double</span> side_param, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color_param, <span class="keyword">int</span> shading_param) &#123;</span><br><span class="line">        m_side = side_param;</span><br><span class="line">        m_color = color_param;</span><br><span class="line">        m_shading = shading_param;</span><br><span class="line">        m_position_x = <span class="number">0.0</span>;   <span class="comment">// é»˜è®¤ä½ç½® (ä»ç„¶æœ‰é‡å¤çš„é»˜è®¤å€¼è®¾ç½®)</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¸‰å‚æ•°æ„é€ å‡½æ•°è¢«è°ƒç”¨ (ç‹¬ç«‹å®ç°)\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ... å¯èƒ½è¿˜æœ‰å…¶ä»–æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Side: "</span> &lt;&lt; m_side</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color</span><br><span class="line">                  &lt;&lt; <span class="string">", Shading: "</span> &lt;&lt; m_shading</span><br><span class="line">                  &lt;&lt; <span class="string">", Position X: "</span> &lt;&lt; m_position_x &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>ä¸Šé¢è¿™ç§æ–¹å¼ï¼Œ<code>m_position_x = 0.0;</code> è¿™è¡Œä»£ç ï¼Œä»¥åŠå…¶ä»–å¯èƒ½çš„é»˜è®¤å€¼è®¾ç½®ï¼Œå°±å¯èƒ½åœ¨å¤šä¸ªæ„é€ å‡½æ•°ä¸­é‡å¤å‡ºç°ã€‚å¦‚æœä»¥å <code>m_position_x</code> çš„é»˜è®¤å€¼éœ€è¦ä¿®æ”¹ï¼Œä½ å°±å¾—ä¿®æ”¹æ‰€æœ‰ç›¸å…³çš„æ„é€ å‡½æ•°ï¼Œå¾ˆå®¹æ˜“é—æ¼ã€‚</p>
<p><strong>æ„é€ å‡½æ•°å§”æ‰˜ (Constructor Delegation) å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚</strong></p>
<p>å®ƒå…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°å°†å¯¹è±¡çš„å®é™…æ„å»ºå·¥ä½œâ€œå§”æ‰˜â€ç»™åŒä¸€ä¸ªç±»ä¸­çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<p>æ„é€ å‡½æ•°å§”æ‰˜çš„è¯­æ³•éå¸¸ç®€æ´ï¼Œå®ƒå‘ç”Ÿåœ¨æ„é€ å‡½æ•°çš„ <strong>åˆå§‹åŒ–åˆ—è¡¨ (initializer list)</strong> ä½ç½®ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ClassName(parameters_for_this_constructor) : AnotherConstructorInSameClass(arguments_for_delegated_constructor) &#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ„é€ å‡½æ•°è‡ªå·±çš„å‡½æ•°ä½“ (body)</span></span><br><span class="line">    <span class="comment">// åœ¨è¢«å§”æ‰˜çš„æ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè¿™é‡Œçš„ä»£ç æ‰ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<ul>
<li><code>ClassName(parameters_for_this_constructor)</code>: è¿™æ˜¯å®šä¹‰å½“å‰æ„é€ å‡½æ•°ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œå§”æ‰˜æ„é€ å‡½æ•° (delegating constructor)â€ï¼‰ã€‚</li>
<li><code>:</code>: å†’å·ï¼Œæ ‡å¿—ç€åˆå§‹åŒ–åˆ—è¡¨çš„å¼€å§‹ã€‚</li>
<li><code>AnotherConstructorInSameClass(arguments_for_delegated_constructor)</code>: è¿™å°±æ˜¯å§”æ‰˜çš„æ ¸å¿ƒã€‚å®ƒçœ‹èµ·æ¥åƒæ˜¯åœ¨è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œç›®æ ‡æ„é€ å‡½æ•° (target constructor)â€æˆ–â€œè¢«å§”æ‰˜çš„æ„é€ å‡½æ•°â€ï¼‰ã€‚ä½ ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„å‚æ•°å¯ä»¥æ˜¯å§”æ‰˜æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸¸é‡å€¼æˆ–é»˜è®¤å€¼ã€‚</li>
<li><code>{ ... }</code>: å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ã€‚</li>
</ul>
<p><strong>æ‰§è¡Œé¡ºåºï¼š</strong></p>
<p>å½“ä½ ä½¿ç”¨æ„é€ å‡½æ•°å§”æ‰˜æ—¶ï¼Œæ‰§è¡Œé¡ºåºéå¸¸é‡è¦ï¼š</p>
<ol>
<li>å½“ä½ è°ƒç”¨ä¸€ä¸ªå§”æ‰˜æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨é¦–å…ˆä¼šè¯†åˆ«å‡ºè¿™æ˜¯ä¸€ä¸ªå§”æ‰˜è°ƒç”¨ã€‚</li>
<li><strong>ç›®æ ‡æ„é€ å‡½æ•° (è¢«å§”æ‰˜çš„é‚£ä¸ª) ä¼šé¦–å…ˆè¢«æ‰§è¡Œã€‚</strong><ul>
<li>ç›®æ ‡æ„é€ å‡½æ•°è‡ªå·±çš„åˆå§‹åŒ–åˆ—è¡¨ï¼ˆå¦‚æœæœ‰çš„è¯ï¼Œä½†å®ƒä¸èƒ½å†å§”æ‰˜ç»™åˆ«çš„æ„é€ å‡½æ•°äº†ï¼Œé™¤éæ˜¯ä¸åŒçš„å§”æ‰˜é“¾ï¼‰ä¼šå…ˆæ‰§è¡Œã€‚</li>
<li>ç„¶åç›®æ ‡æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ä¼šæ‰§è¡Œã€‚</li>
</ul>
</li>
<li>åœ¨ç›®æ ‡æ„é€ å‡½æ•°å®Œå…¨æ‰§è¡Œå®Œæ¯•åï¼Œ<strong>æ§åˆ¶æƒè¿”å›åˆ°å§”æ‰˜æ„é€ å‡½æ•°</strong>ã€‚</li>
<li><strong>å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ (body) æ‰ä¼šæ‰§è¡Œã€‚</strong></li>
</ol>
<p><strong>ä¸€ä¸ªå…³é”®ç‚¹ï¼š</strong> å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°ä½¿ç”¨äº†å§”æ‰˜ï¼Œé‚£ä¹ˆåœ¨å®ƒçš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œ<strong>ä¸èƒ½å†å¯¹å…¶ä»–æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–äº†</strong>ã€‚å§”æ‰˜è°ƒç”¨å¿…é¡»æ˜¯åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å”¯ä¸€é¡¹ï¼ˆç›¸å¯¹äºæˆå‘˜åˆå§‹åŒ–è€Œè¨€ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¿™æ˜¯ <strong>é”™è¯¯</strong> çš„ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºèŒƒï¼</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MyClass(<span class="keyword">int</span> val_a) : MyClass(val_a, <span class="number">100</span>), b(val_a) &#123; <span class="comment">// é”™è¯¯ï¼ä¸èƒ½åŒæ—¶å§”æ‰˜å’Œåˆå§‹åŒ–å…¶ä»–æˆå‘˜</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">    MyClass(<span class="keyword">int</span> val_a, <span class="keyword">int</span> val_b) : a(val_a), b(val_b) &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>æ­£ç¡®çš„åšæ³•æ˜¯ï¼Œå°†æ‰€æœ‰åˆå§‹åŒ–å·¥ä½œéƒ½äº¤ç»™ç›®æ ‡æ„é€ å‡½æ•°ï¼Œæˆ–è€…åœ¨å§”æ‰˜æ„é€ å‡½æ•°çš„ <em>å‡½æ•°ä½“</em> å†…è¿›è¡ŒæŸäº›æ“ä½œï¼ˆä½†æ­¤æ—¶æˆå‘˜å˜é‡å·²ç»è¢«ç›®æ ‡æ„é€ å‡½æ•°åˆå§‹åŒ–è¿‡äº†ï¼‰ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½åœ¨æ„é€ å‡½æ•°ä½“å†…éƒ¨ç›´æ¥è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°æ¥å®ç°å§”æ‰˜ï¼Ÿ</strong></p>
<p>ä½ å¯èƒ½ä¼šæƒ³ï¼šâ€œæˆ‘èƒ½ä¸èƒ½åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“é‡Œï¼Œåƒè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°å‘¢ï¼Ÿâ€ æ¯”å¦‚ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯¯è§£ï¼Œå¹¶ä¸èƒ½å®ç°æ„é€ å‡½æ•°å§”æ‰˜ï¼</span></span><br><span class="line">Square(<span class="keyword">double</span> side_param) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å•å‚æ•°æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å¼€å§‹\n"</span>;</span><br><span class="line">    Square(side_param, <span class="string">"default_color"</span>, <span class="number">0</span>); <span class="comment">// è­¦å‘Šï¼è¿™ä¸æ˜¯å§”æ‰˜ï¼</span></span><br><span class="line">    <span class="comment">// m_side = side_param; // å‡è®¾è¿™ä¸ªæ„é€ å‡½æ•°åŸæœ¬æ˜¯æƒ³åšè¿™äº›äº‹çš„</span></span><br><span class="line">    <span class="comment">// m_color = "default_color";</span></span><br><span class="line">    <span class="comment">// m_shading = 0;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å•å‚æ•°æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ç»“æŸ\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å¦‚æœä½ è¿™æ ·åšï¼Œ<code>Square(side_param, &quot;default_color&quot;, 0);</code> <strong>å¹¶ä¸ä¼š</strong> åœ¨å½“å‰æ­£åœ¨æ„é€ çš„å¯¹è±¡ä¸Šè°ƒç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ç›¸åï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ã€ä¸´æ—¶çš„ã€å±€éƒ¨çš„ <code>Square</code> å¯¹è±¡ã€‚è¿™ä¸ªä¸´æ—¶å¯¹è±¡åœ¨è¿™ä¸€è¡Œä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•å¼•ç”¨æŒ‡å‘å®ƒï¼Œå®ƒé€šå¸¸ä¼šç«‹å³è¢«é”€æ¯ã€‚ä½ åŸæœ¬æƒ³è¦åˆå§‹åŒ–çš„é‚£ä¸ªå¯¹è±¡ï¼Œå…¶æˆå‘˜å˜é‡å¯èƒ½ä»ç„¶æ˜¯æœªåˆå§‹åŒ–æˆ–è€…å¤„äºä¸ç¡®å®šçŠ¶æ€ï¼ˆé™¤éä½ åœ¨åç»­ä»£ç ä¸­æ‰‹åŠ¨èµ‹å€¼ï¼‰ã€‚</p>
<p><strong>æ‰€ä»¥ï¼Œå®ç°æ„é€ å‡½æ•°å§”æ‰˜çš„å”¯ä¸€æ­£ç¡®æ–¹æ³•å°±æ˜¯ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨çš„ç‰¹æ®Šè¯­æ³•ã€‚</strong></p>
<p><strong>åœ¨å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ä¸­å¯ä»¥åšä»€ä¹ˆï¼Ÿ</strong></p>
<p>è™½ç„¶åœ¨ä½¿ç”¨äº†å§”æ‰˜çš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ä¸èƒ½å†åˆå§‹åŒ–å…¶ä»–æˆå‘˜ï¼Œä½†ä½ ä»ç„¶å¯ä»¥åœ¨å®ƒçš„ <strong>å‡½æ•°ä½“ (body)</strong> ä¸­æ‰§è¡Œå…¶ä»–é€»è¾‘ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¯¹è±¡å·²ç»è¢«ç›®æ ‡æ„é€ å‡½æ•°å®Œå…¨æ„å»ºå¥½äº†ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œä¸€äº›é¢å¤–çš„è®¾ç½®ã€æ‰“å°æ—¥å¿—ã€æˆ–è€…æ‰§è¡Œä¸€äº›ä¸é€‚åˆæ”¾åœ¨ç›®æ ‡æ„é€ å‡½æ•°ä¸­çš„ç‰¹å®šäºæ­¤å§”æ‰˜æ„é€ å‡½æ•°çš„é€»è¾‘ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨æˆ‘ä»¬çš„ <code>Square</code> ä¾‹å­ä¸­ï¼Œå‡è®¾ç›®æ ‡æ„é€ å‡½æ•°æ²¡æœ‰åˆå§‹åŒ– <code>m_position_x</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ä¸­å®Œæˆï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Square.h</span></span><br><span class="line"><span class="comment">// class Square &#123;</span></span><br><span class="line"><span class="comment">// private:</span></span><br><span class="line"><span class="comment">//     double m_side;</span></span><br><span class="line"><span class="comment">//     std::string m_color;</span></span><br><span class="line"><span class="comment">//     int m_shading;</span></span><br><span class="line"><span class="comment">//     double m_position_x;</span></span><br><span class="line"><span class="comment">// public:</span></span><br><span class="line"><span class="comment">//     Square(double side_param); // å§”æ‰˜æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">//     Square(double side_param, const std::string&amp; color_param, int shading_param); // ç›®æ ‡æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="comment">//     // ...</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Square.cpp</span></span><br><span class="line">Square::Square(<span class="keyword">double</span> side_param, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color_param, <span class="keyword">int</span> shading_param)</span><br><span class="line">    : m_side&#123;side_param&#125;, m_color&#123;color_param&#125;, m_shading&#123;shading_param&#125;, m_position_x&#123;<span class="number">0.0</span>&#125; &#123; <span class="comment">// ç›®æ ‡æ„é€ å‡½æ•°åˆå§‹åŒ–æ‰€æœ‰ï¼ˆæˆ–å¤§éƒ¨åˆ†ï¼‰</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç›®æ ‡ (ä¸‰å‚æ•°) æ„é€ å‡½æ•°è¢«è°ƒç”¨ã€‚\n"</span>;</span><br><span class="line">    <span class="comment">// m_position_x = 0.0; // æˆ–è€…åœ¨è¿™é‡Œåˆå§‹åŒ–ï¼Œå¦‚æœé€»è¾‘æ›´å¤æ‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Square::Square(<span class="keyword">double</span> side_param)</span><br><span class="line">    : Square(side_param, <span class="string">"default_black"</span>, <span class="number">1</span>) &#123; <span class="comment">// å§”æ‰˜ç»™ä¸‰å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ (å•å‚æ•°) æ„é€ å‡½æ•°è¢«è°ƒç”¨ã€‚\n"</span>;</span><br><span class="line">    <span class="comment">// æ­¤æ—¶ï¼Œm_side, m_color, m_shading å·²ç»è¢«ç›®æ ‡æ„é€ å‡½æ•°åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">// m_position_x ä¹Ÿè¢«ç›®æ ‡æ„é€ å‡½æ•°åˆå§‹åŒ–ä¸º 0.0</span></span><br><span class="line">    <span class="comment">// å¦‚æœéœ€è¦ï¼Œå¯ä»¥åœ¨è¿™é‡Œè¦†ç›–æˆ–åšé¢å¤–å¤„ç†</span></span><br><span class="line">    <span class="comment">// æ¯”å¦‚: this-&gt;m_position_x = specific_value_for_this_constructor;</span></span><br><span class="line">    <span class="comment">// ä½†é€šå¸¸ï¼Œå¦‚æœç›®æ ‡æ„é€ å‡½æ•°å·²ç»å¤„ç†äº†æ‰€æœ‰å¿…è¦çš„åˆå§‹åŒ–ï¼Œè¿™é‡Œå¯èƒ½ä¸ºç©ºã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>æ€»ç»“ä¸€ä¸‹æ„é€ å‡½æ•°å§”æ‰˜çš„å¥½å¤„ï¼š</strong></p>
<ol>
<li><strong>å‡å°‘ä»£ç é‡å¤ (Code Duplication)ï¼š</strong> è¿™æ˜¯æœ€ä¸»è¦çš„å¥½å¤„ã€‚æ ¸å¿ƒçš„åˆå§‹åŒ–é€»è¾‘åªéœ€è¦å†™åœ¨ä¸€ä¸ªï¼ˆæˆ–å°‘æ•°å‡ ä¸ªï¼‰ç›®æ ‡æ„é€ å‡½æ•°ä¸­ã€‚</li>
<li><strong>æé«˜å¯ç»´æŠ¤æ€§ï¼š</strong> å¦‚æœéœ€è¦ä¿®æ”¹åˆå§‹åŒ–é€»è¾‘ï¼ˆæ¯”å¦‚æŸä¸ªæˆå‘˜çš„é»˜è®¤å€¼ï¼‰ï¼Œåªéœ€è¦ä¿®æ”¹ç›®æ ‡æ„é€ å‡½æ•°ï¼Œæ‰€æœ‰å§”æ‰˜ç»™å®ƒçš„æ„é€ å‡½æ•°éƒ½ä¼šè‡ªåŠ¨å—ç›Šã€‚</li>
<li><strong>æ›´æ¸…æ™°çš„æ„å›¾ï¼š</strong> å®ƒæ¸…æ¥šåœ°è¡¨æ˜æŸäº›æ„é€ å‡½æ•°æ˜¯åŸºäºå…¶ä»–æ„é€ å‡½æ•°æ¥æ„å»ºå¯¹è±¡çš„ã€‚</li>
</ol>
<hr>
<h1 id="3-ä»£ç ç¤ºä¾‹"><a href="#3-ä»£ç ç¤ºä¾‹" class="headerlink" title="3. ä»£ç ç¤ºä¾‹"></a>3. ä»£ç ç¤ºä¾‹</h1><p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªæ›´å®Œæ•´çš„ <code>Square</code> ç±»æ¥æ¼”ç¤ºæ„é€ å‡½æ•°å§”æ‰˜ã€‚</p>
<p><strong>Square.h (å¤´æ–‡ä»¶)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SQUARE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SQUARE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // ä¸ºäº†åœ¨æ„é€ å‡½æ•°ä¸­æ‰“å°ä¿¡æ¯</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_side;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line">    <span class="keyword">int</span> m_shading;</span><br><span class="line">    <span class="keyword">double</span> m_position_x; <span class="comment">// å‡è®¾è¿˜æœ‰ä¸€ä¸ªä½ç½®æˆå‘˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç›®æ ‡æ„é€ å‡½æ•°: åˆå§‹åŒ–æ‰€æœ‰æ ¸å¿ƒæˆå‘˜</span></span><br><span class="line">    Square(<span class="keyword">double</span> side_param, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color_param, <span class="keyword">int</span> shading_param, <span class="keyword">double</span> position_x_param);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°1: åªæä¾›è¾¹é•¿ï¼Œé¢œè‰²ã€é˜´å½±å’Œä½ç½®ä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">    <span class="comment">// å®ƒå°†å§”æ‰˜ç»™ä¸Šé¢çš„å››å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    Square(<span class="keyword">double</span> side_param);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°2: æä¾›è¾¹é•¿å’Œé¢œè‰²ï¼Œé˜´å½±å’Œä½ç½®ä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">    <span class="comment">// å®ƒä¹Ÿå°†å§”æ‰˜ç»™ä¸Šé¢çš„å››å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    Square(<span class="keyword">double</span> side_param, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color_param);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•° (destructor)ï¼Œç”¨äºæ¼”ç¤ºä¸´æ—¶å¯¹è±¡é—®é¢˜</span></span><br><span class="line">    ~Square();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// SQUARE_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>Square.cpp (å®ç°æ–‡ä»¶)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›®æ ‡æ„é€ å‡½æ•° (Target Constructor)</span></span><br><span class="line">Square::Square(<span class="keyword">double</span> side_param, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color_param, <span class="keyword">int</span> shading_param, <span class="keyword">double</span> position_x_param)</span><br><span class="line">    : m_side&#123;side_param&#125;, m_color&#123;color_param&#125;, m_shading&#123;shading_param&#125;, m_position_x&#123;position_x_param&#125; &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç›®æ ‡æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨. Side: "</span> &lt;&lt; m_side &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color &lt;&lt; <span class="string">", Shading: "</span> &lt;&lt; m_shading &lt;&lt; <span class="string">", PosX: "</span> &lt;&lt; m_position_x &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°1 (Delegating Constructor)</span></span><br><span class="line">Square::Square(<span class="keyword">double</span> side_param)</span><br><span class="line">    : Square(side_param, <span class="string">"Default Black"</span>, <span class="number">0</span>, <span class="number">0.0</span>) &#123; <span class="comment">// å§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">// ä¸Šé¢é‚£è¡Œæ˜¯å§”æ‰˜è°ƒç”¨ï¼Œå®ƒå¿…é¡»æ˜¯åˆå§‹åŒ–åˆ—è¡¨ä¸­çš„å”¯ä¸€ï¼ˆå…³äºæˆå‘˜åˆå§‹åŒ–ï¼‰çš„é¡¹</span></span><br><span class="line">    <span class="comment">// ä¸èƒ½åœ¨è¿™é‡Œå†™ : m_some_other_member(value)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜æ„é€ å‡½æ•° (1ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨. Side: "</span> &lt;&lt; m_side &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// æ­¤æ—¶å¯¹è±¡å·²ç»ç”±ç›®æ ‡æ„é€ å‡½æ•°æ„å»ºå®Œæ¯•</span></span><br><span class="line">    <span class="comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›è¿™ä¸ªæ„é€ å‡½æ•°ç‰¹æœ‰çš„é¢å¤–äº‹æƒ…</span></span><br><span class="line">    <span class="comment">// ä¾‹å¦‚ï¼Œå¦‚æœ m_position_x éœ€è¦æ ¹æ® side_param åšç‰¹æ®Šè®¡ç®—ï¼Œè€Œç›®æ ‡æ„é€ å‡½æ•°åªè®¾ç½®äº†é€šç”¨é»˜è®¤å€¼</span></span><br><span class="line">    <span class="comment">// this-&gt;m_position_x = side_param * 0.5; // ä¸¾ä¾‹ï¼Œè¦†ç›–æˆ–è°ƒæ•´</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°2 (Delegating Constructor)</span></span><br><span class="line">Square::Square(<span class="keyword">double</span> side_param, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color_param)</span><br><span class="line">    : Square(side_param, color_param, <span class="number">5</span>, <span class="number">0.0</span>) &#123; <span class="comment">// å§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨. Side: "</span> &lt;&lt; m_side &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Square::~Square() &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ææ„å‡½æ•°è¢«è°ƒç”¨ for Square with side: "</span> &lt;&lt; m_side &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Square::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Square Info -&gt; Side: "</span> &lt;&lt; m_side</span><br><span class="line">              &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color</span><br><span class="line">              &lt;&lt; <span class="string">", Shading: "</span> &lt;&lt; m_shading</span><br><span class="line">              &lt;&lt; <span class="string">", Position X: "</span> &lt;&lt; m_position_x &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤ºåœ¨æ„é€ å‡½æ•°ä½“å†…â€œè°ƒç”¨â€æ„é€ å‡½æ•°çš„é”™è¯¯åšæ³•</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">demonstrate_wrong_delegation_attempt</span><span class="params">(<span class="keyword">double</span> side)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- æ¼”ç¤ºé”™è¯¯å§”æ‰˜å°è¯• ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ„é€ å‡½æ•°æœ¬èº«æ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨å®ƒæ¥æ¼”ç¤ºä¸€ä¸ªé”™è¯¯çš„è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TempSquare</span> &#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="keyword">double</span> val;</span><br><span class="line">        TempSquare(<span class="keyword">double</span> v) : val(v) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  TempSquare("</span> &lt;&lt; v &lt;&lt; <span class="string">") æ„é€ å‡½æ•°è¢«è°ƒç”¨ (ä¸ºäº†æ¼”ç¤ºé”™è¯¯åšæ³•)."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TempSquare(<span class="keyword">double</span> v, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; c) : val(v) &#123;</span><br><span class="line">             <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  TempSquare("</span> &lt;&lt; v &lt;&lt; <span class="string">", "</span> &lt;&lt; c &lt;&lt; <span class="string">") æ„é€ å‡½æ•°è¢«è°ƒç”¨."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ~TempSquare() &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  TempSquare("</span> &lt;&lt; val &lt;&lt; <span class="string">") ææ„å‡½æ•°è¢«è°ƒç”¨."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é”™è¯¯å°è¯•ï¼šåœ¨å‡½æ•°ä½“å†…è°ƒç”¨æ„é€ å‡½æ•°</span></span><br><span class="line">        TempSquare(<span class="keyword">double</span> v, <span class="keyword">int</span> <span class="comment">/*dummy to differentiate*/</span>) : val(<span class="number">0.0</span>) &#123; <span class="comment">// åˆå§‹åŒ– val ä»¥é¿å…æœªå®šä¹‰è¡Œä¸º</span></span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  TempSquare("</span> &lt;&lt; v &lt;&lt; <span class="string">", int) æ„é€ å‡½æ•°ä½“å¼€å§‹. å½“å‰ val: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;val &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">            TempSquare(v, <span class="string">"red"</span>); <span class="comment">// è¿™ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œç„¶åç«‹å³é”€æ¯å®ƒï¼</span></span><br><span class="line">                                  <span class="comment">// å®ƒä¸ä¼šä¿®æ”¹å½“å‰æ­£åœ¨æ„é€ çš„ TempSquare å¯¹è±¡çš„ val</span></span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  TempSquare("</span> &lt;&lt; v &lt;&lt; <span class="string">", int) æ„é€ å‡½æ•°ä½“ç»“æŸ. å½“å‰ val: "</span> &lt;&lt; <span class="keyword">this</span>-&gt;val &lt;&lt; <span class="string">" (æ³¨æ„ï¼Œæ²¡æœ‰è¢«ä¿®æ”¹æˆ "</span> &lt;&lt; v &lt;&lt; <span class="string">")\n"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function">TempSquare <span class="title">ts1</span><span class="params">(side, <span class="number">123</span>)</span></span>; <span class="comment">// è°ƒç”¨é‚£ä¸ªæ¼”ç¤ºé”™è¯¯å§”æ‰˜çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  ts1.val after construction: "</span> &lt;&lt; ts1.val &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- æ¼”ç¤ºé”™è¯¯å§”æ‰˜å°è¯•ç»“æŸ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>main.cpp (ä¸»ç¨‹åº)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º s1 (ä½¿ç”¨1ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°):\n"</span>;</span><br><span class="line">    <span class="function">Square <span class="title">s1</span><span class="params">(<span class="number">10.0</span>)</span></span>;</span><br><span class="line">    s1.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º s2 (ä½¿ç”¨2ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°):\n"</span>;</span><br><span class="line">    <span class="function">Square <span class="title">s2</span><span class="params">(<span class="number">5.0</span>, <span class="string">"Blue"</span>)</span></span>;</span><br><span class="line">    s2.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º s3 (ä½¿ç”¨4ä¸ªå‚æ•°çš„æ„é€ å‡½æ•° - ç›®æ ‡æ„é€ å‡½æ•°ç›´æ¥è°ƒç”¨):\n"</span>;</span><br><span class="line">    <span class="function">Square <span class="title">s3</span><span class="params">(<span class="number">2.0</span>, <span class="string">"Green"</span>, <span class="number">3</span>, <span class="number">25.5</span>)</span></span>;</span><br><span class="line">    s3.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¼”ç¤ºé”™è¯¯å§”æ‰˜å°è¯•</span></span><br><span class="line">    demonstrate_wrong_delegation_attempt(<span class="number">7.7</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¨‹åºç»“æŸå‰ï¼Œs1, s2, s3 å°†æŒ‰é€†åºé”€æ¯ã€‚\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>ç¼–è¯‘å’Œè¿è¡Œï¼š</strong><br>ä½ éœ€è¦å°† <code>Square.cpp</code> å’Œ <code>main.cpp</code> ä¸€èµ·ç¼–è¯‘ã€‚ä¾‹å¦‚ä½¿ç”¨ g++ï¼š<br><code>g++ main.cpp Square.cpp -o constructor_delegation_demo -std=c++11</code><br>(æ„é€ å‡½æ•°å§”æ‰˜æ˜¯ C++11 å¼•å…¥çš„ç‰¹æ€§ï¼Œæ‰€ä»¥ç¡®ä¿ä½ çš„ç¼–è¯‘å™¨æ”¯æŒ C++11 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œå¹¶å¯èƒ½éœ€è¦æŒ‡å®š <code>-std=c++11</code> æˆ–æ›´é«˜ï¼Œå¦‚ <code>-std=c++17</code>)</p>
<p>ç„¶åè¿è¡Œ: <code>./constructor_delegation_demo</code></p>
<p><strong>é¢„æœŸè¾“å‡ºåˆ†æï¼š</strong><br>ä½ ä¼šçœ‹åˆ°ï¼š</p>
<ol>
<li>åˆ›å»º <code>s1</code> æ—¶ï¼š<ul>
<li>é¦–å…ˆè¾“å‡º â€œç›®æ ‡æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨â€¦â€ (å› ä¸º <code>Square(double)</code> å§”æ‰˜ç»™äº†å®ƒ)ã€‚</li>
<li>ç„¶åè¾“å‡º â€œå§”æ‰˜æ„é€ å‡½æ•° (1ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨â€¦â€ã€‚</li>
</ul>
</li>
<li>åˆ›å»º <code>s2</code> æ—¶ï¼š<ul>
<li>é¦–å…ˆè¾“å‡º â€œç›®æ ‡æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨â€¦â€ (å› ä¸º <code>Square(double, string)</code> å§”æ‰˜ç»™äº†å®ƒ)ã€‚</li>
<li>ç„¶åè¾“å‡º â€œå§”æ‰˜æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨â€¦â€ã€‚</li>
</ul>
</li>
<li>åˆ›å»º <code>s3</code> æ—¶ï¼š<ul>
<li>åªè¾“å‡º â€œç›®æ ‡æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨â€¦â€ (å› ä¸ºå®ƒå°±æ˜¯ç›®æ ‡æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰å§”æ‰˜)ã€‚</li>
</ul>
</li>
<li>åœ¨ <code>demonstrate_wrong_delegation_attempt</code> ä¸­ï¼š<ul>
<li>ä½ ä¼šçœ‹åˆ° <code>TempSquare(v, &quot;red&quot;)</code> ç¡®å®è°ƒç”¨äº†å¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œä½†ç´§æ¥ç€å®ƒçš„ææ„å‡½æ•°ä¹Ÿè¢«è°ƒç”¨äº†ï¼Œè¡¨æ˜å®ƒæ˜¯ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸçŸ­æš‚çš„ä¸´æ—¶å¯¹è±¡ã€‚åŸå¯¹è±¡çš„ <code>val</code> å¹¶æ²¡æœ‰è¢«è¿™ä¸ªä¸´æ—¶å¯¹è±¡çš„æ„é€ æ‰€å½±å“ã€‚</li>
</ul>
</li>
<li>æœ€åï¼Œå½“ <code>main</code> å‡½æ•°ç»“æŸæ—¶ï¼Œ<code>s3</code>, <code>s2</code>, <code>s1</code> (æŒ‰æ ˆçš„é€†åº) çš„ææ„å‡½æ•°ä¼šè¢«è°ƒç”¨ã€‚</li>
</ol>
<p>è¿™ä¸ªä¾‹å­æ¸…æ™°åœ°å±•ç¤ºäº†æ„é€ å‡½æ•°å§”æ‰˜çš„æµç¨‹å’Œå¥½å¤„ï¼Œä»¥åŠé”™è¯¯å°è¯•çš„åæœã€‚</p>
<hr>
<h1 id="4-QA-é—ªå¡-QA-Flash-Cards"><a href="#4-QA-é—ªå¡-QA-Flash-Cards" class="headerlink" title="4. QA é—ªå¡ (QA Flash Cards)"></a>4. QA é—ªå¡ (QA Flash Cards)</h1><p><strong>é—ªå¡ 1</strong><br>Q: ä»€ä¹ˆæ˜¯ C++ ä¸­çš„æ„é€ å‡½æ•°å§”æ‰˜ (constructor delegation)ï¼Ÿ<br>A: ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°æ¥å®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–ã€‚</p>
<p><strong>é—ªå¡ 2</strong><br>Q: ä½¿ç”¨æ„é€ å‡½æ•°å§”æ‰˜çš„ä¸»è¦ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ<br>A: é¿å…æ„é€ å‡½æ•°ä¹‹é—´çš„ä»£ç é‡å¤ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<p><strong>é—ªå¡ 3</strong><br>Q: å¦‚ä½•åœ¨ C++ ä¸­å®ç°æ„é€ å‡½æ•°å§”æ‰˜ (è¯­æ³•)ï¼Ÿ<br>A: åœ¨å§”æ‰˜æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ (initializer list) ä¸­ï¼Œä½¿ç”¨ <code>: ClassName(arguments)</code> çš„å½¢å¼è°ƒç”¨ç›®æ ‡æ„é€ å‡½æ•°ã€‚</p>
<p><strong>é—ªå¡ 4</strong><br>Q: å½“ä½¿ç”¨æ„é€ å‡½æ•°å§”æ‰˜æ—¶ï¼Œå“ªä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“å…ˆæ‰§è¡Œï¼Ÿç›®æ ‡æ„é€ å‡½æ•°è¿˜æ˜¯å§”æ‰˜æ„é€ å‡½æ•°ï¼Ÿ<br>A: ç›®æ ‡æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å…ˆæ‰§è¡Œï¼Œç„¶åæ˜¯å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ã€‚</p>
<p><strong>é—ªå¡ 5</strong><br>Q: å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒè¿˜èƒ½åœ¨è‡ªå·±çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–å…¶ä»–æˆå‘˜å˜é‡å—ï¼Ÿ<br>A: ä¸å¯ä»¥ã€‚å§”æ‰˜è°ƒç”¨å¿…é¡»æ˜¯åˆå§‹åŒ–åˆ—è¡¨ä¸­å…³äºæˆå‘˜åˆå§‹åŒ–çš„å”¯ä¸€é¡¹ã€‚</p>
<p><strong>é—ªå¡ 6</strong><br>Q: åœ¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„å‡½æ•°ä½“ (body) ä¸­ç›´æ¥è°ƒç”¨ <code>ClassName(...)</code> ä¼šå®ç°å§”æ‰˜å—ï¼Ÿ<br>A: ä¸ä¼šã€‚è¿™ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ã€å±€éƒ¨çš„ <code>ClassName</code> å¯¹è±¡ï¼Œè€Œä¸æ˜¯å§”æ‰˜ç»™å½“å‰å¯¹è±¡çš„å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚</p>
<hr>
<h1 id="5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><a href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯" class="headerlink" title="5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"></a>5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</h1><ol>
<li><p><strong>åœ¨å‡½æ•°ä½“å†…è°ƒç”¨æ„é€ å‡½æ•°è¿›è¡Œå§”æ‰˜ï¼š</strong></p>
<ul>
<li><strong>è¯¯è§£ï¼š</strong> <code>MyClass() { MyClass(defaultValue); }</code> å¯ä»¥å®ç°å§”æ‰˜ã€‚</li>
<li><strong>äº‹å®ï¼š</strong> è¿™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ã€ä¸´æ—¶çš„ <code>MyClass</code> å¯¹è±¡ï¼Œå®ƒä¸å½“å‰æ­£åœ¨æ„é€ çš„å¯¹è±¡æ— å…³ï¼Œå¹¶ä¸”é€šå¸¸ä¼šç«‹å³è¢«é”€æ¯ã€‚å½“å‰å¯¹è±¡çš„æˆå‘˜å¯èƒ½ä»æœªåˆå§‹åŒ–æˆ–åˆå§‹åŒ–ä¸æ­£ç¡®ã€‚</li>
<li><strong>æ­£ç¡®åšæ³•ï¼š</strong> å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨è¯­æ³• <code>MyClass() : MyClass(defaultValue) {}</code>ã€‚</li>
</ul>
</li>
<li><p><strong>åœ¨å§”æ‰˜çš„åŒæ—¶å°è¯•åˆå§‹åŒ–å…¶ä»–æˆå‘˜å˜é‡ï¼š</strong></p>
<ul>
<li><strong>è¯¯è§£ï¼š</strong> <code>MyClass(int x) : MyClass(x, 0), m_someOtherMember(10) {}</code> æ˜¯å…è®¸çš„ã€‚</li>
<li><strong>äº‹å®ï¼š</strong> è¿™æ˜¯ç¼–è¯‘é”™è¯¯ã€‚å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°ä½¿ç”¨äº†å§”æ‰˜ï¼Œé‚£ä¹ˆè¯¥å§”æ‰˜è°ƒç”¨å¿…é¡»æ˜¯å…¶åˆå§‹åŒ–åˆ—è¡¨ä¸­å”¯ä¸€è´Ÿè´£ï¼ˆç›´æ¥æˆ–é—´æ¥ï¼‰æˆå‘˜åˆå§‹åŒ–çš„é¡¹ã€‚ä½ ä¸èƒ½æ—¢å§”æ‰˜æ„é€ ï¼Œåˆåœ¨åŒä¸€ä¸ªåˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–å…¶ä»–æˆå‘˜ã€‚</li>
<li><strong>æ­£ç¡®åšæ³•ï¼š</strong> è¦ä¹ˆè®©ç›®æ ‡æ„é€ å‡½æ•°è´Ÿè´£æ‰€æœ‰åˆå§‹åŒ–ï¼Œè¦ä¹ˆåœ¨å§”æ‰˜æ„é€ å‡½æ•°çš„ <em>å‡½æ•°ä½“</em> ä¸­è¿›è¡Œåç»­çš„èµ‹å€¼æ“ä½œï¼ˆæ­¤æ—¶å¯¹è±¡å·²è¢«ç›®æ ‡æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>å¯¹æ‰§è¡Œé¡ºåºçš„å›°æƒ‘ï¼š</strong></p>
<ul>
<li><strong>è¯¯è§£ï¼š</strong> å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å…ˆæ‰§è¡Œï¼Œç„¶åå†è°ƒç”¨ç›®æ ‡æ„é€ å‡½æ•°ã€‚</li>
<li><strong>äº‹å®ï¼š</strong> é¡ºåºæ˜¯ï¼šå§”æ‰˜æ„é€ å‡½æ•°è¢«è°ƒç”¨ -&gt; ç›®æ ‡æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨å’Œå‡½æ•°ä½“è¢«æ‰§è¡Œ -&gt; å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“è¢«æ‰§è¡Œã€‚</li>
</ul>
</li>
<li><p><strong>å¿˜è®°æä¾›æ‰€æœ‰å¿…è¦çš„å‚æ•°ç»™ç›®æ ‡æ„é€ å‡½æ•°ï¼š</strong></p>
<ul>
<li>å¦‚æœç›®æ ‡æ„é€ å‡½æ•°éœ€è¦å¤šä¸ªå‚æ•°ï¼Œä½ åœ¨å§”æ‰˜æ—¶å¿…é¡»æä¾›æ‰€æœ‰è¿™äº›å‚æ•°ï¼Œæ— è®ºæ˜¯é€šè¿‡ä¼ é€’å§”æ‰˜æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œè¿˜æ˜¯ä½¿ç”¨é»˜è®¤å€¼/å¸¸é‡ã€‚</li>
</ul>
</li>
<li><p><strong>è¿‡åº¦å§”æ‰˜æˆ–å½¢æˆå§”æ‰˜ç¯è·¯ (è™½ç„¶ç¼–è¯‘å™¨é€šå¸¸ä¼šæ•æ‰åˆ°ç›´æ¥ç¯è·¯)ï¼š</strong></p>
<ul>
<li>ä¾‹å¦‚ï¼š<code>C1() : C2() {}</code>ï¼Œ<code>C2() : C1() {}</code>ã€‚è¿™ä¼šå¯¼è‡´æ— é™é€’å½’ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è®¾è®¡å§”æ‰˜é“¾æ—¶è¦ç¡®ä¿æœ‰ä¸€ä¸ªæ˜ç¡®çš„â€œæœ€ç»ˆâ€ç›®æ ‡æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
<li><p><strong>ä¸ç†è§£å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“çš„æ‰§è¡Œæ—¶æœºï¼š</strong></p>
<ul>
<li>å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“æ˜¯åœ¨å¯¹è±¡å·²ç»ç”±ç›®æ ‡æ„é€ å‡½æ•°å®Œå…¨æ„å»ºä¹‹åæ‰æ‰§è¡Œçš„ã€‚è¿™æ„å‘³ç€åœ¨å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…ï¼Œæ‰€æœ‰æˆå‘˜å˜é‡ï¼ˆè‡³å°‘é‚£äº›ç”±ç›®æ ‡æ„é€ å‡½æ•°åˆå§‹åŒ–çš„ï¼‰éƒ½å·²ç»æœ‰äº†æœ‰æ•ˆçš„å€¼ã€‚ä½ å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥è¿›è¡Œä¸€äº›åªæœ‰è¿™ä¸ªç‰¹å®šå§”æ‰˜æ„é€ å‡½æ•°æ‰éœ€è¦çš„é¢å¤–è°ƒæ•´æˆ–æ“ä½œã€‚</li>
</ul>
</li>
</ol>
<hr>
<h1 id="6-ç¼–ç ç»ƒä¹ "><a href="#6-ç¼–ç ç»ƒä¹ " class="headerlink" title="6. ç¼–ç ç»ƒä¹ "></a>6. ç¼–ç ç»ƒä¹ </h1><p>ç°åœ¨ï¼Œè½®åˆ°ä½ æ¥è¯•è¯•èº«æ‰‹äº†ï¼ä¸‹é¢æ˜¯ä¸€ä¸ª <code>Rectangle</code> (çŸ©å½¢) ç±»çš„éª¨æ¶ã€‚ä½ éœ€è¦å®Œæˆå®ƒï¼Œä½¿å¾—å…¶ä¸­ä¸€ä¸ªæ„é€ å‡½æ•°å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚</p>
<p><strong>Rectangle.h</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> RECTANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECTANGLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line">    <span class="keyword">int</span> m_border_style; <span class="comment">// 0 for none, 1 for solid, 2 for dashed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç›®æ ‡æ„é€ å‡½æ•°: åˆå§‹åŒ–æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color, <span class="keyword">int</span> border_style)</span><br><span class="line">        : m_width&#123;width&#125;, m_height&#123;height&#125;, m_color&#123;color&#125;, m_border_style&#123;border_style&#125; &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  Width: "</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color &lt;&lt; <span class="string">", Border: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 1: è¿™æ˜¯ä¸€ä¸ªåªæ¥å—å®½åº¦å’Œé«˜åº¦çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// è¯·è®©å®ƒå§”æ‰˜ç»™ä¸Šé¢çš„å››å‚æ•°æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º color æä¾›é»˜è®¤å€¼ "Red"ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 1 (solid)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height)</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ æ„é€ å‡½æ•°å§”æ‰˜è°ƒç”¨ï¼Œæ›¿æ¢æ‰ä¸‹é¢çš„ç©ºåˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">        : <span class="comment">/* <span class="doctag">TODO:</span> ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ä¸€äº›é¢å¤–çš„é€»è¾‘ï¼Œå¦‚æœéœ€è¦çš„è¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 2: è¿™æ˜¯ä¸€ä¸ªåªæ¥å—å®½åº¦ã€é«˜åº¦å’Œé¢œè‰²çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// è¯·è®©å®ƒä¹Ÿå§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 0 (none)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color)</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ æ„é€ å‡½æ•°å§”æ‰˜è°ƒç”¨ï¼Œæ›¿æ¢æ‰ä¸‹é¢çš„ç©ºåˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">        : <span class="comment">/* <span class="doctag">TODO:</span> ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (3ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle Info -&gt; Width: "</span> &lt;&lt; m_width</span><br><span class="line">                  &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color</span><br><span class="line">                  &lt;&lt; <span class="string">", Border Style: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Rectangle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle ("</span> &lt;&lt; m_width &lt;&lt; <span class="string">"x"</span> &lt;&lt; m_height &lt;&lt; <span class="string">") ææ„.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// RECTANGLE_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>main.cpp (ç”¨äºæµ‹è¯•ä½ çš„ä»£ç )</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Rectangle.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- åˆ›å»º rect1 (ä½¿ç”¨2ä¸ªå‚æ•°) ---\n"</span>;</span><br><span class="line">    <span class="function">Rectangle <span class="title">rect1</span><span class="params">(<span class="number">10.0</span>, <span class="number">5.0</span>)</span></span>;</span><br><span class="line">    rect1.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- åˆ›å»º rect2 (ä½¿ç”¨3ä¸ªå‚æ•°) ---\n"</span>;</span><br><span class="line">    <span class="function">Rectangle <span class="title">rect2</span><span class="params">(<span class="number">7.0</span>, <span class="number">3.0</span>, <span class="string">"Blue"</span>)</span></span>;</span><br><span class="line">    rect2.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- åˆ›å»º rect3 (ä½¿ç”¨4ä¸ªå‚æ•°) ---\n"</span>;</span><br><span class="line">    <span class="function">Rectangle <span class="title">rect3</span><span class="params">(<span class="number">2.0</span>, <span class="number">2.0</span>, <span class="string">"Green"</span>, <span class="number">2</span>)</span></span>;</span><br><span class="line">    rect3.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¨‹åºå³å°†ç»“æŸã€‚\n"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p>è¯·ä½ ä¿®æ”¹ <code>Rectangle.h</code> ä¸­æ ‡è®°ä¸º <code>/* TODO: ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</code> çš„éƒ¨åˆ†ï¼Œå®ç°æ„é€ å‡½æ•°å§”æ‰˜ã€‚å®Œæˆåï¼Œå°†ä½ ä¿®æ”¹åçš„ <code>Rectangle.h</code> æ–‡ä»¶å†…å®¹å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ æ£€æŸ¥å¹¶ç»™å‡ºåé¦ˆã€‚</p>
<p>ç¥ä½ ç¼–ç æ„‰å¿«ï¼</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> RECTANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECTANGLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line">    <span class="keyword">int</span> m_border_style; <span class="comment">// 0 for none, 1 for solid, 2 for dashed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç›®æ ‡æ„é€ å‡½æ•°: åˆå§‹åŒ–æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color, <span class="keyword">int</span> border_style)</span><br><span class="line">        : m_width&#123;width&#125;, m_height&#123;height&#125;, m_color&#123;color&#125;, m_border_style&#123;border_style&#125; &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  Width: "</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color &lt;&lt; <span class="string">", Border: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 1: è¿™æ˜¯ä¸€ä¸ªåªæ¥å—å®½åº¦å’Œé«˜åº¦çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// è¯·è®©å®ƒå§”æ‰˜ç»™ä¸Šé¢çš„å››å‚æ•°æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º color æä¾›é»˜è®¤å€¼ "Red"ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 1 (solid)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height)</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ æ„é€ å‡½æ•°å§”æ‰˜è°ƒç”¨ï¼Œæ›¿æ¢æ‰ä¸‹é¢çš„ç©ºåˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">        : Rectangle(width, height, <span class="string">"red"</span>, <span class="number">1</span>)<span class="comment">/* <span class="doctag">TODO:</span> ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ä¸€äº›é¢å¤–çš„é€»è¾‘ï¼Œå¦‚æœéœ€è¦çš„è¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 2: è¿™æ˜¯ä¸€ä¸ªåªæ¥å—å®½åº¦ã€é«˜åº¦å’Œé¢œè‰²çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// è¯·è®©å®ƒä¹Ÿå§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 0 (none)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color)</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ æ„é€ å‡½æ•°å§”æ‰˜è°ƒç”¨ï¼Œæ›¿æ¢æ‰ä¸‹é¢çš„ç©ºåˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">        : Rectangle(width, height, color, <span class="number">1</span>)<span class="comment">/* <span class="doctag">TODO:</span> ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (3ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle Info -&gt; Width: "</span> &lt;&lt; m_width</span><br><span class="line">                  &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color</span><br><span class="line">                  &lt;&lt; <span class="string">", Border Style: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Rectangle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle ("</span> &lt;&lt; m_width &lt;&lt; <span class="string">"x"</span> &lt;&lt; m_height &lt;&lt; <span class="string">") ææ„.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// RECTANGLE_H</span></span></span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¤ªæ£’äº†ï¼ä½ å·²ç»å°è¯•å®Œæˆäº†è¿™ä¸ªç»ƒä¹ ï¼Œè¿™éå¸¸å¥½ï¼æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ä½ çš„ä»£ç ã€‚</p>
<hr>
<h1 id="7-è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><a href="#7-è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š" class="headerlink" title="7. è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"></a>7. è¯„ä»·ä½ çš„è§£ç­”ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</h1><p>ä½ çš„è§£ç­”ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> RECTANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECTANGLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line">    <span class="keyword">int</span> m_border_style; <span class="comment">// 0 for none, 1 for solid, 2 for dashed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç›®æ ‡æ„é€ å‡½æ•°: åˆå§‹åŒ–æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color, <span class="keyword">int</span> border_style)</span><br><span class="line">        : m_width&#123;width&#125;, m_height&#123;height&#125;, m_color&#123;color&#125;, m_border_style&#123;border_style&#125; &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  Width: "</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color &lt;&lt; <span class="string">", Border: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 1: è¿™æ˜¯ä¸€ä¸ªåªæ¥å—å®½åº¦å’Œé«˜åº¦çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// è¯·è®©å®ƒå§”æ‰˜ç»™ä¸Šé¢çš„å››å‚æ•°æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º color æä¾›é»˜è®¤å€¼ "Red"ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 1 (solid)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height)</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ æ„é€ å‡½æ•°å§”æ‰˜è°ƒç”¨ï¼Œæ›¿æ¢æ‰ä¸‹é¢çš„ç©ºåˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">        : Rectangle(width, height, <span class="string">"red"</span>, <span class="number">1</span>)<span class="comment">/* ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</span> &#123; <span class="comment">// &lt;-- ä½ çš„å®ç°1</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ä¸€äº›é¢å¤–çš„é€»è¾‘ï¼Œå¦‚æœéœ€è¦çš„è¯</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 2: è¿™æ˜¯ä¸€ä¸ªåªæ¥å—å®½åº¦ã€é«˜åº¦å’Œé¢œè‰²çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// è¯·è®©å®ƒä¹Ÿå§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 0 (none)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color)</span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> åœ¨è¿™é‡Œæ·»åŠ æ„é€ å‡½æ•°å§”æ‰˜è°ƒç”¨ï¼Œæ›¿æ¢æ‰ä¸‹é¢çš„ç©ºåˆå§‹åŒ–åˆ—è¡¨</span></span><br><span class="line">        : Rectangle(width, height, color, <span class="number">1</span>)<span class="comment">/* ä½ çš„ä»£ç åœ¨è¿™é‡Œ */</span> &#123; <span class="comment">// &lt;-- ä½ çš„å®ç°2</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (3ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle Info -&gt; Width: "</span> &lt;&lt; m_width</span><br><span class="line">                  &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color</span><br><span class="line">                  &lt;&lt; <span class="string">", Border Style: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Rectangle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle ("</span> &lt;&lt; m_width &lt;&lt; <span class="string">"x"</span> &lt;&lt; m_height &lt;&lt; <span class="string">") ææ„.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// RECTANGLE_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>è¯„ä»·ï¼š</strong></p>
<ul>
<li><p><strong>ç»ƒä¹ 1 (<code>Rectangle(double width, double height)</code>)ï¼š</strong></p>
<ul>
<li><code>: Rectangle(width, height, &quot;red&quot;, 1)</code></li>
<li><strong>åšå¾—éå¸¸å¥½ï¼</strong> è¿™é‡Œçš„å§”æ‰˜è°ƒç”¨æ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚ä½ æ­£ç¡®åœ°å°† <code>width</code> å’Œ <code>height</code> å‚æ•°ä¼ é€’äº†ä¸‹å»ï¼Œå¹¶ä¸º <code>color</code> æä¾›äº†å­—ç¬¦ä¸²å­—é¢é‡ <code>&quot;red&quot;</code> (å®ƒä¼šéšå¼è½¬æ¢ä¸º <code>std::string</code>)ï¼Œä¸º <code>border_style</code> æä¾›äº†æ•´æ•° <code>1</code>ã€‚è¿™å®Œå…¨ç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚</li>
</ul>
</li>
<li><p><strong>ç»ƒä¹ 2 (<code>Rectangle(double width, double height, const std::string&amp; color)</code>)ï¼š</strong></p>
<ul>
<li><code>: Rectangle(width, height, color, 1)</code></li>
<li><strong>è¿™é‡Œæœ‰ä¸€ä¸ªå°å°çš„åå·®ã€‚</strong> é¢˜ç›®è¦æ±‚æ˜¯ä¸º <code>border_style</code> æä¾›é»˜è®¤å€¼ <code>0</code> (none)ï¼Œä½†ä½ çš„ä»£ç ä¸­æä¾›çš„æ˜¯ <code>1</code>ã€‚ä¸è¿‡ï¼Œå§”æ‰˜çš„è¯­æ³•æœ¬èº«æ˜¯æ­£ç¡®çš„ï¼Œåªæ˜¯æä¾›çš„é»˜è®¤å€¼ä¸è¦æ±‚ä¸ç¬¦ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ€»ä½“è¯„åˆ†ï¼š4.5 / 5 æ˜Ÿ</strong> â­â­â­â­âœ¨</p>
<p>ä½ å¯¹æ„é€ å‡½æ•°å§”æ‰˜çš„è¯­æ³•å’ŒåŸºæœ¬ç”¨æ³•æŒæ¡å¾—å¾ˆå¥½ï¼åªæ˜¯åœ¨ç»ƒä¹ 2ä¸­å¯¹é¢˜ç›®è¦æ±‚çš„ç»†èŠ‚ç¨æœ‰ç–å¿½ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“ä¿®æ­£çš„å°é—®é¢˜ã€‚</p>
<hr>
<p><strong>æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Šï¼š</strong></p>
<p>ä¸‹é¢æ˜¯ä¿®æ­£äº†ç»ƒä¹ 2ä¸­é»˜è®¤å€¼çš„ <code>Rectangle.h</code>ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> RECTANGLE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RECTANGLE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line">    <span class="keyword">int</span> m_border_style; <span class="comment">// 0 for none, 1 for solid, 2 for dashed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ç›®æ ‡æ„é€ å‡½æ•° (Target Constructor): åˆå§‹åŒ–æ‰€æœ‰æˆå‘˜</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color, <span class="keyword">int</span> border_style)</span><br><span class="line">        : m_width&#123;width&#125;, m_height&#123;height&#125;, m_color&#123;color&#125;, m_border_style&#123;border_style&#125; &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  Width: "</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color &lt;&lt; <span class="string">", Border: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 1: å§”æ‰˜æ„é€ å‡½æ•° (Delegating Constructor)</span></span><br><span class="line">    <span class="comment">// ä¸º color æä¾›é»˜è®¤å€¼ "Red"ã€‚</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 1 (solid)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height)</span><br><span class="line">        : Rectangle(width, height, <span class="string">"Red"</span>, <span class="number">1</span>) &#123; <span class="comment">// æ­£ç¡®: å§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»ƒä¹ 2: å§”æ‰˜æ„é€ å‡½æ•° (Delegating Constructor)</span></span><br><span class="line">    <span class="comment">// ä¸º border_style æä¾›é»˜è®¤å€¼ 0 (none)ã€‚</span></span><br><span class="line">    Rectangle(<span class="keyword">double</span> width, <span class="keyword">double</span> height, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color)</span><br><span class="line">        : Rectangle(width, height, color, <span class="number">0</span>) &#123; <span class="comment">// æ­£ç¡®: å§”æ‰˜ç»™å››å‚æ•°æ„é€ å‡½æ•°ï¼Œborder_style ä¿®æ­£ä¸º 0</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (3ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle Info -&gt; Width: "</span> &lt;&lt; m_width</span><br><span class="line">                  &lt;&lt; <span class="string">", Height: "</span> &lt;&lt; m_height</span><br><span class="line">                  &lt;&lt; <span class="string">", Color: "</span> &lt;&lt; m_color</span><br><span class="line">                  &lt;&lt; <span class="string">", Border Style: "</span> &lt;&lt; m_border_style &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Rectangle() &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle ("</span> &lt;&lt; m_width &lt;&lt; <span class="string">"x"</span> &lt;&lt; m_height &lt;&lt; <span class="string">") ææ„.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// RECTANGLE_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong>è§£é‡Šï¼š</strong></p>
<ol>
<li><p><strong><code>Rectangle(double width, double height)</code> çš„å§”æ‰˜ï¼š</strong></p>
<ul>
<li><code>: Rectangle(width, height, &quot;Red&quot;, 1)</code></li>
<li>æˆ‘ä»¬è°ƒç”¨äº† <code>Rectangle(double, double, const std::string&amp;, int)</code> è¿™ä¸ªç›®æ ‡æ„é€ å‡½æ•°ã€‚</li>
<li><code>width</code> (æ¥è‡ªä¸¤å‚æ•°æ„é€ å‡½æ•°çš„å‚æ•°) è¢«ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li>
<li><code>height</code> (æ¥è‡ªä¸¤å‚æ•°æ„é€ å‡½æ•°çš„å‚æ•°) è¢«ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</li>
<li><code>&quot;Red&quot;</code> (ä¸€ä¸ªCé£æ ¼å­—ç¬¦ä¸²å­—é¢é‡ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸º <code>std::string</code> ç±»å‹) ä½œä¸ºé¢œè‰²ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</li>
<li><code>1</code> ä½œä¸ºè¾¹æ¡†æ ·å¼ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„ç¬¬å››ä¸ªå‚æ•°ã€‚</li>
<li>ä¹‹åï¼Œ<code>å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.</code> è¿™è¡Œä¼šæ‰“å°å‡ºæ¥ã€‚</li>
</ul>
</li>
<li><p><strong><code>Rectangle(double width, double height, const std::string&amp; color)</code> çš„å§”æ‰˜ï¼š</strong></p>
<ul>
<li><code>: Rectangle(width, height, color, 0)</code></li>
<li>åŒæ ·ï¼Œæˆ‘ä»¬è°ƒç”¨äº†å››å‚æ•°çš„ç›®æ ‡æ„é€ å‡½æ•°ã€‚</li>
<li><code>width</code> å’Œ <code>height</code> ç›´æ¥ä¼ é€’ã€‚</li>
<li><code>color</code> (æ¥è‡ªä¸‰å‚æ•°æ„é€ å‡½æ•°çš„å‚æ•°) è¢«ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</li>
<li><code>0</code> (æ ¹æ®é¢˜ç›®ä¿®æ­£åçš„å€¼) ä½œä¸ºè¾¹æ¡†æ ·å¼ä¼ é€’ç»™ç›®æ ‡æ„é€ å‡½æ•°çš„ç¬¬å››ä¸ªå‚æ•°ã€‚</li>
<li>ä¹‹åï¼Œ<code>å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (3ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.</code> è¿™è¡Œä¼šæ‰“å°å‡ºæ¥ã€‚</li>
</ul>
</li>
</ol>
<p>ä½¿ç”¨ <code>main.cpp</code> æµ‹è¯•ä¿®æ­£åçš„ä»£ç ï¼Œä½ ä¼šå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†å§”æ‰˜çš„æµç¨‹ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">--- åˆ›å»º rect1 (ä½¿ç”¨2ä¸ªå‚æ•°) ---</span><br><span class="line">ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.</span><br><span class="line">  Width: 10, Height: 5, Color: Red, Border: 1</span><br><span class="line">å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (2ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.</span><br><span class="line">Rectangle Info -&gt; Width: 10, Height: 5, Color: Red, Border Style: 1</span><br><span class="line"></span><br><span class="line">--- åˆ›å»º rect2 (ä½¿ç”¨3ä¸ªå‚æ•°) ---</span><br><span class="line">ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.</span><br><span class="line">  Width: 7, Height: 3, Color: Blue, Border: 0</span><br><span class="line">å§”æ‰˜ Rectangle æ„é€ å‡½æ•° (3ä¸ªå‚æ•°) çš„å‡½æ•°ä½“è¢«è°ƒç”¨.</span><br><span class="line">Rectangle Info -&gt; Width: 7, Height: 3, Color: Blue, Border Style: 0</span><br><span class="line"></span><br><span class="line">--- åˆ›å»º rect3 (ä½¿ç”¨4ä¸ªå‚æ•°) ---</span><br><span class="line">ç›®æ ‡ Rectangle æ„é€ å‡½æ•° (4ä¸ªå‚æ•°) è¢«è°ƒç”¨.</span><br><span class="line">  Width: 2, Height: 2, Color: Green, Border: 2</span><br><span class="line">Rectangle Info -&gt; Width: 2, Height: 2, Color: Green, Border Style: 2</span><br><span class="line"></span><br><span class="line">ç¨‹åºå³å°†ç»“æŸã€‚</span><br><span class="line">Rectangle (2x2) ææ„.</span><br><span class="line">Rectangle (7x3) ææ„.</span><br><span class="line">Rectangle (10x5) ææ„.</span><br></pre></td></tr></table></figure></div>
<p>è¿™ä¸ªè¾“å‡ºå®Œç¾åœ°å±•ç¤ºäº†ï¼š</p>
<ul>
<li>å³ä½¿æˆ‘ä»¬è°ƒç”¨çš„æ˜¯ä¸¤å‚æ•°æˆ–ä¸‰å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå››å‚æ•°çš„ç›®æ ‡æ„é€ å‡½æ•°æ€»æ˜¯å…ˆè¢«æ‰§è¡Œã€‚</li>
<li>ç„¶åï¼Œç›¸åº”çš„å§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“æ‰è¢«æ‰§è¡Œã€‚</li>
<li>å¯¹è±¡çš„æˆå‘˜å˜é‡ç¡®å®æ˜¯æ ¹æ®æˆ‘ä»¬æä¾›çš„å‚æ•°å’Œé»˜è®¤å€¼è¢«æ­£ç¡®åˆå§‹åŒ–çš„ã€‚</li>
</ul>
<hr>
<h1 id="8-å»ºè®®å’Œæ‰©å±•é—®é¢˜"><a href="#8-å»ºè®®å’Œæ‰©å±•é—®é¢˜" class="headerlink" title="8. å»ºè®®å’Œæ‰©å±•é—®é¢˜"></a>8. å»ºè®®å’Œæ‰©å±•é—®é¢˜</h1><p><strong>å»ºè®®ï¼š</strong></p>
<ol>
<li><strong>ä¿æŒä¸€è‡´æ€§ï¼š</strong> å½“ä½ ä¸ºå§”æ‰˜æ„é€ å‡½æ•°æä¾›é»˜è®¤å€¼æ—¶ï¼Œç¡®ä¿è¿™äº›å€¼ä¸ä½ çš„è®¾è®¡æ„å›¾å’Œç±»çš„æ•´ä½“è¡Œä¸ºä¸€è‡´ã€‚æ¯”å¦‚ä¾‹å­ä¸­çš„é¢œè‰²å­—ç¬¦ä¸²ï¼Œâ€Redâ€ å’Œ â€œredâ€ è™½ç„¶åœ¨è¿™é‡Œæ•ˆæœä¸€æ ·ï¼Œä½†åœ¨å¤§å°å†™æ•æ„Ÿçš„æ¯”è¾ƒä¸­ä¼šæœ‰å·®å¼‚ã€‚ä¿æŒä¸€ç§é£æ ¼ï¼ˆæ¯”å¦‚éƒ½ç”¨é¦–å­—æ¯å¤§å†™ï¼‰ä¼šæ›´å¥½ã€‚</li>
<li><strong>æ˜ç¡®ç›®æ ‡æ„é€ å‡½æ•°ï¼š</strong> åœ¨è®¾è®¡å…·æœ‰å¤šä¸ªæ„é€ å‡½æ•°çš„ç±»æ—¶ï¼Œå¯ä»¥è€ƒè™‘å°†ä¸€ä¸ªåŠŸèƒ½æœ€å…¨ã€èƒ½åˆå§‹åŒ–æ‰€æœ‰æ ¸å¿ƒæˆå‘˜çš„æ„é€ å‡½æ•°ä½œä¸ºä¸»è¦çš„â€œç›®æ ‡æ„é€ å‡½æ•°â€ã€‚å…¶ä»–æ„é€ å‡½æ•°åˆ™é€šè¿‡å§”æ‰˜å¹¶æä¾›é»˜è®¤å€¼æ¥è°ƒç”¨å®ƒã€‚</li>
<li><strong>å–„ç”¨ <code>const</code> å’Œå¼•ç”¨ï¼š</strong> å¯¹äºåƒ <code>std::string</code> è¿™æ ·çš„ç±»å‹ï¼Œå¦‚æœåªæ˜¯è¯»å–å®ƒä»¬çš„å€¼ï¼Œåœ¨å‚æ•°ä¼ é€’æ—¶ä½¿ç”¨ <code>const std::string&amp;</code> é€šå¸¸æ¯”ä¼ å€¼ <code>std::string</code> æ›´é«˜æ•ˆï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„æ‹·è´ã€‚ä½ çš„ç›®æ ‡æ„é€ å‡½æ•°å·²ç»è¿™æ ·åšäº†ï¼Œéå¸¸å¥½ï¼</li>
</ol>
<p><strong>æ‰©å±•é—®é¢˜ä¾›ä½ æ€è€ƒå’Œç ”ç©¶ï¼š</strong></p>
<ol>
<li><strong>å§”æ‰˜é“¾ (Delegation Chain)ï¼š</strong> ä¸€ä¸ªæ„é€ å‡½æ•° <code>A</code> å¯ä»¥å§”æ‰˜ç»™æ„é€ å‡½æ•° <code>B</code>ï¼Œæ„é€ å‡½æ•° <code>B</code> èƒ½å¦å†å§”æ‰˜ç»™æ„é€ å‡½æ•° <code>C</code>ï¼Ÿï¼ˆæç¤ºï¼šå¯ä»¥ï¼Œä½†è¦å°å¿ƒä¸è¦å½¢æˆå¾ªç¯å§”æ‰˜ã€‚ï¼‰å¦‚æœå¯ä»¥ï¼Œæ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿ</li>
<li><strong>æ„é€ å‡½æ•°å§”æ‰˜ä¸é»˜è®¤å‚æ•° (Default Arguments)ï¼š</strong> åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å‘ç°ä½¿ç”¨æ„é€ å‡½æ•°çš„é»˜è®¤å‚æ•°ä¹Ÿèƒ½è¾¾åˆ°ç±»ä¼¼å‡å°‘ä»£ç é‡å¤çš„æ•ˆæœã€‚ä¾‹å¦‚ï¼š<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gadget</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Gadget(<span class="keyword">int</span> i, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; n = <span class="string">"DefaultGadget"</span>) : id(i), name(n) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Gadget("</span> &lt;&lt; id &lt;&lt; <span class="string">", "</span> &lt;&lt; name &lt;&lt; <span class="string">") constructed.\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Gadget(int i) : Gadget(i, "DefaultGadget") &#123;&#125; // ä¹Ÿå¯ä»¥ç”¨å§”æ‰˜</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
æ„é€ å‡½æ•°å§”æ‰˜å’Œé»˜è®¤å‚æ•°åœ¨å“ªäº›åœºæ™¯ä¸‹å„æœ‰ä¼˜åŠ¿ï¼Ÿä»€ä¹ˆæ—¶å€™ä½ ä¼šå€¾å‘äºä½¿ç”¨å…¶ä¸­ä¸€ç§è€Œä¸æ˜¯å¦ä¸€ç§ï¼Ÿï¼ˆæç¤ºï¼šè€ƒè™‘å½“é»˜è®¤å€¼çš„ç¡®å®šé€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œæˆ–è€…ä½ æƒ³åœ¨ä¸åŒçš„â€œå…¥å£â€æ„é€ å‡½æ•°ä½“ä¸­æ‰§è¡Œä¸åŒé€»è¾‘æ—¶ã€‚ï¼‰</li>
<li><strong>æ„é€ å‡½æ•°å§”æ‰˜ä¸ <code>explicit</code> å…³é”®å­—ï¼š</strong> <code>explicit</code> å…³é”®å­—ç”¨äºé˜²æ­¢å•å‚æ•°æ„é€ å‡½æ•°çš„éšå¼ç±»å‹è½¬æ¢ã€‚å®ƒä¸æ„é€ å‡½æ•°å§”æ‰˜å¦‚ä½•ç›¸äº’ä½œç”¨ï¼Ÿä¸€ä¸ª <code>explicit</code> çš„æ„é€ å‡½æ•°å¯ä»¥å§”æ‰˜ç»™å¦ä¸€ä¸ªæ„é€ å‡½æ•°å—ï¼Ÿä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥å§”æ‰˜ç»™ä¸€ä¸ª <code>explicit</code> çš„æ„é€ å‡½æ•°å—ï¼Ÿ</li>
<li><strong>é”™è¯¯å¤„ç†ï¼š</strong> å¦‚æœåœ¨ç›®æ ‡æ„é€ å‡½æ•°ä¸­ï¼ˆæˆ–è€…å®ƒè°ƒç”¨çš„ä»»ä½•å‡½æ•°ä¸­ï¼‰æŠ›å‡ºå¼‚å¸¸ (exception)ï¼Œå§”æ‰˜é“¾ä¼šå¦‚ä½•è¡¨ç°ï¼Ÿå§”æ‰˜æ„é€ å‡½æ•°çš„å‡½æ•°ä½“è¿˜ä¼šæ‰§è¡Œå—ï¼Ÿ</li>
</ol>
<p>è¿™äº›é—®é¢˜å¯ä»¥å¸®åŠ©ä½ æ›´æ·±å…¥åœ°ç†è§£æ„é€ å‡½æ•°å§”æ‰˜åŠå…¶åœ¨C++ç±»è®¾è®¡ä¸­çš„åº”ç”¨ã€‚</p>
<p>ä½ åšå¾—éå¸¸æ£’ï¼ç»§ç»­åŠªåŠ›ï¼ŒC++çš„ä¸–ç•Œè¿˜æœ‰å¾ˆå¤šå¥‡å¦™çš„ç‰¹æ€§ç­‰ç€ä½ å»æ¢ç´¢ï¼å¦‚æœä½ æœ‰ä»»ä½•å…¶ä»–é—®é¢˜ï¼Œéšæ—¶é—®æˆ‘ã€‚</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Constructor/">Constructor    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>319 - Class Const</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/324%20-%20Nested%20class/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>324 - Nested class</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/305 - å·²åˆ é™¤æ„é€  å‡½æ•°ä½¿ç”¨/" title="305 - å·²åˆ é™¤æ„é€  å‡½æ•°ä½¿ç”¨"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">305 - å·²åˆ é™¤æ„é€  å‡½æ•°ä½¿ç”¨</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/275 - getter and setter/" title="275 - getter and setter"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">275 - getter and setter</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/274 - default constructor/" title="274 - default constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">274 - default constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/280 - æ„é€ ä¸ææ„é¡ºåº å€’åºææ„/" title="280 - æ„é€ ä¸ææ„é¡ºåº å€’åºææ„"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">280 - æ„é€ ä¸ææ„é¡ºåº å€’åºææ„</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•/" title="277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>