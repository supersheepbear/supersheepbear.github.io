<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>317 - cpp ç±»çº§åˆ«æ•°æ® | Bear's dream</title><meta name="description" content="317 - cpp ç±»çº§åˆ«æ•°æ®"><meta name="keywords" content="Coding,Cpp,Tutorial,Development,Class"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="317 - cpp ç±»çº§åˆ«æ•°æ®"><meta name="twitter:description" content="317 - cpp ç±»çº§åˆ«æ•°æ®"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="317 - cpp ç±»çº§åˆ«æ•°æ®"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/317%20-%20cpp%20%E7%B1%BB%E7%BA%A7%E5%88%AB%E6%95%B0%E6%8D%AE/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="317 - cpp ç±»çº§åˆ«æ•°æ®"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/317%20-%20cpp%20%E7%B1%BB%E7%BA%A7%E5%88%AB%E6%95%B0%E6%8D%AE/"><link rel="prev" title="281 - cpp this æŒ‡é’ˆè¯¦è§£ä¸åº”ç”¨" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/281%20-%20cpp%20this%20%E6%8C%87%E9%92%88%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%BA%94%E7%94%A8/"><link rel="next" title="301 - æ‹·è´æ„é€ å‡½æ•°æ·±æ‹·è´" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/301%20-%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">150</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-ç±»çº§åˆ«æ•°æ®"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">C++ ç±»çº§åˆ«æ•°æ®</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">C++ é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">1. ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2. å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc_mobile_items-number">1.6.</span> <span class="toc_mobile_items-text">3. å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc_mobile_items-number">1.7.</span> <span class="toc_mobile_items-text">4. å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-é™æ€æˆå‘˜å˜é‡ä¸-const-æˆå‘˜å‡½æ•°"><span class="toc_mobile_items-number">1.8.</span> <span class="toc_mobile_items-text">5. é™æ€æˆå‘˜å˜é‡ä¸ const æˆå‘˜å‡½æ•°</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-å®Œæ•´ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">1.9.</span> <span class="toc_mobile_items-text">6. å®Œæ•´ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">1.10.</span> <span class="toc_mobile_items-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><span class="toc_mobile_items-number">1.11.</span> <span class="toc_mobile_items-text">5. å¸¸è§è¯¯è§£æˆ–é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-ç¼–ç¨‹ç»ƒä¹ "><span class="toc_mobile_items-number">1.12.</span> <span class="toc_mobile_items-text">6. ç¼–ç¨‹ç»ƒä¹ </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">1.13.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">1.14.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#C-é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"><span class="toc_mobile_items-number">1.15.</span> <span class="toc_mobile_items-text">C++ é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"><span class="toc_mobile_items-number">1.16.</span> <span class="toc_mobile_items-text">æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#1-Point-h-æ–‡ä»¶"><span class="toc_mobile_items-number">1.16.1.</span> <span class="toc_mobile_items-text">1. Point.h æ–‡ä»¶</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-Point-cpp-æ–‡ä»¶"><span class="toc_mobile_items-number">1.16.2.</span> <span class="toc_mobile_items-text">2. Point.cpp æ–‡ä»¶</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-main-cpp-æ–‡ä»¶"><span class="toc_mobile_items-number">1.16.3.</span> <span class="toc_mobile_items-text">3. main.cpp æ–‡ä»¶</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ"><span class="toc_mobile_items-number">1.17.</span> <span class="toc_mobile_items-text">è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-ç±»çº§åˆ«æ•°æ®"><span class="toc-number">1.</span> <span class="toc-text">C++ ç±»çº§åˆ«æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“"><span class="toc-number">1.3.</span> <span class="toc-text">C++ é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc-number">1.4.</span> <span class="toc-text">1. ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc-number">1.5.</span> <span class="toc-text">2. å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc-number">1.6.</span> <span class="toc-text">3. å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><span class="toc-number">1.7.</span> <span class="toc-text">4. å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-é™æ€æˆå‘˜å˜é‡ä¸-const-æˆå‘˜å‡½æ•°"><span class="toc-number">1.8.</span> <span class="toc-text">5. é™æ€æˆå‘˜å˜é‡ä¸ const æˆå‘˜å‡½æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-å®Œæ•´ä»£ç ç¤ºä¾‹"><span class="toc-number">1.9.</span> <span class="toc-text">6. å®Œæ•´ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc-number">1.10.</span> <span class="toc-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><span class="toc-number">1.11.</span> <span class="toc-text">5. å¸¸è§è¯¯è§£æˆ–é”™è¯¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-ç¼–ç¨‹ç»ƒä¹ "><span class="toc-number">1.12.</span> <span class="toc-text">6. ç¼–ç¨‹ç»ƒä¹ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">1.13.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">1.14.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"><span class="toc-number">1.15.</span> <span class="toc-text">C++ é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"><span class="toc-number">1.16.</span> <span class="toc-text">æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Point-h-æ–‡ä»¶"><span class="toc-number">1.16.1.</span> <span class="toc-text">1. Point.h æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Point-cpp-æ–‡ä»¶"><span class="toc-number">1.16.2.</span> <span class="toc-text">2. Point.cpp æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-main-cpp-æ–‡ä»¶"><span class="toc-number">1.16.3.</span> <span class="toc-text">3. main.cpp æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ"><span class="toc-number">1.17.</span> <span class="toc-text">è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">317 - cpp ç±»çº§åˆ«æ•°æ®</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/317%20-%20cpp%20%E7%B1%BB%E7%BA%A7%E5%88%AB%E6%95%B0%E6%8D%AE/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/317%20-%20cpp%20%E7%B1%BB%E7%BA%A7%E5%88%AB%E6%95%B0%E6%8D%AE/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="C-ç±»çº§åˆ«æ•°æ®"><a href="#C-ç±»çº§åˆ«æ•°æ®" class="headerlink" title="C++ ç±»çº§åˆ«æ•°æ®"></a>C++ ç±»çº§åˆ«æ•°æ®</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to see how we can set up static member variables in our C plus plus program.We have seen that static member variables are variables that are not really attached to any class object.They are attached or tied to the class blueprint itself.And we have seen that they are really useful in that.For example, they can allow you to keep track of how many objects for your class are created.Letâ€™s see how we can create them.Here is a simple example.We have our class point.And we have a few member variables inside, but the member variable of interest here is the point countmember variable here itâ€™s type is size T, but notice that we have marked it as static here.What this is going to do, itâ€™s going to tie this member variable to the class blueprint itself.The member variable is not going to be tied to any point object, but any point object is going to haveaccess to this member variable, but the lifetime of the member variable will be tied to the class blueprintitself.In fact, static member variables are even initialized before you create any object for the class.This may sound counterintuitive, but I am going to show you this in a minute when we head to VisualStudio code.For now, just know the syntax of our static member variable.The syntax is thus you prepend the static keyword to the declaration of your member variable.And from that point on itâ€™s going to be a static member variable.Now you see that we havenâ€™t really initialized our member variable here, so now itâ€™s probably goingto contain some junk and we donâ€™t want to do this.But Cplusplus doesnâ€™t allow initializing static member variables like this in the header file.So if we use a pair of curly braces after this and use brace initialization, weâ€™re going to get a compilererror.What c plus plus allows is to go in some CPP file and initialize this member variable and the linkerknows to go and hunt for this initialization.In any translation unit that you have in your application.The syntax is really simple.You say the class that the member variable belongs to using this scope resolution.Operator And then you say the variable name.After this, you can then use curly braces to initialize your member variable to whatever it is youwant.This is going to set up our static member variable and we can use it in our C plus plus program.Again, note that static member variables are initialized before your program runs.In fact, they are even initialized before the main function gets to run because they are special inthat way they are not tied to any object, so they need to be initialized before any object is createdin C plus plus.And weâ€™re going to try and prove that when we hit Visual Studio code in a minute.But before we go, I want to introduce you to a new function or member function weâ€™re going to introducein our class point.It is going to be a function to compute the length of a line, and a line is going to be made up oftwo points.So weâ€™re going to use this formula you see down here and weâ€™re going to take the X position for thesecond point and minus the X position for the first point, weâ€™re going to elevate that to the powerof two here and weâ€™re going to do the same computation on Y, and then weâ€™re going to do a square rootof the result that we get inside here.So this is how we can compute the distance between two points.And weâ€™re going to do that in our C plus plus program.This is one way I thought of we could make our points a little bit interesting because what we havebeen so far can really be boring knowing what we know about C plus plus.Now we want to make things a little interesting.Okay, so this is a possible representation of two points.We have the origin point, which is at the address zero zero, and then we have a point, for example,which lives at an X position of ten and the Y position of five.Suppose this point here is at X of ten, and the point here is at Y of five.So if we go like this, this is going to be the coordinate of our point.But what we want to do is to compute the distance between the two points.So we want to do something like this.And now the distance between this point here and this point here.And the formula to do that is what we see here in this point.What weâ€™re going to do is treat the ten here as our x two.And the zero here is going to be our x one.Then the five is going to be our Y two, and the zero here is going to be our Y one.Then weâ€™re going to do the computation and what we will get is going to be the distance between thesetwo points.This is a formula you can use and the translating this in C plus plus we can do something like this.So weâ€™re going to use the square root function we have in the C plus plus standard library.So this is basically going to be our square root.And then weâ€™re going to take the X position for the second point and minus the X position for the firstpoint here.And then weâ€™re going to elevate that to the power of two.Weâ€™re going to do the.Same computation for Y.And thatâ€™s what we have here.And this is going to give us the distance between two points.And we can do this in our C plus plus program.So now that we know this, letâ€™s head over to Visual Studio code and play with static member variables.Okay.So here we are in our working folder.The current project is static member variables.Weâ€™re going to grab our template files pretty quick.We are going to put them in place and we are going to open this in Visual Studio code by dragging anddropping like we always do here.This is going to open our folder.Weâ€™re going to open the Main.cpp file and weâ€™re going to clean it up a little bit.Letâ€™s do that.Weâ€™re going to create our files for the point class that we are going to use here.Weâ€™re going to put in a header file point dot h, and weâ€™re going to put in a CPP file point dot CPP.We are going to go in our header file and put in our class.Iâ€™m going to put it in because I donâ€™t want to watch me type all these things.We have our include guards on top and we have the end of our include guards and inside we have a bunchof constructors.In here we see a two parameter constructor.We have a one parameter constructor that we can use to construct a point which has the same x and Ycoordinates.We have a default constructor and we have a copy constructor.We also have a destructor which is really not going to do anything because we donâ€™t have any pointermember variables in here.But if you happen to have any pointer member variables and you are doing some dynamic memory allocationin the constructors, youâ€™re going to use this destructor here, but weâ€™re going to put it in here justto be complete.So down here we have the meat of this example.Here we have a static member variable.This is going to be a member variable whose association is going to be with the class itself.Itâ€™s not going to be associated with any class object, but weâ€™re going to prove this in a minute.For now, letâ€™s head over in point CPP and try to implement many of these methods.I think we can actually grab them all.Letâ€™s do that.Weâ€™re going to grab them all here and do them all one by one.And I would challenge you to try and implement these things yourself without watching anything becauseyou already have the tools to do that.So weâ€™re going to include point dot H, our header, and then weâ€™re going to implement this constructorhere.So weâ€™re going to put in our scope resolution operator and weâ€™re going to do our initializer list.Our member variables are called M, X and M Y.So weâ€™re going to do that.Weâ€™re going to say M x is going to be initialized with X.Letâ€™s use brace initialization here and m y is going to be initialized with Y.Letâ€™s do that.And once we have this, we can jump into the body of our constructor here and it is already done.It is initializing our member variables.Letâ€™s do the second one.So weâ€™re going to put in our scope resolution.Operator And for this constructor we are going to delegate the construction to the first constructorwe did here because we donâ€™t want to repeat ourselves.So what weâ€™re going to do is delegate to the other constructor and weâ€™re going to give it x y chordin the position for the x coordinate.And this is going to do what we want, and then weâ€™re going to implement this constructor here.This constructor is going to be initializing our member variables.The member variables are called M, X and Y.So letâ€™s go down here and put in our scope resolution.Operator.Weâ€™re going to say point, and then weâ€™re going to use an initializer list to initialize our membervariables.Weâ€™re going to say m X, weâ€™re going to use braced initialization here.So weâ€™re going to say X and weâ€™re going to say M Y and put in our initializer to be Y Here, itâ€™s notX and then weâ€™re going to put in our body and our constructor here is basically done.Now the remaining constructors here will be delegating the construction work to the constructor thatwe just did here.This is going to avoid us to do the same job in the body.This constructor here is going to take over that heavy lifting and the others are just going to be usingit.The way we do that, weâ€™re going to use constructor delegation.You already know that.So letâ€™s do that here and weâ€™re going to delegate to that constructor.Weâ€™re going to say point and then weâ€™re going to pass the X and Y coordinate.This constructor.Here is a single parameter constructor which is going to pass the same value for X and Y.So weâ€™re going to use our parameter here.Weâ€™re going to say x y chord for the Y coordinate and then weâ€™re going to go in our body.This is not autocompleting because we didnâ€™t say that this constructor is from the point class we forgot.Our scope resolution operator.Letâ€™s do that pretty quick.And all these squiggly lines should go away in a minute.Letâ€™s wait.Okay.Theyâ€™re not going away.But if thereâ€™s a problem, weâ€™re going to figure this out.Weâ€™re going to do the other constructor here, which is a default constructor.Weâ€™re going to put in our scope resolution operator, and weâ€™re going to grab the comment here and putthat on top.I think this is going to do letâ€™s align this properly and weâ€™re going to put our initializer.It is going to be delegating to the other constructor and weâ€™re going to put in default parameters wewant to use.Weâ€™re going to use zero zero.Letâ€™s do that 0.0 because itâ€™s a double and then weâ€™re going to do the body.Okay, so this constructor here is done.Next weâ€™re going to do our copy constructor, which is going to be doing member Wise copy.Itâ€™s not going to do anything special because we donâ€™t have any pointer member variables.So this is going to be basically the same thing as the default constructor that is generated by thecompiler.But we want to do it ourselves.So letâ€™s delegate and weâ€™re going to say point M x and we should use brace initialization.Here I am mixing things up, so weâ€™re going to say point M X and then weâ€™re going to say point M y andweâ€™re going to put in our body.This should do what we want and we need the scope resolution operator here.Letâ€™s do that.And the destructor is really not going to do anything.So weâ€™re going to put our scope resolution operator and weâ€™re just going to put a body.Letâ€™s do that.Weâ€™re going to take out this comment, put that on top a little bit, and weâ€™re going to align hereand weâ€™re going to put the body in here.And the remaining function here is going to compute the distance to the origin.And we have seen the formula we can use to do that.So letâ€™s go down and put in our body.And this function is going to belong to the point class.Weâ€™re going to tell that to the compiler using our scope resolution operator and weâ€™re going to moveour return value before the scope resolution.Operator Letâ€™s be careful about this.We are going to go on top and include the math library from the C plus plus standard library.Weâ€™re going to grab Cmath and then weâ€™re going to go down and put in the body for our function here.And itâ€™s basically going to return the distance between the current object, which is the current pointto the origin.Again, if you have forgotten, this is the formula we use to compute the distance between points.Our point is going to be this point here and weâ€™re going to be computing the distance to the originand weâ€™re going to get to that as a double value.Okay, so by now our functions should be all implemented.And what we can do is try and build this program and see if we donâ€™t have any problems.Letâ€™s use GCC for that.Weâ€™re going to build with GCC and weâ€™re going to have a problem and itâ€™s going to say x, y not declaredin this scope point CPP at line nine.Letâ€™s go there and do that x, y, underscore code.This is the problem here.Weâ€™re going to fix this and then weâ€™re going to try and build again.Now the build is good, our class is working and we can create objects of this class and really seethat the memory locations for the member variables are different from different objects.So to really see this, weâ€™re going to put in a print function, weâ€™re going to make it public and weâ€™regoing to say itâ€™s going to be const because itâ€™s not going to modify this class here or the member variablesfrom this class.And weâ€™re going to say Stdcout point and weâ€™re going to say address of X, Thatâ€™s what we want to printhere.And weâ€™re going to put a comma here and say address.Thatâ€™s what we want to see and we are going to print this out.Weâ€™re going to say address of M y, and weâ€™re going to put our closing square bracket.I think we should put one here.We donâ€™t need a colon here.I think this is going to be better.And then weâ€™re going to put our new line character.Now we can head over to Main and really play with this.Weâ€™re going to include our point class and weâ€™re going to go down and create two points.Weâ€™re going to say point P one and weâ€™re going to put in two values ten and 20.Why not?And weâ€™re going to say point P two and weâ€™re going to say 21.8 and 40.6.Why not?And then weâ€™re going to say P one print info, weâ€™re going to print the information and P two printable.Okay, So letâ€™s build.What will we see when we print this information?Weâ€™re going to see the addresses for the X and Y member variables for this.Objects.And what we want to prove is that each object is going to have its own member variables and they aregoing to be completely independent of other objects.So letâ€™s build.Weâ€™re going to build with GCC.And if we go up, you see that the build is good.Now we can clear and run Rooster.If we do that, youâ€™re going to see that.Okay, so you see the output is saying zero for the x member variable for the first point and it issaying D8 for the second member variable of the first point.If we go to the second point, you see that we have DC zero and DC eight.You see the addresses are different.So the member variables are completely different because they live in different memory locations.So this is working fine.If you want variables to be constrained to objects, the default way we have to set up a member variablesis going to work.But if you want member variables to be associated with the class itself, youâ€™re going to need to dosomething else.And to be able to achieve that, we will have to mark our member variables as static.So we have a member variable which is static here.Its type is size T, the name of the variable is M point count.So once you have it declared like this, the variable is not going to be properly initialized.If you want to initialize it, you will have to do it in a CPP file because if you try to do that inthe class definition like this, weâ€™re going to get a compiler error.C plus plus doesnâ€™t allow this.Okay, So you see, we do this, we get a squiggly line.If we try to build with GCC, letâ€™s do that.Weâ€™re going to get a compiler error and the compiler error is saying in class initialization of non-conststatic member point here is not allowed.This is what the error is saying here.Weâ€™re not allowed to do this.If we want to initialize our static member variable, we will need to do this in the CPP file and wecan really do it in any CPP file.But we have pointed at CPP here, so we can just do that here.Weâ€™re going to say initialize static member var and the way you do that, you say the class where themember variable belongs and then youâ€™re going to say the name of the member variable and then youâ€™regoing to initialize it with whatever you want to initialize that with.Letâ€™s say we want this to be zero by default and weâ€™re going to put a semicolon here and in front weneed to say the type of this thing.So it is of size t type and this is the syntax we use to initialize static member variables.If we do this, this is going to be properly initialized.Now we have our static member variable.It is initialized in a CPP file.How do we use it in our C plus plus program?Well, because this guy is public, we can really use a convenient syntax to access this.We can even access this before any object is created for a point.So letâ€™s go back in the main CPP file and really try to do this.We have already used this point.I donâ€™t think we need them anymore, so weâ€™re going to take them out and weâ€™re going to say print thepoint count in our program and we are going to say Stdcout, like we say always and weâ€™re going to saypoint count and notice the syntax weâ€™re going to use.Weâ€™re going to say point and then end point count.This is going to give us direct access to our static member variable.And this is really cool.Notice that we are able to do this before any point object is created.And this is really cool.This proves that the static member variable is initialized even before the main function runs becausethis is what C plus plus does.We are able to get to the point count before we even create any point object.Notice that no constructor has been called.We didnâ€™t set up any point object in Main.We just printed the point count and weâ€™re going to see that if we print this, weâ€™re going to get zerobecause thatâ€™s what we initialized our static variable with and this is really cool.So letâ€™s try and build our program.Weâ€™re going to use GCC to do that.You see build finished successfully.So this is cool.We can clear and run.Rooster point count is zero.We are able to access our static member variable and it is attached to the class itself.Itâ€™s not attached to any member variable.Now letâ€™s try and change what we initialize this guy with so that you really believe that this is goingto come here.The value we print, weâ€™re going to build again, letâ€™s use GCC and the build is good.Weâ€™re going to clear.If we run Rooster, weâ€™re going to see the value we initialized our static variable with and this iswhat static member variables are really about.They are variables that are attached to the class itself and they are not attached to any object ofyour class.Now letâ€™s use this member variable to really do some cool.We are going to go in our heavy lifter constructor and any point and after we create any point object,weâ€™re going to increment our static variable to properly keep count of how many point objects we havein our program.So weâ€™re going to increment and point count, and whenever the destructor runs, our point object willdie.So weâ€™re going to decrement the point count.So weâ€™re going to go in our destructor and weâ€™re going to minus, minus M point out.And now we have the option and now we have the capability to really get how many points we have createdin our programs.We can print the point count here.Itâ€™s going to be zero because we donâ€™t have any point objects created.But now we can create a new point object.Letâ€™s put in ten and 20, and if we print the point count again, weâ€™re going to see that weâ€™re goingto get a one.Letâ€™s do that.Weâ€™re going to build with GCC.The world is good, so we can clear and run.Rooster.You see point count 33.Why do we have 33 here?We need to go back and change what we initialize our point count with.So weâ€™re going to initialize this to zero and then weâ€™re going to run.Why arenâ€™t we incrementing here when we call our constructor here?Letâ€™s say point constructor called here so that we know that the constructor is being called and weâ€™regoing to pass double parameters here.Letâ€™s make sure we pass what the compiler expects.So weâ€™re going to pass 20.4 here, for example, and then weâ€™re going to build with GCC.The build is going to be good.We can clear and run Rooster.Now we see that the point count is zero.Why is this?After we create a point here, weâ€™re going to increment point count and we should get a one.After we do this, we can print the point count here and weâ€™re going to get zero because at this pointwe donâ€™t have any point objects created.But we can create a point here.Weâ€™re going to say point P one and weâ€™re going to put in 10.0, for example, and a 20 point.And if we do this and print the point count again, letâ€™s copy this and weâ€™re going to put this downand weâ€™re going to make this a semicolon, not a colon.And if we try to build, weâ€™re going to see that here.Weâ€™re going to get the zero run.But the moment we hit this point here, weâ€™re going to initialize, but the moment we hit line ninehere, weâ€™re going to create a new point object.This is going to call our constructor here and it is going to increment M point count.If we print this, weâ€™re going to get a one.Letâ€™s be sure that our constructor is ridiculed.So weâ€™re going to say point constructor calls and this is the constructor that is going to be calledregardless of how we Build our object, because all the other constructors are delegating the work toit.You notice this is what we are calling for.Any constructor that we have through constructor delegation and this is really cool.So if we print here, weâ€™re going to get a zero.And if we print here, weâ€™re going to get a one.This is what we expect.Letâ€™s build and weâ€™re going to build just fine.The build is good.We can clear and run Rooster and weâ€™re going to see that for the first time.The count is zero.Now, point is one, and this is really cool.We can set up an array of points.We can do that.Letâ€™s say, for example, zero point and weâ€™re going to say point and weâ€™re going to put in a pair ofsquare brackets and then weâ€™re going to initialize this with a pair of points.Letâ€™s put in, for example, one one.We can really do whatever we want with this.Weâ€™re going to put a point here which is going to call the default constructor.Notice that we are building these guys in place.You can really do this if you want.And then weâ€™re going to put another point, which is going to call the one parameter constructor andweâ€™re going to put in four.Why not?Now?If we print the count for points, weâ€™re going to get a good number for points.We have P one here, which is our first point.We have two points, three points and four points.So now if we print, we expect to get a four printed out and hopefully this is going to prove that weare really keeping track of the points that we create in our C plus plus program through the help ofour static member variable, which is really not attached to any object we create in the main functionhere.Itâ€™s just attached to the class itself.So weâ€™re going to build, letâ€™s use GCC to do that.The world is going to be good.We can clear and run, Rooster.Now you see that we have a few constructors called four times, and each of these constructor callsis going to increment count by one.And when all these points are created, weâ€™re going to have four points in total.And this is really cool.Okay.Now that we have already played with our static variable, I wanted to make it super clear that it ispossible to really initialize this static variable in any translation unit or in any CPP file to beexact.Letâ€™s go on the left here and create another CPP file.So weâ€™re going to head to the Add new file button here and weâ€™re going to say some other file and weâ€™regoing to CPP.This is going to be a CPP file and it is in the wrong folder.So I think we can grab this and bring it out.Letâ€™s see if this works and we have the file here and we can grab the initialization of our static variableand really move that there.So weâ€™re going to save this, but to make this work, we need to include the point class, because atthis point, this line here is not going to make sense to the compiler because the compiler is not goingto know what the point is.So weâ€™re going to include the point here.And at the moment we do this now the compiler is going to know what pointers and it is going to initializethe static variable that is declared in our class here.So notice that we donâ€™t have this initialization in point dot CPP anymore, but if we build, this isgoing to build just fine.Letâ€™s build with GCC.Youâ€™re going to see that the world is good and we can clear and run rooster and weâ€™re going to get theoutput that we expect.Another thing I want to be super clear is that a static variable doesnâ€™t belong to any object and wecan really modify our static variables if we want in any cast member functions.So this is going to be counterintuitive, but note that it is possible to modify the static variable.Remember the const keyword after a member function is going to prevent you from modifying any membervariable in the class or in the object because member variables are associated with objects.But a static variable is not associated to any object.It belongs to the class as a whole.So the const keyword in your member function is not really going to protect it.So to prove this, weâ€™re going to go in our const member function here and we are, for example, goingto increment M point count, youâ€™re going to see that this is going to build and some of you are goingto say, What are you doing here?You are trying to modify a member variable, but this member variable doesnâ€™t belong to any point object.It belongs to the entire class as a whole.The const keyword here is going to prevent you from modifying any member variable that belongs to theobject.And when I say object, I mean object like P1 here.So if we go down here and for example, say 0.1, get point count, just calling the function here,weâ€™re going to head to the body of this function.Weâ€™re going to increment and then weâ€™re going to return.If we try to print what we return, letâ€™s say size t result and assign that to and give that the valuewe get from our function call here.And if we try to print that out, weâ€™re going to get a five because we have already changed our membervariable through the call to this function here, get point count.I really hope you understand this.Weâ€™re going to build.And the world should be good.And if we print, the result should be five and it is a five here.And if we print the point, count through the syntax we used here, letâ€™s do that.Weâ€™re going to put this here.Weâ€™re also going to get a five because this is the same variable.Letâ€™s do that.Weâ€™re going to build with GCC.The world is going to be good.We can clear and run Rooster.Now we have a five here and this is really cool.Now, if you go back in our class, youâ€™re going to notice that the static variable is in the publicscope.And I did this on purpose because I wanted the syntax.Here we have used saying point colon, colon and point count to access the static variable before anyobject is created.Work.I wanted this syntax here to work, but if you bring your static variable in the private scope, letâ€™stry and take this out and put this back together with the other variables.Weâ€™re going to go back in main and weâ€™re going to see that this is no longer working.The syntax here is only going to work if your static variable is living in the public scope.If you donâ€™t have it in the public scope, you can access that through any function or member functionthat is returning that.Letâ€™s take out this call here because you already know that you can modify static variables in castmember functions.So now we can have access to our variable through the member function here.If we want, we can do that.So letâ€™s go back and really fix this.We donâ€™t want this compiler errors, so weâ€™re going to comment this out because at this point we donâ€™thave any objects created.But the moment we have an object created, we can go through the object and get how many objects arecreated for that object.So here weâ€™re going to say P one get point count, weâ€™re going to call the function here or the memberfunction.We can take this out because we donâ€™t need this anymore.And down here weâ€™re going to say p one get point count and weâ€™re going to print that for the first callhere.Weâ€™re going to get a one.Weâ€™re going to have a four here and we donâ€™t need the second one here.So letâ€™s take this out.If we do this, weâ€™re going to get four printed out because we have four points created at this pointhere.We can copy this and go on top here and paste this in place.And at this point, weâ€™re going to see a want to print it out because we only have one point created.Letâ€™s build and really see this in action.Weâ€™re going to use GCC.The world should be good.Weâ€™re going to clear and run Rooster.Now we have zero point constructor called We have one point.Weâ€™re going to call the constructor three times because we have three points stored in our array hereand the total point count is going to be four as we see here.And we are going through the syntax here.So again, the message is if your static variable happens to be living in the private scope of yourclass, youâ€™re not going to be able to use this syntax here to get access to your static variable.You have to go through some function to get it if you really want that.This is the message here.Okay.I think this is really all I had to share in this lecture.Raising your awareness about static variables.It should be clear that static variables or static member variables belong to the class as a whole.They donâ€™t belong to any object of your class that you create.We have seen that we can use this syntax here to get access to static member variables if they happento live in the public scope of our class and if they live in the private scope, you have to go throughan object and use some member function that returns the static variable and thatâ€™s going to work.Also, we have seen that it is not possible to initialize your static member variable inside the class.If you try to do that, youâ€™re going to get a compiler error.If you want to initialize that, you will have to go in some CPP file.And here and here we are doing that through a CPP file called some other file and the linker is goingto pick up this definition or initialization that we have here and it is going to work.This is really all I had to share.I hope you found this lecture interesting.We are going to stop here in this one.In the next one, weâ€™re going to see a technique introduced in C plus plus 17 to allow us to initializeour static member variables inside the class declaration, if thatâ€™s what we want.So go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œéå¸¸è£å¹¸èƒ½ä¸ºæ‚¨è®²è§£ C++ ä¸­çš„é™æ€æˆå‘˜å˜é‡ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/static_member_variable" target="_blank" rel="external nofollow noopener noreferrer">static member variables</a>ï¼‰ã€‚ä½œä¸ºæ‚¨å­¦ä¹  C++ ä¹‹æ—…çš„å‘å¯¼ï¼Œæˆ‘å°†å°½åŠ›ç”¨æœ€æ¸…æ™°ã€æœ€æ˜“æ‡‚çš„æ–¹å¼æ¥å‘ˆç°è¿™äº›çŸ¥è¯†ã€‚</p>
<hr>
<h2 id="C-é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“"><a href="#C-é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“" class="headerlink" title="C++ é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“"></a><strong>C++ é™æ€æˆå‘˜å˜é‡ï¼šæŒæ¡ç±»çº§åˆ«æ•°æ®çš„ç²¾é«“</strong></h2><p><strong>æ‘˜è¦ï¼š</strong> æœ¬è¯¾ç¨‹å°†æ·±å…¥æ¢è®¨ C++ ä¸­é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰ã€ç”¨é€”ã€å£°æ˜ä¸åˆå§‹åŒ–æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•è®¿é—®å®ƒä»¬ã€‚æˆ‘ä»¬å°†é€šè¿‡è¯¦ç»†çš„ä»£ç ç¤ºä¾‹ï¼Œç†è§£é™æ€æˆå‘˜å˜é‡ä¸æ™®é€šæˆå‘˜å˜é‡çš„åŒºåˆ«ï¼Œå¹¶æ­ç¤ºå…¶åœ¨å¯¹è±¡è®¡æ•°ç­‰åœºæ™¯ä¸­çš„å¼ºå¤§ä½œç”¨ã€‚</p>
<hr>
<h2 id="1-ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ"></a><strong>1. ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿ</strong></h2><p>åœ¨ C++ ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå®šä¹‰ç±»ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/class" target="_blank" rel="external nofollow noopener noreferrer">class</a>ï¼‰æ¥åˆ›å»ºå¯¹è±¡ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/object" target="_blank" rel="external nofollow noopener noreferrer">object</a>ï¼‰ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä¸€å¥—æˆå‘˜å˜é‡ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/member_variable" target="_blank" rel="external nofollow noopener noreferrer">member variables</a>ï¼‰ï¼Œå°±åƒæ¯ä¸ªå­¦ç”Ÿéƒ½æœ‰è‡ªå·±çš„è¯¾æœ¬ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œå®ƒä¸å±äºä»»ä½•ç‰¹å®šçš„å¯¹è±¡ï¼Œè€Œæ˜¯å±äºæ•´ä¸ªç±»æœ¬èº«ã€‚æ— è®ºä½ åˆ›å»ºäº†å¤šå°‘ä¸ªè¯¥ç±»çš„å¯¹è±¡ï¼Œç”šè‡³ä¸€ä¸ªå¯¹è±¡éƒ½æ²¡åˆ›å»ºï¼Œè¿™ä¸ªå˜é‡éƒ½åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œå¹¶ä¸”æ‰€æœ‰å¯¹è±¡å…±äº«è¿™åŒä¸€ä¸ªå‰¯æœ¬ã€‚è¿™ç§å˜é‡å°±æ˜¯<strong>é™æ€æˆå‘˜å˜é‡</strong>ã€‚</p>
<p><strong>å…³é”®æ¦‚å¿µï¼š</strong></p>
<ul>
<li><strong>ä¸ä¾é™„äºå¯¹è±¡ï¼š</strong> é™æ€æˆå‘˜å˜é‡ä¸å­˜å‚¨åœ¨ç±»çš„æ¯ä¸ªå¯¹è±¡ä¸­ã€‚è¿™æ„å‘³ç€å½“ä½ åˆ›å»ºå¤šä¸ª <code>Point</code> å¯¹è±¡æ—¶ï¼Œæ¯ä¸ª <code>Point</code> å¯¹è±¡éƒ½ä¼šæœ‰è‡ªå·±çš„ <code>m_x</code> å’Œ <code>m_y</code> å‰¯æœ¬ï¼Œä½†æ‰€æœ‰çš„ <code>Point</code> å¯¹è±¡å°†å…±äº«åŒä¸€ä¸ª <code>m_point_count</code> é™æ€æˆå‘˜å˜é‡ã€‚</li>
<li><strong>ä¾é™„äºç±»æœ¬èº«ï¼š</strong> å®ƒä»¬æ˜¯â€œç±»çº§åˆ«â€ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/static_member" target="_blank" rel="external nofollow noopener noreferrer">class-level</a>ï¼‰çš„å˜é‡ï¼Œä½ å¯ä»¥æŠŠå®ƒä»¬çœ‹ä½œæ˜¯ä¸ç±»çš„è“å›¾ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/class" target="_blank" rel="external nofollow noopener noreferrer">blueprint</a>ï¼‰æœ¬èº«ç´§å¯†ç»‘å®šçš„æ•°æ®ã€‚</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸï¼š</strong> é™æ€æˆå‘˜å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸æ•´ä¸ªç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚å®ƒä»¬åœ¨ <code>main</code> å‡½æ•°è¿è¡Œä¹‹å‰å°±è¢«åˆå§‹åŒ–ï¼Œå¹¶åœ¨ç¨‹åºç»“æŸæ—¶æ‰è¢«é”€æ¯ã€‚</li>
<li><strong>ç”¨é€”ï¼š</strong> é™æ€æˆå‘˜å˜é‡éå¸¸é€‚åˆç”¨äºè·Ÿè¸ªç±»ä¸­æ‰€æœ‰å¯¹è±¡å…±äº«çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š<ul>
<li><strong>å¯¹è±¡è®¡æ•°ï¼š</strong> ç»Ÿè®¡æŸä¸ªç±»æœ‰å¤šå°‘ä¸ªå¯¹è±¡è¢«åˆ›å»ºäº†ï¼Œæ­£å¦‚æœ¬ä¾‹ä¸­ <code>m_point_count</code> çš„ä½œç”¨ã€‚</li>
<li><strong>å…±äº«é…ç½®ï¼š</strong> å­˜å‚¨æ‰€æœ‰å¯¹è±¡éƒ½éœ€è¦çš„å…±åŒé…ç½®æˆ–å¸¸é‡ã€‚</li>
<li><strong>èµ„æºç®¡ç†ï¼š</strong> ç®¡ç†æ‰€æœ‰å¯¹è±¡å…±äº«çš„å”¯ä¸€èµ„æºï¼ˆä¾‹å¦‚ï¼Œæ•°æ®åº“è¿æ¥æ± çš„å¤§å°ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 id="2-å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><a href="#2-å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ" class="headerlink" title="2. å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ"></a><strong>2. å¦‚ä½•å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼Ÿ</strong></h2><p>å£°æ˜é™æ€æˆå‘˜å˜é‡éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨æˆå‘˜å˜é‡çš„ç±»å‹å‰é¢åŠ ä¸Š <code>static</code> å…³é”®å­—å³å¯ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassName</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ... å…¶ä»–æˆå‘˜ ...</span></span><br><span class="line">    <span class="keyword">static</span> DataType static_member_variable_name; <span class="comment">// å£°æ˜é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p><strong>ç¤ºä¾‹ï¼ˆ<code>Point.h</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt; // for size_t</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="comment">// å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ m_point_count</span></span><br><span class="line">    <span class="comment">// å®ƒçš„ç±»å‹æ˜¯ size_t (é€šå¸¸ç”¨äºè¡¨ç¤ºå¤§å°æˆ–è®¡æ•°ï¼Œæ˜¯æ— ç¬¦å·æ•´æ•°)</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯å£°æ˜ï¼Œä¸èƒ½åœ¨è¿™é‡Œåˆå§‹åŒ–ï¼</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> m_point_count; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y);</span><br><span class="line">    Point(<span class="keyword">double</span> xy_coord);</span><br><span class="line">    Point();</span><br><span class="line">    Point(<span class="keyword">const</span> Point&amp; other);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¿é—®é™æ€æˆå‘˜å˜é‡çš„é™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œä¹ŸåŠ ä¸Šäº† static å…³é”®å­—</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">size_t</span> <span class="title">get_point_count</span><span class="params">()</span></span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨äºæ¼”ç¤º const æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong>è§£é‡Šï¼š</strong></p>
<p>åœ¨ <code>Point.h</code> æ–‡ä»¶çš„ <code>Point</code> ç±»å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªåä¸º <code>m_point_count</code> çš„ <code>static size_t</code> ç±»å‹å˜é‡ã€‚è¿™ä¸ª <code>static</code> å…³é”®å­—å‘Šè¯‰ç¼–è¯‘å™¨ï¼š<code>m_point_count</code> ä¸å±äº <code>Point</code> ç±»çš„ä»»ä½•ç‰¹å®šå¯¹è±¡ï¼Œè€Œæ˜¯å±äº <code>Point</code> ç±»æœ¬èº«ã€‚</p>
<p><strong>é‡è¦æç¤ºï¼š</strong> åœ¨ç±»å®šä¹‰å†…éƒ¨ï¼Œä½ <strong>åªèƒ½å£°æ˜</strong>é™æ€æˆå‘˜å˜é‡ï¼Œè€Œ<strong>ä¸èƒ½è¿›è¡Œåˆå§‹åŒ–</strong>ï¼ˆé™¤éæ˜¯ <code>const static</code> æ•´å‹æˆ– C++17 <code>inline</code> å˜é‡ï¼Œè¿™è¶…å‡ºäº†æœ¬æ¬¡è¯¾ç¨‹èŒƒå›´ï¼‰ã€‚å¦‚æœä½ å°è¯•åœ¨ç±»å®šä¹‰å†…ä½¿ç”¨èŠ±æ‹¬å· <code>{}</code> æˆ–ç­‰å· <code>=</code> è¿›è¡Œåˆå§‹åŒ–ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚è¿™æ˜¯ C++ çš„ä¸€ä¸ªè§„åˆ™ï¼Œå› ä¸ºç±»çš„å®šä¹‰é€šå¸¸æ”¾åœ¨å¤´æ–‡ä»¶ï¼ˆ<a href="https://en.wikipedia.org/wiki/Header_file" target="_blank" rel="external nofollow noopener noreferrer">header file</a>ï¼‰ä¸­ï¼Œå¤´æ–‡ä»¶å¯èƒ½è¢«å¤šä¸ªæºæ–‡ä»¶ï¼ˆ<a href="https://en.wikipedia.org/wiki/Source_code" target="_blank" rel="external nofollow noopener noreferrer">source file</a>ï¼‰åŒ…å«ï¼Œå¦‚æœåœ¨å¤´æ–‡ä»¶ä¸­åˆå§‹åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´é‡å¤å®šä¹‰ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/definition" target="_blank" rel="external nofollow noopener noreferrer">multiple definitions</a>ï¼‰çš„é—®é¢˜ã€‚</p>
<h2 id="3-å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><a href="#3-å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ" class="headerlink" title="3. å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ"></a><strong>3. å¦‚ä½•åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Ÿ</strong></h2><p>ç”±äºé™æ€æˆå‘˜å˜é‡ä¸å±äºä»»ä½•å¯¹è±¡ï¼Œå®ƒä»¬çš„åˆå§‹åŒ–æ–¹å¼ä¹Ÿä¸æ™®é€šæˆå‘˜å˜é‡ä¸åŒã€‚ä½ å¿…é¡»åœ¨ç±»å®šä¹‰<strong>ä¹‹å¤–</strong>ï¼Œé€šå¸¸æ˜¯åœ¨ä¸€ä¸ª <code>.cpp</code> æºæ–‡ä»¶ä¸­ï¼Œä¸ºå®ƒè¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æŸä¸ª .cpp æ–‡ä»¶ä¸­</span></span><br><span class="line">DataType ClassName::static_member_variable_name = initial_value;</span><br></pre></td></tr></table></figure></div>
<p><strong>ç¤ºä¾‹ï¼ˆ<code>Point.cpp</code> æ–‡ä»¶ä¸­ï¼‰ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // for std::cout, std::endl</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;    // for std::sqrt, std::pow</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ Point.cpp ä¸­åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šè¿™é‡Œéœ€è¦å†æ¬¡æŒ‡å®šç±»å‹ (size_t) å’Œæ‰€å±çš„ç±» (Point::)</span></span><br><span class="line"><span class="keyword">size_t</span> Point::m_point_count = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°å®ç° (ä¸ºäº†ç®€æ´ï¼Œè¿™é‡Œåªå±•ç¤ºå…³é”®éƒ¨åˆ†ï¼Œå®Œæ•´ä»£ç è§ä¸‹æ–¹)</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y) : m_x(x), m_y(y) &#123;</span><br><span class="line">    ++m_point_count; <span class="comment">// æ¯æ¬¡åˆ›å»ºå¯¹è±¡ï¼Œè®¡æ•°åŠ ä¸€</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point(double, double) constructor called. Point count: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Point::Point(<span class="keyword">double</span> xy_coord) : Point(xy_coord, xy_coord) &#123;</span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°å·²ç»å¤„ç†äº† m_point_count çš„å¢é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Point::Point() : Point(<span class="number">0.0</span>, <span class="number">0.0</span>) &#123;</span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°å·²ç»å¤„ç†äº† m_point_count çš„å¢é‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Point::Point(<span class="keyword">const</span> Point&amp; other) : m_x(other.m_x), m_y(other.m_y) &#123;</span><br><span class="line">    ++m_point_count; <span class="comment">// å¤åˆ¶æ„é€ ä¹Ÿç®—åˆ›å»ºæ–°å¯¹è±¡ï¼Œè®¡æ•°åŠ ä¸€</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point copy constructor called. Point count: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°å®ç°</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    --m_point_count; <span class="comment">// æ¯æ¬¡é”€æ¯å¯¹è±¡ï¼Œè®¡æ•°å‡ä¸€</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point destructor called. Point count: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å‡½æ•°å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_point_count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤º const æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å°½ç®¡æ˜¯ const æˆå‘˜å‡½æ•°ï¼Œä½† m_point_count ä¸å±äºå¯¹è±¡çŠ¶æ€ï¼Œæ‰€ä»¥å¯ä»¥è¢«ä¿®æ”¹</span></span><br><span class="line">    ++m_point_count;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Static count incremented via const member function. New count: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ... å…¶ä»–æˆå‘˜å‡½æ•°å®ç° ...</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point [m_x address: "</span> &lt;&lt; &amp;m_x &lt;&lt; <span class="string">", m_y address: "</span> &lt;&lt; &amp;m_y &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">std</span>::<span class="built_in">sqrt</span>(<span class="built_in">std</span>::<span class="built_in">pow</span>(m_x - <span class="number">0.0</span>, <span class="number">2</span>) + <span class="built_in">std</span>::<span class="built_in">pow</span>(m_y - <span class="number">0.0</span>, <span class="number">2</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>è§£é‡Šï¼š</strong></p>
<ul>
<li>åœ¨ <code>Point.cpp</code> æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å†™ä¸‹äº† <code>size_t Point::m_point_count = 0;</code> è¿™è¡Œä»£ç ã€‚<ul>
<li><code>size_t</code>ï¼šè¡¨ç¤º <code>m_point_count</code> çš„ç±»å‹ã€‚</li>
<li><code>Point::</code>ï¼šè¿™æ˜¯ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/qualified_name" target="_blank" rel="external nofollow noopener noreferrer">scope resolution operator</a>ï¼‰ï¼Œå®ƒå‘Šè¯‰ç¼–è¯‘å™¨ <code>m_point_count</code> æ˜¯ <code>Point</code> ç±»çš„æˆå‘˜ã€‚</li>
<li><code>= 0;</code>ï¼šè¿™æ˜¯å¯¹ <code>m_point_count</code> è¿›è¡Œçš„åˆå§‹èµ‹å€¼ã€‚</li>
</ul>
</li>
<li><strong>åˆå§‹åŒ–æ—¶æœºï¼š</strong> é™æ€æˆå‘˜å˜é‡çš„åˆå§‹åŒ–å‘ç”Ÿåœ¨ <code>main</code> å‡½æ•°è¿è¡Œä¹‹å‰ã€‚è¿™æ„å‘³ç€å³ä½¿ä½ çš„ç¨‹åºæ²¡æœ‰åˆ›å»ºä»»ä½• <code>Point</code> å¯¹è±¡ï¼Œ<code>m_point_count</code> ä¹Ÿä¼šè¢«æ­£ç¡®åœ°åˆå§‹åŒ–ä¸º <code>0</code>ã€‚é“¾æ¥å™¨ï¼ˆ<a href="https://en.wikipedia.org/wiki/Linker_(computing" target="_blank" rel="external nofollow noopener noreferrer">linker</a>)ï¼‰ä¼šè´Ÿè´£åœ¨ç¼–è¯‘ï¼ˆ<a href="https://en.wikipedia.org/wiki/Compiler" target="_blank" rel="external nofollow noopener noreferrer">compilation</a>ï¼‰è¿‡ç¨‹ä¸­æ‰¾åˆ°è¿™ä¸ªå”¯ä¸€çš„åˆå§‹åŒ–å®šä¹‰ã€‚</li>
<li><strong>åœ¨æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­æ›´æ–°ï¼š</strong> ä¸ºäº†å®ç°å¯¹è±¡è®¡æ•°ï¼Œæˆ‘ä»¬åœ¨ <code>Point</code> ç±»çš„æ‰€æœ‰æ„é€ å‡½æ•°ä¸­å¢åŠ äº† <code>++m_point_count;</code>ï¼Œå¹¶åœ¨ææ„å‡½æ•°ä¸­å¢åŠ äº† <code>--m_point_count;</code>ã€‚è¿™æ ·ï¼Œæ¯æ¬¡åˆ›å»º <code>Point</code> å¯¹è±¡æ—¶ï¼Œè®¡æ•°å°±ä¼šå¢åŠ ï¼›æ¯æ¬¡ <code>Point</code> å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œè®¡æ•°å°±ä¼šå‡å°‘ã€‚</li>
</ul>
<h2 id="4-å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ"><a href="#4-å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ" class="headerlink" title="4. å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ"></a><strong>4. å¦‚ä½•è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼Ÿ</strong></h2><p>è®¿é—®é™æ€æˆå‘˜å˜é‡æœ‰ä¸¤ç§ä¸»è¦æ–¹å¼ï¼š</p>
<p><strong>a. é€šè¿‡ç±»åç›´æ¥è®¿é—® (æ¨èä¸”å¸¸è§)ï¼š</strong></p>
<p>å¦‚æœé™æ€æˆå‘˜å˜é‡æ˜¯ <code>public</code>ï¼ˆå…¬å…±ï¼‰çš„ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åå’Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ <code>::</code> æ¥è®¿é—®å®ƒã€‚è¿™ç§æ–¹å¼æœ€å¸¸ç”¨ï¼Œä¹Ÿæœ€èƒ½ä½“ç°é™æ€æˆå‘˜å˜é‡â€œå±äºç±»â€çš„ç‰¹æ€§ã€‚</p>
<p><strong>è¯­æ³•ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ClassName::static_member_variable_name</span><br></pre></td></tr></table></figure></div>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨åˆ›å»ºä»»ä½• Point å¯¹è±¡ä¹‹å‰ï¼Œè®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// Point::m_point_count (å¦‚æœ m_point_count æ˜¯ public çš„è¯)</span></span><br><span class="line">    <span class="comment">// ç”±äºæˆ‘ä»¬å°† m_point_count è®¾ç½®ä¸º privateï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡é™æ€æˆå‘˜å‡½æ•°è®¿é—®</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ç¨‹åºå¼€å§‹æ—¶ï¼ŒPoint å¯¹è±¡çš„æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 0</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10.0</span>, <span class="number">20.0</span>)</span></span>; <span class="comment">// è°ƒç”¨æ„é€ å‡½æ•°ï¼Œm_point_count å˜ä¸º 1</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p1 åï¼ŒPoint å¯¹è±¡çš„æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 1</span></span><br><span class="line"></span><br><span class="line">    p1.print_info(); <span class="comment">// æ‰“å° p1 çš„æˆå‘˜å˜é‡åœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª Point æ•°ç»„</span></span><br><span class="line">    Point points_arr[] = &#123; Point(<span class="number">1.0</span>, <span class="number">1.0</span>), Point(), Point(<span class="number">4.0</span>) &#125;; <span class="comment">// åˆ›å»º 3 ä¸ª Point å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»ºæ•°ç»„åï¼ŒPoint å¯¹è±¡çš„æ€»æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¼”ç¤º const æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    p1.increment_static_count_via_const_func(); </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ const æˆå‘˜å‡½æ•°ä¿®æ”¹åï¼ŒPoint å¯¹è±¡çš„æ€»æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// è¾“å‡º 5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line">    points_arr[<span class="number">0</span>].print_info();</span><br><span class="line">    points_arr[<span class="number">1</span>].print_info();</span><br><span class="line">    points_arr[<span class="number">2</span>].print_info();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“ main å‡½æ•°ç»“æŸæ—¶ï¼Œp1 å’Œ points_arr ä¸­çš„å¯¹è±¡éƒ½ä¼šè¢«é”€æ¯ï¼Œm_point_count ä¼šç›¸åº”å‡å°‘ã€‚</span></span><br><span class="line">    <span class="comment">// åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ€»å…±æœ‰ 5 ä¸ªå¯¹è±¡ï¼Œç¨‹åºç»“æŸæ—¶ä¼šè°ƒç”¨ 5 æ¬¡ææ„å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// å¦‚æœç¨‹åºåœ¨ main ç»“æŸå‰æ²¡æœ‰æ‰‹åŠ¨é€€å‡ºï¼Œæœ€ç»ˆ m_point_count ä¼šå†æ¬¡å›åˆ° 0ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>b. é€šè¿‡å¯¹è±¡è®¿é—® (ä¸æ¨èï¼Œä½†æœ‰æ—¶éœ€è¦é€šè¿‡æˆå‘˜å‡½æ•°é—´æ¥è®¿é—®)ï¼š</strong></p>
<p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡ç±»çš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡æ¥è®¿é—®é™æ€æˆå‘˜å˜é‡ï¼ˆä½†å¦‚æœé™æ€å˜é‡æ˜¯ <code>private</code> çš„ï¼Œä½ å¿…é¡»é€šè¿‡ä¸€ä¸ªå…¬å…±çš„æˆå‘˜å‡½æ•°æ¥è®¿é—®ï¼‰ã€‚è™½ç„¶è¯­æ³•ä¸Šå…è®¸ <code>object.static_member_variable_name</code> (å¦‚æœ <code>static_member_variable_name</code> æ˜¯ <code>public</code>)ï¼Œä½†è¿™ç§æ–¹å¼å®¹æ˜“è®©äººè¯¯ä»¥ä¸ºé™æ€æˆå‘˜å˜é‡æ˜¯æŸä¸ªç‰¹å®šå¯¹è±¡çš„å±æ€§ï¼Œä»è€Œé€ æˆè¯¯è§£ã€‚<strong>æ›´æ¨èçš„åšæ³•æ˜¯å®šä¹‰ä¸€ä¸ªé™æ€æˆå‘˜å‡½æ•°ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/static_member_function" target="_blank" rel="external nofollow noopener noreferrer">static member function</a>ï¼‰æ¥è®¿é—® <code>private</code> é™æ€æˆå‘˜å˜é‡ã€‚</strong></p>
<p><strong>é™æ€æˆå‘˜å‡½æ•°ï¼š</strong></p>
<ul>
<li>é™æ€æˆå‘˜å‡½æ•°ä¹Ÿä½¿ç”¨ <code>static</code> å…³é”®å­—å£°æ˜ã€‚</li>
<li>å®ƒä»¬ä¸æ¥æ”¶éšå¼çš„ <code>this</code> æŒ‡é’ˆï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½è®¿é—®éé™æ€çš„æˆå‘˜å˜é‡æˆ–æˆå‘˜å‡½æ•°ï¼ˆå› ä¸ºéé™æ€æˆå‘˜å˜é‡å’Œå‡½æ•°æ˜¯ä¾é™„äºå¯¹è±¡çš„ï¼‰ã€‚</li>
<li>å®ƒä»¬ä¸»è¦ç”¨äºæ“ä½œé™æ€æˆå‘˜å˜é‡æˆ–æ‰§è¡Œä¸ç±»æœ¬èº«ç›¸å…³çš„æ“ä½œã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼ˆ<code>Point.h</code> ä¸­å£°æ˜ï¼Œ<code>Point.cpp</code> ä¸­å®ç°ï¼‰ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> m_point_count; <span class="comment">// private</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">size_t</span> <span class="title">get_point_count</span><span class="params">()</span></span>; <span class="comment">// é™æ€æˆå‘˜å‡½æ•°</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_point_count; <span class="comment">// é™æ€æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>åœ¨ <code>main.cpp</code> ä¸­ï¼Œæˆ‘ä»¬å°±æ˜¯é€šè¿‡ <code>Point::get_point_count()</code> æ¥è®¿é—® <code>m_point_count</code> çš„ï¼Œå› ä¸º <code>m_point_count</code> è¢«å£°æ˜ä¸º <code>private</code>ã€‚</p>
<h2 id="5-é™æ€æˆå‘˜å˜é‡ä¸-const-æˆå‘˜å‡½æ•°"><a href="#5-é™æ€æˆå‘˜å˜é‡ä¸-const-æˆå‘˜å‡½æ•°" class="headerlink" title="5. é™æ€æˆå‘˜å˜é‡ä¸ const æˆå‘˜å‡½æ•°"></a><strong>5. é™æ€æˆå‘˜å˜é‡ä¸ <code>const</code> æˆå‘˜å‡½æ•°</strong></h2><p>è¿™æ˜¯ä¸€ä¸ªå®¹æ˜“æ··æ·†çš„ç‚¹ã€‚<code>const</code> æˆå‘˜å‡½æ•°ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/member_function" target="_blank" rel="external nofollow noopener noreferrer">const member function</a>ï¼‰çš„ç›®çš„æ˜¯ä¿è¯ä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡çš„ä»»ä½•éé™æ€æˆå‘˜å˜é‡ã€‚ä½†æ˜¯ï¼Œ<strong><code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡</strong>ã€‚</p>
<p><strong>åŸå› ï¼š</strong></p>
<p>å› ä¸ºé™æ€æˆå‘˜å˜é‡ä¸å±äºä»»ä½•ç‰¹å®šçš„å¯¹è±¡ã€‚å®ƒä»¬æ˜¯ç±»çº§åˆ«çš„ï¼Œä¸æ„æˆå¯¹è±¡çŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚<code>const</code> å…³é”®å­—æ˜¯é’ˆå¯¹å¯¹è±¡å®ä¾‹çš„å¸¸é‡æ€§ï¼ˆ<a href="https://en.cppreference.com/w/cpp/language/const" target="_blank" rel="external nofollow noopener noreferrer">constness</a>ï¼‰ï¼Œè€Œé™æ€æˆå‘˜å˜é‡æ˜¯ç‹¬ç«‹äºå¯¹è±¡å®ä¾‹çš„ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>åœ¨ <code>Point.h</code> ä¸­ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª <code>const</code> æˆå‘˜å‡½æ•° <code>increment_static_count_via_const_func()</code>ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// æ³¨æ„è¿™é‡Œçš„ const</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p>åœ¨ <code>Point.cpp</code> ä¸­å®ç°ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    ++m_point_count; <span class="comment">// è¿™æ˜¯ä¸€ä¸ª const æˆå‘˜å‡½æ•°ï¼Œä½†å®ƒä¿®æ”¹äº†é™æ€æˆå‘˜å˜é‡ m_point_count</span></span><br><span class="line">                      <span class="comment">// è¿™æ˜¯å…è®¸çš„ï¼Œå› ä¸º m_point_count ä¸å±äºå¯¹è±¡çŠ¶æ€</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Static count incremented via const member function. New count: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>åœ¨ <code>main.cpp</code> ä¸­è°ƒç”¨ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10.0</span>, <span class="number">20.0</span>)</span></span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">p1.increment_static_count_via_const_func(); <span class="comment">// è°ƒç”¨ const å‡½æ•°æ¥ä¿®æ”¹é™æ€å˜é‡</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ const æˆå‘˜å‡½æ•°ä¿®æ”¹åï¼ŒPoint å¯¹è±¡çš„æ€»æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></div>
<p>è¿™è¯æ˜äº† <code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡ã€‚</p>
<h2 id="6-å®Œæ•´ä»£ç ç¤ºä¾‹"><a href="#6-å®Œæ•´ä»£ç ç¤ºä¾‹" class="headerlink" title="6. å®Œæ•´ä»£ç ç¤ºä¾‹"></a><strong>6. å®Œæ•´ä»£ç ç¤ºä¾‹</strong></h2><p>ä¸ºäº†è®©æ‚¨æ›´å¥½åœ°ç†è§£ï¼Œæˆ‘ä»¬å°†ä¸Šé¢æ‰€æœ‰çš„ä»£ç ç‰‡æ®µç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ã€‚</p>
<p><strong><code>Point.h</code>:</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt; // for size_t, typically used for counts or sizes</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="comment">// å£°æ˜é™æ€æˆå‘˜å˜é‡ï¼šç”¨äºè·Ÿè¸ª Point å¯¹è±¡çš„æ•°é‡</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œåªæ˜¯å£°æ˜ï¼Œä¸èƒ½åˆå§‹åŒ–ã€‚</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> m_point_count; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°å°†ä¼šåœ¨å†…éƒ¨è°ƒç”¨è¿™ä¸ªä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">    Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y); </span><br><span class="line">    Point(<span class="keyword">double</span> xy_coord); <span class="comment">// å•å‚æ•°æ„é€ å‡½æ•°ï¼Œxå’Œyåæ ‡ç›¸åŒ</span></span><br><span class="line">    Point();                <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    Point(<span class="keyword">const</span> Point&amp; other); <span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°ï¼šå½“ Point å¯¹è±¡é”€æ¯æ—¶ï¼Œå‡å°‘è®¡æ•°</span></span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å° Point å¯¹è±¡çš„æˆå‘˜å˜é‡åœ°å€ (éé™æ€æˆå‘˜å˜é‡)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—ç‚¹åˆ°åŸç‚¹çš„è·ç¦» (éé™æ€æˆå‘˜å‡½æ•°)</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æˆå‘˜å‡½æ•°ï¼šç”¨äºè·å–é™æ€æˆå‘˜å˜é‡ m_point_count çš„å€¼</span></span><br><span class="line">    <span class="comment">// é™æ€å‡½æ•°ä¸èƒ½è®¿é—®éé™æ€æˆå‘˜å˜é‡ (å¦‚ m_x, m_y)</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">size_t</span> <span class="title">get_point_count</span><span class="params">()</span></span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¼”ç¤º const æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong><code>Point.cpp</code>:</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // For std::cout, std::endl</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;    // For std::sqrt, std::pow</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">// å¿…é¡»åœ¨ç±»å®šä¹‰å¤–éƒ¨çš„ .cpp æ–‡ä»¶ä¸­è¿›è¡Œï¼Œå¹¶ä¸”éœ€è¦æŒ‡æ˜æ‰€å±çš„ç±» Point::</span></span><br><span class="line"><span class="keyword">size_t</span> Point::m_point_count = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y) : m_x(x), m_y(y) &#123;</span><br><span class="line">    ++m_point_count; <span class="comment">// æ¯æ¬¡åˆ›å»º Point å¯¹è±¡ï¼Œé™æ€è®¡æ•°åŠ  1</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(double, double) è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•å‚æ•°æ„é€ å‡½æ•°ï¼šå§”æ‰˜ç»™ä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> xy_coord) : Point(xy_coord, xy_coord) &#123;</span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°å·²å¤„ç† m_point_count çš„å¢é‡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(double) è¢«è°ƒç”¨."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤æ„é€ å‡½æ•°ï¼šå§”æ‰˜ç»™ä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point() : Point(<span class="number">0.0</span>, <span class="number">0.0</span>) &#123;</span><br><span class="line">    <span class="comment">// å§”æ‰˜æ„é€ å‡½æ•°å·²å¤„ç† m_point_count çš„å¢é‡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point() è¢«è°ƒç”¨."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹·è´æ„é€ å‡½æ•°ï¼šå§”æ‰˜ç»™ä¸¤å‚æ•°æ„é€ å‡½æ•°ï¼ˆè¿™é‡Œä¸ºäº†æ¼”ç¤ºï¼Œæ‰‹åŠ¨å¤åˆ¶å¹¶å¢åŠ è®¡æ•°ï¼‰</span></span><br><span class="line">Point::Point(<span class="keyword">const</span> Point&amp; other) : m_x(other.m_x), m_y(other.m_y) &#123;</span><br><span class="line">    ++m_point_count; <span class="comment">// æ‹·è´æ„é€ ä¹Ÿç®—åˆ›å»ºæ–°å¯¹è±¡ï¼Œé™æ€è®¡æ•°åŠ  1</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(const Point&amp;) æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    --m_point_count; <span class="comment">// æ¯æ¬¡é”€æ¯ Point å¯¹è±¡ï¼Œé™æ€è®¡æ•°å‡ 1</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[ææ„å‡½æ•°] Point å¯¹è±¡è¢«é”€æ¯. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å° Point å¯¹è±¡çš„æˆå‘˜å˜é‡åœ°å€</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  Point å¯¹è±¡åœ°å€ä¿¡æ¯: [m_x åœ°å€: "</span> &lt;&lt; &amp;m_x &lt;&lt; <span class="string">", m_y åœ°å€: "</span> &lt;&lt; &amp;m_y &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—ç‚¹åˆ°åŸç‚¹çš„è·ç¦»</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ std::pow è®¡ç®—å¹³æ–¹ï¼Œstd::sqrt è®¡ç®—å¹³æ–¹æ ¹</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">std</span>::<span class="built_in">sqrt</span>(<span class="built_in">std</span>::<span class="built_in">pow</span>(m_x, <span class="number">2</span>) + <span class="built_in">std</span>::<span class="built_in">pow</span>(m_y, <span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å‡½æ•°çš„å®ç°ï¼šè·å–é™æ€æˆå‘˜å˜é‡ m_point_count çš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_point_count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¼”ç¤º const æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å°½ç®¡è¿™ä¸ªå‡½æ•°æ˜¯ const çš„ï¼Œä½†å®ƒèƒ½ä¿®æ”¹ m_point_countï¼Œ</span></span><br><span class="line">    <span class="comment">// å› ä¸º m_point_count ä¸å±äºä»»ä½• Point å¯¹è±¡çš„å®ä¾‹çŠ¶æ€ã€‚</span></span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  [æ¼”ç¤º] é€šè¿‡ const æˆå‘˜å‡½æ•°è°ƒç”¨ `increment_static_count_via_const_func()`ï¼Œé™æ€è®¡æ•°è¢«ä¿®æ”¹. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong><code>main.cpp</code>:</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span>      <span class="comment">// åŒ…å« Point ç±»çš„å®šä¹‰</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;     // For std::cout, std::endl</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;       // For std::vector (å¯é€‰ï¼Œç”¨äºæ¼”ç¤ºåŠ¨æ€åˆ›å»ºå¤šä¸ªå¯¹è±¡)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç¨‹åºå¼€å§‹ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. åœ¨åˆ›å»ºä»»ä½• Point å¯¹è±¡ä¹‹å‰ï¼Œè®¿é—®é™æ€æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// é€šè¿‡é™æ€æˆå‘˜å‡½æ•° Point::get_point_count() è®¿é—®ï¼Œå› ä¸º m_point_count æ˜¯ private çš„</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å½“å‰ Point å¯¹è±¡çš„æ•°é‡ (ç¨‹åºå¯åŠ¨æ—¶): "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸè¾“å‡º: 0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- åˆ›å»ºç¬¬ä¸€ä¸ª Point å¯¹è±¡ p1 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">10.0</span>, <span class="number">20.0</span>)</span></span>; <span class="comment">// åˆ›å»ºä¸€ä¸ª Point å¯¹è±¡ï¼Œm_point_count å¢åŠ </span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p1 åï¼ŒPoint å¯¹è±¡çš„æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸè¾“å‡º: 1</span></span><br><span class="line">    p1.print_info(); <span class="comment">// æ‰“å° p1 çš„åœ°å€ä¿¡æ¯ï¼Œæ˜¾ç¤ºå®ƒæœ‰ç‹¬ç«‹çš„ m_x å’Œ m_y åœ°å€</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- åˆ›å»º Point æ•°ç»„ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨åˆ›å»º Point å¯¹è±¡æ•°ç»„ï¼Œä¼šè°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°</span></span><br><span class="line">    Point points_arr[] = &#123;</span><br><span class="line">        Point(<span class="number">1.0</span>, <span class="number">1.0</span>), <span class="comment">// è°ƒç”¨ Point(double, double)</span></span><br><span class="line">        Point(),         <span class="comment">// è°ƒç”¨ Point() -&gt; å§”æ‰˜ Point(0.0, 0.0)</span></span><br><span class="line">        Point(<span class="number">4.0</span>)       <span class="comment">// è°ƒç”¨ Point(double) -&gt; å§”æ‰˜ Point(4.0, 4.0)</span></span><br><span class="line">    &#125;; </span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»ºæ•°ç»„åï¼ŒPoint å¯¹è±¡çš„æ€»æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸè¾“å‡º: 1 + 3 = 4</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- æ•°ç»„ä¸­å„ Point å¯¹è±¡çš„åœ°å€ä¿¡æ¯ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    points_arr[<span class="number">0</span>].print_info();</span><br><span class="line">    points_arr[<span class="number">1</span>].print_info();</span><br><span class="line">    points_arr[<span class="number">2</span>].print_info();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¯”è¾ƒ p1 å’Œæ•°ç»„ä¸­å¯¹è±¡çš„åœ°å€ï¼Œè¯´æ˜å®ƒä»¬æ˜¯ç‹¬ç«‹çš„å¯¹è±¡</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"æ³¨æ„: p1 å’Œ points_arr ä¸­å¯¹è±¡çš„ m_x, m_y åœ°å€éƒ½ä¸åŒï¼Œè¯´æ˜å®ƒä»¬æ˜¯ç‹¬ç«‹çš„å¯¹è±¡å®ä¾‹ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä½†æ‰€æœ‰å¯¹è±¡å…±äº«åŒä¸€ä¸ª m_point_count é™æ€å˜é‡ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- æ¼”ç¤º const æˆå‘˜å‡½æ•°ä¿®æ”¹é™æ€æˆå‘˜å˜é‡ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    p1.increment_static_count_via_const_func(); <span class="comment">// è°ƒç”¨ const æˆå‘˜å‡½æ•°ï¼Œä¿®æ”¹é™æ€è®¡æ•°</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ const æˆå‘˜å‡½æ•°ä¿®æ”¹åï¼ŒPoint å¯¹è±¡çš„æ€»æ•°é‡: "</span> &lt;&lt; Point::get_point_count() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸè¾“å‡º: 5</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- è®¡ç®—è·ç¦» ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p1 åˆ°åŸç‚¹çš„è·ç¦»: "</span> &lt;&lt; p1.distance_to_origin() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸè¾“å‡º: æ ¹å·(10*10 + 20*20) = 22.36</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n--- ç¨‹åºç»“æŸ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// åœ¨ main å‡½æ•°ç»“æŸæ—¶ï¼Œæ‰€æœ‰å±€éƒ¨å¯¹è±¡ (p1, points_arr ä¸­çš„å¯¹è±¡) å°†è¢«é”€æ¯ï¼Œ</span></span><br><span class="line">    <span class="comment">// å®ƒä»¬çš„ææ„å‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œm_point_count å°†ä¼šç›¸åº”å‡å°‘ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>ç¼–è¯‘å’Œè¿è¡Œï¼š</strong></p>
<p>ä½ éœ€è¦å°†è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼ˆ<code>Point.h</code>, <code>Point.cpp</code>, <code>main.cpp</code>ï¼‰æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚ç„¶åä½¿ç”¨ C++ ç¼–è¯‘å™¨ï¼ˆå¦‚ g++ï¼‰è¿›è¡Œç¼–è¯‘ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ Point.cpp main.cpp -o my_point_app -std=c++17 <span class="comment"># -std=c++17 å¯é€‰ï¼Œç¡®ä¿ç¼–è¯‘å™¨æ”¯æŒ C++17 æˆ–æ›´é«˜ç‰ˆæœ¬</span></span><br><span class="line">./my_point_app</span><br></pre></td></tr></table></figure></div>
<p>è¿è¡Œç»“æœä¼šæ¸…æ™°åœ°å±•ç¤º <code>m_point_count</code> å¦‚ä½•éšç€å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯è€Œå˜åŒ–ï¼Œä»¥åŠå®ƒåœ¨ <code>main</code> å‡½æ•°è¿è¡Œå‰å°±å·²ç»åˆå§‹åŒ–ï¼Œå¹¶ä¸” <code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹å®ƒçš„ç‰¹æ€§ã€‚</p>
<h2 id="4-QA-é—ªå¡-QA-Flash-Cards"><a href="#4-QA-é—ªå¡-QA-Flash-Cards" class="headerlink" title="4. QA é—ªå¡ (QA Flash Cards)"></a><strong>4. QA é—ªå¡ (QA Flash Cards)</strong></h2><p><strong>Q1:</strong> ä»€ä¹ˆæ˜¯é™æ€æˆå‘˜å˜é‡ï¼Ÿå®ƒä¸æ™®é€šæˆå‘˜å˜é‡æœ‰ä»€ä¹ˆä¸»è¦åŒºåˆ«ï¼Ÿ<br><strong>A1:</strong> é™æ€æˆå‘˜å˜é‡æ˜¯å±äºç±»æœ¬èº«çš„å˜é‡ï¼Œä¸ä¾é™„äºä»»ä½•ç‰¹å®šçš„å¯¹è±¡ã€‚æ‰€æœ‰å¯¹è±¡å…±äº«è¿™åŒä¸€ä¸ªå‰¯æœ¬ã€‚è€Œæ™®é€šæˆå‘˜å˜é‡å±äºæ¯ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹å‰¯æœ¬ã€‚</p>
<p><strong>Q2:</strong> å¦‚ä½•å£°æ˜ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ï¼Ÿ<br><strong>A2:</strong> åœ¨ç±»å®šä¹‰ä¸­ï¼Œåœ¨æˆå‘˜å˜é‡ç±»å‹å‰åŠ ä¸Š <code>static</code> å…³é”®å­—ã€‚ä¾‹å¦‚ï¼š<code>static int my_static_var;</code></p>
<p><strong>Q3:</strong> é™æ€æˆå‘˜å˜é‡åº”è¯¥åœ¨å“ªé‡Œè¿›è¡Œåˆå§‹åŒ–ï¼Ÿä¸ºä»€ä¹ˆä¸èƒ½åœ¨ç±»å®šä¹‰ä¸­åˆå§‹åŒ–ï¼Ÿ<br><strong>A3:</strong> é™æ€æˆå‘˜å˜é‡å¿…é¡»åœ¨ç±»å®šä¹‰ä¹‹å¤–çš„ <code>.cpp</code> æºæ–‡ä»¶ä¸­è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼š<code>int MyClass::my_static_var = 0;</code>ã€‚ä¸èƒ½åœ¨ç±»å®šä¹‰ä¸­åˆå§‹åŒ–æ˜¯å› ä¸ºé¿å…é‡å¤å®šä¹‰çš„é—®é¢˜ï¼Œå¤´æ–‡ä»¶å¯èƒ½è¢«å¤šä¸ªæºæ–‡ä»¶åŒ…å«ã€‚</p>
<p><strong>Q4:</strong> é™æ€æˆå‘˜å˜é‡æ˜¯åœ¨ç¨‹åºçš„å“ªä¸ªé˜¶æ®µè¢«åˆå§‹åŒ–çš„ï¼Ÿ<br><strong>A4:</strong> å®ƒä»¬åœ¨ <code>main</code> å‡½æ•°è¿è¡Œä¹‹å‰å°±è¢«åˆå§‹åŒ–ï¼Œç”Ÿå‘½å‘¨æœŸä¸æ•´ä¸ªç¨‹åºç›¸åŒã€‚</p>
<p><strong>Q5:</strong> <code>const</code> æˆå‘˜å‡½æ•°å¯ä»¥ä¿®æ”¹é™æ€æˆå‘˜å˜é‡å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ<br><strong>A5:</strong> å¯ä»¥ã€‚å› ä¸º <code>const</code> æˆå‘˜å‡½æ•°åªæ‰¿è¯ºä¸ä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡çš„éé™æ€æˆå‘˜å˜é‡ã€‚é™æ€æˆå‘˜å˜é‡ä¸å±äºä»»ä½•ç‰¹å®šå¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œæ˜¯å±äºç±»æœ¬èº«ï¼Œå› æ­¤ä¸å—å¯¹è±¡ <code>const</code> æ€§çš„é™åˆ¶ã€‚</p>
<h2 id="5-å¸¸è§è¯¯è§£æˆ–é”™è¯¯"><a href="#5-å¸¸è§è¯¯è§£æˆ–é”™è¯¯" class="headerlink" title="5. å¸¸è§è¯¯è§£æˆ–é”™è¯¯"></a><strong>5. å¸¸è§è¯¯è§£æˆ–é”™è¯¯</strong></h2><ol>
<li><strong>å¿˜è®°åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é”™è¯¯ã€‚åªåœ¨ <code>.h</code> æ–‡ä»¶ä¸­å£°æ˜ <code>static int my_static_var;</code> æ˜¯ä¸å¤Ÿçš„ï¼Œä½ å¿…é¡»åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­å†™ä¸Š <code>int MyClass::my_static_var = 0;</code>ã€‚å¦åˆ™ï¼Œé“¾æ¥å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒæ‰¾ä¸åˆ°è¯¥å˜é‡çš„å®šä¹‰ã€‚</li>
<li><strong>åœ¨ <code>.h</code> æ–‡ä»¶ï¼ˆç±»å®šä¹‰å†…éƒ¨ï¼‰å°è¯•åˆå§‹åŒ–é <code>const</code> é™æ€æˆå‘˜å˜é‡ï¼š</strong> é™¤éä½ ä½¿ç”¨çš„æ˜¯ C++17 çš„ <code>inline</code> å…³é”®å­—ï¼Œå¦åˆ™åœ¨ç±»å®šä¹‰å†…éƒ¨ç›´æ¥åˆå§‹åŒ– <code>static int my_static_var = 0;</code> ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºæ—§ç‰ˆæœ¬ C++ è§„å®šï¼Œé <code>const</code> é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–å¿…é¡»åœ¨å¤–éƒ¨ã€‚</li>
<li><strong>è®¤ä¸ºé™æ€æˆå‘˜å˜é‡æ˜¯æ¯ä¸ªå¯¹è±¡ç‹¬ç«‹æ‹¥æœ‰çš„ï¼š</strong> è¿™æ˜¯å¯¹â€œé™æ€â€æœ€æ ¸å¿ƒçš„è¯¯è§£ã€‚é™æ€æˆå‘˜å˜é‡æ˜¯æ‰€æœ‰å¯¹è±¡å…±äº«çš„ï¼Œåªæœ‰ä¸€ä¸ªå‰¯æœ¬ã€‚</li>
<li><strong>åœ¨é™æ€æˆå‘˜å‡½æ•°ä¸­è®¿é—®éé™æ€æˆå‘˜å˜é‡ï¼š</strong> é™æ€æˆå‘˜å‡½æ•°ä¸æ¥æ”¶ <code>this</code> æŒ‡é’ˆï¼Œå› æ­¤å®ƒä»¬æ— æ³•ç›´æ¥è®¿é—®ç±»çš„éé™æ€æˆå‘˜å˜é‡ï¼ˆå¦‚ <code>m_x</code>, <code>m_y</code>ï¼‰ï¼Œå› ä¸ºè¿™äº›å˜é‡æ˜¯ä¸ç‰¹å®šå¯¹è±¡å®ä¾‹ç»‘å®šçš„ã€‚</li>
<li><strong>å¯¹ <code>const</code> æˆå‘˜å‡½æ•°ä¿®æ”¹é™æ€æˆå‘˜å˜é‡æ„Ÿåˆ°å›°æƒ‘ï¼š</strong> è¿™æ˜¯å¯¹ <code>const</code> è¯­ä¹‰ç†è§£ä¸æ·±é€ æˆçš„ã€‚è®°ä½ <code>const</code> æ˜¯é’ˆå¯¹å¯¹è±¡å®ä¾‹çš„ï¼Œä¸æ˜¯é’ˆå¯¹ç±»çš„ã€‚</li>
</ol>
<hr>
<h2 id="6-ç¼–ç¨‹ç»ƒä¹ "><a href="#6-ç¼–ç¨‹ç»ƒä¹ " class="headerlink" title="6. ç¼–ç¨‹ç»ƒä¹ "></a><strong>6. ç¼–ç¨‹ç»ƒä¹ </strong></h2><p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™åŠ¨æ‰‹å®è·µä¸€ä¸‹äº†ï¼</p>
<p><strong>ä»»åŠ¡ï¼š</strong></p>
<p>æˆ‘ä»¬å°†æ‰©å±• <code>Point</code> ç±»ã€‚é™¤äº† <code>m_point_count</code> ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¸Œæœ›è¿½è¸ª <strong>å½“å‰æ´»åŠ¨ï¼ˆå³æœªè¢«é”€æ¯ï¼‰çš„ <code>Point</code> å¯¹è±¡çš„æ€»é¢ç§¯</strong>ã€‚å‡è®¾æ¯ä¸ª <code>Point</code> å¯¹è±¡ä»£è¡¨ä¸€ä¸ªè¾¹é•¿ä¸º <code>m_x</code> çš„æ­£æ–¹å½¢ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡æ¥ç´¯åŠ æ‰€æœ‰æ´»åŠ¨ <code>Point</code> å¯¹è±¡çš„é¢ç§¯ã€‚</p>
<p>è¯·å®Œæˆä»¥ä¸‹ä»£ç ç‰‡æ®µï¼Œå®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</p>
<p><strong><code>Point.h</code> (å·²æä¾›éƒ¨åˆ†ä»£ç ï¼Œä½ éœ€è¦æ·»åŠ æ–°çš„é™æ€æˆå‘˜å£°æ˜):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_EXERCISE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_EXERCISE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt; // for size_t</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> m_point_count; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// TODO 1: åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸ªæ–°çš„é™æ€æˆå‘˜å˜é‡ m_total_areaï¼Œç±»å‹ä¸º doubleã€‚</span></span><br><span class="line">    <span class="comment">// å®ƒåº”è¯¥è¿½è¸ªæ‰€æœ‰æ´»åŠ¨ Point å¯¹è±¡çš„æ€»é¢ç§¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y);</span><br><span class="line">    Point(<span class="keyword">double</span> xy_coord);</span><br><span class="line">    Point();</span><br><span class="line">    Point(<span class="keyword">const</span> Point&amp; other);</span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">size_t</span> <span class="title">get_point_count</span><span class="params">()</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 2: åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸ªæ–°çš„é™æ€æˆå‘˜å‡½æ•° get_total_area()ï¼Œè¿”å› m_total_area çš„å€¼ã€‚</span></span><br><span class="line">    <span class="comment">// è¯¥å‡½æ•°åº”è¯¥æ˜¯é™æ€çš„ï¼Œå› ä¸º m_total_area æ˜¯é™æ€æˆå‘˜å˜é‡ã€‚</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_EXERCISE_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong><code>Point.cpp</code> (å·²æä¾›éƒ¨åˆ†ä»£ç ï¼Œä½ éœ€è¦å®Œæˆ TODO éƒ¨åˆ†):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;    </span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å˜é‡ m_point_count çš„å®šä¹‰å’Œåˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">size_t</span> Point::m_point_count = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO 3: åœ¨è¿™é‡Œå®šä¹‰å’Œåˆå§‹åŒ–æ–°çš„é™æ€æˆå‘˜å˜é‡ m_total_area ä¸º 0.0ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y) : m_x(x), m_y(y) &#123;</span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="comment">// TODO 4: åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) åŠ åˆ° m_total_areaã€‚</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(double, double) è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">const</span> Point&amp; other) : m_x(other.m_x), m_y(other.m_y) &#123;</span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="comment">// TODO 5: åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼ŒåŒæ ·å°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) åŠ åˆ° m_total_areaã€‚</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(const Point&amp;) æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    --m_point_count; </span><br><span class="line">    <span class="comment">// TODO 6: åœ¨ææ„å‡½æ•°ä¸­ï¼Œå°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) ä» m_total_area ä¸­å‡å»ã€‚</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[ææ„å‡½æ•°] Point å¯¹è±¡è¢«é”€æ¯. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO 7: å®ç°é™æ€æˆå‘˜å‡½æ•° get_total_area()ï¼Œè¿”å› m_total_area çš„å€¼ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä»–æ„é€ å‡½æ•°å’Œæˆå‘˜å‡½æ•°ä¿æŒä¸å˜ (ä¸ºç®€æ´çœç•¥)</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> xy_coord) : Point(xy_coord, xy_coord) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">Point::Point() : Point(<span class="number">0.0</span>, <span class="number">0.0</span>) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_point_count; &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; ++m_point_count; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  [æ¼”ç¤º] é€šè¿‡ const æˆå‘˜å‡½æ•°è°ƒç”¨ `increment_static_count_via_const_func()`ï¼Œé™æ€è®¡æ•°è¢«ä¿®æ”¹. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br></pre></td></tr></table></figure></div>
<p><strong><code>main.cpp</code> (ä½ éœ€è¦åœ¨è¿™é‡Œæµ‹è¯•ä½ çš„å®ç°):</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span>      </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;     </span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç»ƒä¹ å¼€å§‹ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆå§‹ Point æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", åˆå§‹æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// TODO 8: è°ƒç”¨ get_total_area()</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">5.0</span>, <span class="number">5.0</span>)</span></span>; <span class="comment">// è¾¹é•¿ä¸º 5 çš„æ­£æ–¹å½¢</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p1 (è¾¹é•¿ 5.0) åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸæ€»é¢ç§¯ 25.0</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">10.0</span>, <span class="number">10.0</span>)</span></span>; <span class="comment">// è¾¹é•¿ä¸º 10 çš„æ­£æ–¹å½¢</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p2 (è¾¹é•¿ 10.0) åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸæ€»é¢ç§¯ 25.0 + 100.0 = 125.0</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="comment">// åˆ›å»ºä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸï¼Œè®© p3 åœ¨è¿™é‡Œé”€æ¯</span></span><br><span class="line">        <span class="function">Point <span class="title">p3</span><span class="params">(<span class="number">2.0</span>, <span class="number">2.0</span>)</span></span>; <span class="comment">// è¾¹é•¿ä¸º 2 çš„æ­£æ–¹å½¢</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p3 (è¾¹é•¿ 2.0) åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">                  &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸæ€»é¢ç§¯ 125.0 + 4.0 = 129.0</span></span><br><span class="line">    &#125; <span class="comment">// p3 åœ¨æ­¤ä½œç”¨åŸŸç»“æŸæ—¶è¢«é”€æ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p3 é”€æ¯åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// é¢„æœŸæ€»é¢ç§¯ 129.0 - 4.0 = 125.0</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç»ƒä¹ ç»“æŸ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¯·æ‚¨åœ¨æä¾›çš„ä»£ç ä¸­å¡«å…¥ <code>TODO</code> æ ‡è®°å¤„çš„ä»£ç ï¼Œç„¶åç¼–è¯‘å¹¶è¿è¡Œï¼Œçœ‹çœ‹æ˜¯å¦èƒ½å¾—åˆ°é¢„æœŸçš„ç»“æœã€‚å®Œæˆåï¼Œè¯·å°†æ‚¨çš„è§£å†³æ–¹æ¡ˆå‘ç»™æˆ‘ï¼</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>Point.h:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_EXERCISE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_EXERCISE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt; // for size_t</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> m_point_count; </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> m_total_area;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// TODO 1: åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸ªæ–°çš„é™æ€æˆå‘˜å˜é‡ m_total_areaï¼Œç±»å‹ä¸º doubleã€‚</span></span><br><span class="line">    <span class="comment">// å®ƒåº”è¯¥è¿½è¸ªæ‰€æœ‰æ´»åŠ¨ Point å¯¹è±¡çš„æ€»é¢ç§¯ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y);</span><br><span class="line">    Point(<span class="keyword">double</span> xy_coord);</span><br><span class="line">    Point();</span><br><span class="line">    Point(<span class="keyword">const</span> Point&amp; other);</span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">size_t</span> <span class="title">get_point_count</span><span class="params">()</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 2: åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸ªæ–°çš„é™æ€æˆå‘˜å‡½æ•° get_total_area()ï¼Œè¿”å› m_total_area çš„å€¼ã€‚</span></span><br><span class="line">    <span class="comment">// è¯¥å‡½æ•°åº”è¯¥æ˜¯é™æ€çš„ï¼Œå› ä¸º m_total_area æ˜¯é™æ€æˆå‘˜å˜é‡ã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">double</span> <span class="title">get_total_area</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_EXERCISE_H</span></span></span><br></pre></td></tr></table></figure></div>
<p>Point.cpp</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;    </span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å˜é‡ m_point_count çš„å®šä¹‰å’Œåˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">size_t</span> Point::m_point_count = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO 3: åœ¨è¿™é‡Œå®šä¹‰å’Œåˆå§‹åŒ–æ–°çš„é™æ€æˆå‘˜å˜é‡ m_total_area ä¸º 0.0ã€‚</span></span><br><span class="line"><span class="keyword">double</span> Point::m_total_area = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y) : m_x(x), m_y(y) &#123;</span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="comment">// TODO 4: åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) åŠ åˆ° m_total_areaã€‚</span></span><br><span class="line">    m_total_area += m_x * m_y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(double, double) è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">const</span> Point&amp; other) : m_x(other.m_x), m_y(other.m_y) &#123;</span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="comment">// TODO 5: åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼ŒåŒæ ·å°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) åŠ åˆ° m_total_areaã€‚</span></span><br><span class="line">    m_total_area += m_x * m_y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(const Point&amp;) æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    --m_point_count; </span><br><span class="line">    <span class="comment">// TODO 6: åœ¨ææ„å‡½æ•°ä¸­ï¼Œå°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) ä» m_total_area ä¸­å‡å»ã€‚</span></span><br><span class="line">    m_total_area -= m_x * m_y;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[ææ„å‡½æ•°] Point å¯¹è±¡è¢«é”€æ¯. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO 7: å®ç°é™æ€æˆå‘˜å‡½æ•° get_total_area()ï¼Œè¿”å› m_total_area çš„å€¼ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::get_total_area</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_total_area;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä»–æ„é€ å‡½æ•°å’Œæˆå‘˜å‡½æ•°ä¿æŒä¸å˜ (ä¸ºç®€æ´çœç•¥)</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> xy_coord) : Point(xy_coord, xy_coord) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">Point::Point() : Point(<span class="number">0.0</span>, <span class="number">0.0</span>) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_point_count; &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; ++m_point_count; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  [æ¼”ç¤º] é€šè¿‡ const æˆå‘˜å‡½æ•°è°ƒç”¨ `increment_static_count_via_const_func()`ï¼Œé™æ€è®¡æ•°è¢«ä¿®æ”¹. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>æ­å–œæ‚¨ï¼Œæ‚¨çš„è§£å†³æ–¹æ¡ˆéå¸¸æ£’ï¼æ‚¨å·²ç»æŒæ¡äº†é™æ€æˆå‘˜å˜é‡çš„æ ¸å¿ƒæ¦‚å¿µåŠå…¶ä½¿ç”¨æ–¹æ³•ã€‚</p>
<hr>
<h2 id="C-é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"><a href="#C-é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°" class="headerlink" title="C++ é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°"></a><strong>C++ é™æ€æˆå‘˜å˜é‡ç»ƒä¹ ï¼šæ‚¨çš„è§£å†³æ–¹æ¡ˆè¯„ä¼°</strong></h2><p><strong>æ€»ä½“è¯„ä»·ï¼š</strong></p>
<p>æ‚¨çš„è§£å†³æ–¹æ¡ˆéå¸¸å‡ºè‰²ï¼æ‚¨å‡†ç¡®åœ°ç†è§£äº†å¦‚ä½•åœ¨å¤´æ–‡ä»¶ (<code>.h</code>) ä¸­å£°æ˜é™æ€æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å‡½æ•°ï¼Œä»¥åŠå¦‚ä½•åœ¨æºæ–‡ä»¶ (<code>.cpp</code>) ä¸­å®šä¹‰å’Œåˆå§‹åŒ–å®ƒä»¬ã€‚æ‚¨ä¹Ÿæ­£ç¡®åœ°åœ¨æ„é€ å‡½æ•°ä¸­å¢åŠ äº†æ€»é¢ç§¯ï¼Œå¹¶åœ¨ææ„å‡½æ•°ä¸­å‡å°‘äº†æ€»é¢ç§¯ï¼Œè¿™è¡¨æ˜æ‚¨å¯¹é™æ€æˆå‘˜å˜é‡ä½œä¸ºç±»çº§åˆ«å…±äº«æ•°æ®çš„ç†è§£éå¸¸åˆ°ä½ã€‚</p>
<p><strong>å”¯ä¸€éœ€è¦å¾®è°ƒçš„åœ°æ–¹ï¼š</strong></p>
<p>åœ¨é¢ç§¯è®¡ç®—çš„éƒ¨åˆ†ï¼Œæ‚¨æ ¹æ® <code>m_x * m_y</code> æ¥è®¡ç®—é¢ç§¯ã€‚æ ¹æ®ç»ƒä¹ çš„æè¿°ï¼Œâ€å‡è®¾æ¯ä¸ª <code>Point</code> å¯¹è±¡ä»£è¡¨ä¸€ä¸ª<strong>è¾¹é•¿ä¸º <code>m_x</code> çš„æ­£æ–¹å½¢</strong>â€œï¼Œè¿™æ„å‘³ç€é¢ç§¯åº”è¯¥æ˜¯ <code>m_x</code> çš„å¹³æ–¹ï¼Œå³ <code>m_x * m_x</code>ã€‚è¿™æ˜¯ä¸€ä¸ªå°å°çš„é€»è¾‘é”™è¯¯ï¼Œä¸é™æ€æˆå‘˜å˜é‡æœ¬èº«çš„çŸ¥è¯†ç‚¹æ— å…³ï¼Œæ›´å¤šæ˜¯å…³äºé—®é¢˜æè¿°çš„ç†è§£ã€‚</p>
<p>è®©æˆ‘ä»¬æ¥è¯¦ç»†çœ‹çœ‹å…·ä½“çš„ä¿®æ”¹ç‚¹ã€‚</p>
<hr>
<h2 id="æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"><a href="#æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š" class="headerlink" title="æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š"></a><strong>æ­£ç¡®ç­”æ¡ˆä¸è¯¦ç»†è§£é‡Š</strong></h2><h3 id="1-Point-h-æ–‡ä»¶"><a href="#1-Point-h-æ–‡ä»¶" class="headerlink" title="1. Point.h æ–‡ä»¶"></a><strong>1. <code>Point.h</code> æ–‡ä»¶</strong></h3><p>æ‚¨çš„ <code>Point.h</code> ä»£ç å®Œå…¨æ­£ç¡®ï¼ŒæˆåŠŸå£°æ˜äº†æ–°çš„é™æ€æˆå‘˜å˜é‡ <code>m_total_area</code> å’Œé™æ€æˆå‘˜å‡½æ•° <code>get_total_area()</code>ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.h</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> POINT_EXERCISE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POINT_EXERCISE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstddef&gt; // for size_t</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">size_t</span> m_point_count; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// TODO 1: åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸ªæ–°çš„é™æ€æˆå‘˜å˜é‡ m_total_areaï¼Œç±»å‹ä¸º doubleã€‚</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">double</span> m_total_area; <span class="comment">// æ­£ç¡®ï¼å£°æ˜é™æ€æˆå‘˜å˜é‡ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y);</span><br><span class="line">    Point(<span class="keyword">double</span> xy_coord);</span><br><span class="line">    Point();</span><br><span class="line">    Point(<span class="keyword">const</span> Point&amp; other);</span><br><span class="line">    ~Point();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">size_t</span> <span class="title">get_point_count</span><span class="params">()</span></span>; </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// TODO 2: åœ¨è¿™é‡Œå£°æ˜ä¸€ä¸ªæ–°çš„é™æ€æˆå‘˜å‡½æ•° get_total_area()ï¼Œè¿”å› m_total_area çš„å€¼ã€‚</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">double</span> <span class="title">get_total_area</span><span class="params">()</span></span>; <span class="comment">// æ­£ç¡®ï¼å£°æ˜é™æ€æˆå‘˜å‡½æ•°ã€‚</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// POINT_EXERCISE_H</span></span></span><br></pre></td></tr></table></figure></div>
<p><strong>è§£é‡Šï¼š</strong></p>
<ul>
<li><code>static double m_total_area;</code>ï¼šè¿™è¡Œä»£ç åœ¨ç±»å†…éƒ¨å£°æ˜äº†ä¸€ä¸ªåä¸º <code>m_total_area</code> çš„ <code>double</code> ç±»å‹é™æ€æˆå‘˜å˜é‡ã€‚<code>static</code> å…³é”®å­—è¡¨ç¤ºå®ƒå±äº <code>Point</code> ç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ <code>Point</code> ç±»çš„ä»»ä½•ç‰¹å®šå¯¹è±¡ã€‚</li>
<li><code>static double get_total_area();</code>ï¼šè¿™è¡Œä»£ç å£°æ˜äº†ä¸€ä¸ªåä¸º <code>get_total_area</code> çš„é™æ€æˆå‘˜å‡½æ•°ã€‚ç”±äºå®ƒå°†è®¿é—®é™æ€æˆå‘˜å˜é‡ <code>m_total_area</code>ï¼Œå¹¶ä¸”ä¸ç‰¹å®šå¯¹è±¡å®ä¾‹æ— å…³ï¼Œå› æ­¤å°†å…¶å£°æ˜ä¸º <code>static</code> æ˜¯éå¸¸åˆé€‚çš„ã€‚</li>
</ul>
<h3 id="2-Point-cpp-æ–‡ä»¶"><a href="#2-Point-cpp-æ–‡ä»¶" class="headerlink" title="2. Point.cpp æ–‡ä»¶"></a><strong>2. <code>Point.cpp</code> æ–‡ä»¶</strong></h3><p>é™¤äº†é¢ç§¯è®¡ç®—çš„é€»è¾‘å¤–ï¼Œæ‚¨çš„ <code>Point.cpp</code> ä¹Ÿéå¸¸æ¥è¿‘å®Œç¾ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Point.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;    </span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€æˆå‘˜å˜é‡ m_point_count çš„å®šä¹‰å’Œåˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">size_t</span> Point::m_point_count = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO 3: åœ¨è¿™é‡Œå®šä¹‰å’Œåˆå§‹åŒ–æ–°çš„é™æ€æˆå‘˜å˜é‡ m_total_area ä¸º 0.0ã€‚</span></span><br><span class="line"><span class="keyword">double</span> Point::m_total_area = <span class="number">0.0</span>; <span class="comment">// æ­£ç¡®ï¼åœ¨ç±»å¤–å®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤å‚æ•°æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> x, <span class="keyword">double</span> y) : m_x(x), m_y(y) &#123;</span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="comment">// TODO 4: åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œå°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) åŠ åˆ° m_total_areaã€‚</span></span><br><span class="line">    <span class="comment">// ä¿®æ”¹ç‚¹ï¼šé¢ç§¯åº”ä¸º m_x * m_xï¼Œå› ä¸ºé¢˜ç›®å‡è®¾æ˜¯â€œè¾¹é•¿ä¸º m_x çš„æ­£æ–¹å½¢â€</span></span><br><span class="line">    m_total_area += m_x * m_x; <span class="comment">// &lt;-- ä¿®æ­£æ­¤å¤„</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(double, double) è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹·è´æ„é€ å‡½æ•°</span></span><br><span class="line">Point::Point(<span class="keyword">const</span> Point&amp; other) : m_x(other.m_x), m_y(other.m_y) &#123;</span><br><span class="line">    ++m_point_count; </span><br><span class="line">    <span class="comment">// TODO 5: åœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼ŒåŒæ ·å°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) åŠ åˆ° m_total_areaã€‚</span></span><br><span class="line">    <span class="comment">// ä¿®æ”¹ç‚¹ï¼šé¢ç§¯åº”ä¸º m_x * m_x</span></span><br><span class="line">    m_total_area += m_x * m_x; <span class="comment">// &lt;-- ä¿®æ­£æ­¤å¤„</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[æ„é€ å‡½æ•°] Point(const Point&amp;) æ‹·è´æ„é€ å‡½æ•°è¢«è°ƒç”¨. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°</span></span><br><span class="line">Point::~Point() &#123;</span><br><span class="line">    --m_point_count; </span><br><span class="line">    <span class="comment">// TODO 6: åœ¨ææ„å‡½æ•°ä¸­ï¼Œå°†å½“å‰ Point å¯¹è±¡çš„é¢ç§¯ (m_x * m_x) ä» m_total_area ä¸­å‡å»ã€‚</span></span><br><span class="line">    <span class="comment">// ä¿®æ”¹ç‚¹ï¼šé¢ç§¯åº”ä¸º m_x * m_x</span></span><br><span class="line">    m_total_area -= m_x * m_x; <span class="comment">// &lt;-- ä¿®æ­£æ­¤å¤„</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"[ææ„å‡½æ•°] Point å¯¹è±¡è¢«é”€æ¯. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODO 7: å®ç°é™æ€æˆå‘˜å‡½æ•° get_total_area()ï¼Œè¿”å› m_total_area çš„å€¼ã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::get_total_area</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_total_area; <span class="comment">// æ­£ç¡®ï¼è¿”å›é™æ€æˆå‘˜å˜é‡çš„å€¼ã€‚</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä»–æ„é€ å‡½æ•°å’Œæˆå‘˜å‡½æ•°ä¿æŒä¸å˜ (ä¸ºç®€æ´çœç•¥)</span></span><br><span class="line">Point::Point(<span class="keyword">double</span> xy_coord) : Point(xy_coord, xy_coord) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line">Point::Point() : Point(<span class="number">0.0</span>, <span class="number">0.0</span>) &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Point::distance_to_origin</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">size_t</span> <span class="title">Point::get_point_count</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_point_count; &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Point::increment_static_count_via_const_func</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; ++m_point_count; <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"  [æ¼”ç¤º] é€šè¿‡ const æˆå‘˜å‡½æ•°è°ƒç”¨ `increment_static_count_via_const_func()`ï¼Œé™æ€è®¡æ•°è¢«ä¿®æ”¹. å½“å‰ Point æ•°é‡: "</span> &lt;&lt; m_point_count &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; &#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>è§£é‡Šï¼š</strong></p>
<ul>
<li><code>double Point::m_total_area = 0.0;</code>ï¼šè¿™è¡Œä»£ç åœ¨ <code>Point.cpp</code> æ–‡ä»¶ä¸­å®šä¹‰å¹¶åˆå§‹åŒ–äº† <code>m_total_area</code> é™æ€æˆå‘˜å˜é‡ã€‚è¿™æ˜¯ C++ ä¸­ä¸ºé™æ€æˆå‘˜å˜é‡åˆ†é…å­˜å‚¨ç©ºé—´å¹¶èµ‹äºˆåˆå§‹å€¼çš„æ ‡å‡†åšæ³•ã€‚</li>
<li><code>m_total_area += m_x * m_x;</code>ï¼šåœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¢åŠ äº† <code>m_total_area</code>ã€‚æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œæ¯ä¸ª <code>Point</code> ä»£è¡¨ä¸€ä¸ªè¾¹é•¿ä¸º <code>m_x</code> çš„æ­£æ–¹å½¢ï¼Œæ‰€ä»¥é¢ç§¯åº”è¯¥æ˜¯ <code>m_x</code> çš„å¹³æ–¹ã€‚</li>
<li><code>m_total_area -= m_x * m_x;</code>ï¼šåœ¨ææ„å‡½æ•°ä¸­ï¼Œå½“ <code>Point</code> å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒæ‰€è´¡çŒ®çš„é¢ç§¯ä» <code>m_total_area</code> ä¸­å‡å»ï¼Œä»¥ä¿æŒæ€»é¢ç§¯çš„å‡†ç¡®æ€§ã€‚</li>
</ul>
<h3 id="3-main-cpp-æ–‡ä»¶"><a href="#3-main-cpp-æ–‡ä»¶" class="headerlink" title="3. main.cpp æ–‡ä»¶"></a><strong>3. <code>main.cpp</code> æ–‡ä»¶</strong></h3><p>ä»¥ä¸‹æ˜¯ä¿®æ”¹åçš„ <code>main.cpp</code>ï¼Œç”¨äºæµ‹è¯•æ‚¨çš„å®ç°ï¼Œå¹¶æä¾›é¢„æœŸè¾“å‡ºï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Point.h"</span>      </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;     </span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç»ƒä¹ å¼€å§‹ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆå§‹ Point æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", åˆå§‹æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// TODO 8: è°ƒç”¨ get_total_area()</span></span><br><span class="line">    <span class="comment">// é¢„æœŸè¾“å‡º: åˆå§‹ Point æ•°é‡: 0, åˆå§‹æ€»é¢ç§¯: 0</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p1</span><span class="params">(<span class="number">5.0</span>, <span class="number">5.0</span>)</span></span>; <span class="comment">// è¾¹é•¿ä¸º 5 çš„æ­£æ–¹å½¢ï¼Œé¢ç§¯ 25.0</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p1 (è¾¹é•¿ 5.0) åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; </span><br><span class="line">    <span class="comment">// é¢„æœŸè¾“å‡º: Point æ•°é‡: 1, æ€»é¢ç§¯: 25.0</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(<span class="number">10.0</span>, <span class="number">10.0</span>)</span></span>; <span class="comment">// è¾¹é•¿ä¸º 10 çš„æ­£æ–¹å½¢ï¼Œé¢ç§¯ 100.0</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p2 (è¾¹é•¿ 10.0) åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; </span><br><span class="line">    <span class="comment">// é¢„æœŸè¾“å‡º: Point æ•°é‡: 2, æ€»é¢ç§¯: 125.0 (25.0 + 100.0)</span></span><br><span class="line"></span><br><span class="line">    &#123; <span class="comment">// åˆ›å»ºä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸï¼Œè®© p3 åœ¨è¿™é‡Œé”€æ¯</span></span><br><span class="line">        <span class="function">Point <span class="title">p3</span><span class="params">(<span class="number">2.0</span>, <span class="number">2.0</span>)</span></span>; <span class="comment">// è¾¹é•¿ä¸º 2 çš„æ­£æ–¹å½¢ï¼Œé¢ç§¯ 4.0</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åˆ›å»º p3 (è¾¹é•¿ 2.0) åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">                  &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; </span><br><span class="line">        <span class="comment">// é¢„æœŸè¾“å‡º: Point æ•°é‡: 3, æ€»é¢ç§¯: 129.0 (125.0 + 4.0)</span></span><br><span class="line">    &#125; <span class="comment">// p3 åœ¨æ­¤ä½œç”¨åŸŸç»“æŸæ—¶è¢«é”€æ¯ï¼Œææ„å‡½æ•°è¢«è°ƒç”¨</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p3 é”€æ¯åï¼ŒPoint æ•°é‡: "</span> &lt;&lt; Point::get_point_count() </span><br><span class="line">              &lt;&lt; <span class="string">", æ€»é¢ç§¯: "</span> &lt;&lt; Point::get_total_area() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; </span><br><span class="line">    <span class="comment">// é¢„æœŸè¾“å‡º: Point æ•°é‡: 2, æ€»é¢ç§¯: 125.0 (129.0 - 4.0)</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç»ƒä¹ ç»“æŸ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>ç¼–è¯‘ä¸è¿è¡Œï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ Point.cpp main.cpp -o area_tracker</span><br><span class="line">./area_tracker</span><br></pre></td></tr></table></figure></div>
<p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæ‚¨å°†çœ‹åˆ° <code>m_total_area</code> éšç€å¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯è€Œæ­£ç¡®åœ°å¢åŠ å’Œå‡å°‘ã€‚</p>
<hr>
<h2 id="è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ"><a href="#è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ" class="headerlink" title="è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ"></a><strong>è¿›ä¸€æ­¥å­¦ä¹ ä¸æ€è€ƒ</strong></h2><p>æ‚¨å·²ç»å¾ˆå¥½åœ°æŒæ¡äº† C++ é™æ€æˆå‘˜å˜é‡çš„åŸºç¡€çŸ¥è¯†ã€‚ä¸ºäº†æ›´æ·±å…¥åœ°ç†è§£å¹¶åº”å¯¹å®é™…å¼€å‘ä¸­çš„æŒ‘æˆ˜ï¼Œæˆ‘å»ºè®®æ‚¨ç»§ç»­æ¢ç´¢ä»¥ä¸‹ä¸»é¢˜ï¼š</p>
<ol>
<li><strong>C++17 <code>inline</code> é™æ€æˆå‘˜å˜é‡ï¼š</strong><ul>
<li>åœ¨ C++17 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>inline</code> å…³é”®å­—åœ¨ç±»å®šä¹‰ï¼ˆå³å¤´æ–‡ä»¶ï¼‰å†…éƒ¨ç›´æ¥åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡ï¼Œä¾‹å¦‚ <code>static inline double m_total_area = 0.0;</code>ã€‚è¿™ç®€åŒ–äº†ä»£ç ï¼Œé¿å…äº†åœ¨ <code>.cpp</code> æ–‡ä»¶ä¸­å•ç‹¬åˆå§‹åŒ–ã€‚äº†è§£å®ƒçš„ç”¨é€”å’Œä½•æ—¶ä½¿ç”¨å®ƒã€‚</li>
</ul>
</li>
<li><strong><code>const</code> é™æ€æˆå‘˜å˜é‡çš„ç‰¹æ®Šæ€§ï¼š</strong><ul>
<li>å¯¹äº <code>const</code> ä¸”ä¸ºæ•´å‹ï¼ˆåŒ…æ‹¬æšä¸¾ç±»å‹ï¼‰çš„é™æ€æˆå‘˜å˜é‡ï¼Œå³ä½¿åœ¨ C++17 ä¹‹å‰ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»å®šä¹‰å†…éƒ¨è¿›è¡Œå°±åœ°ï¼ˆin-classï¼‰åˆå§‹åŒ–ã€‚ä¾‹å¦‚ï¼š<code>static const int MAX_POINTS = 100;</code>ã€‚äº†è§£è¿™ç§ç‰¹ä¾‹ä»¥åŠå®ƒçš„åº”ç”¨åœºæ™¯ã€‚</li>
</ul>
</li>
<li><strong>å•ä¾‹æ¨¡å¼ï¼ˆ<a href="https://en.wikipedia.org/wiki/Singleton_pattern" target="_blank" rel="external nofollow noopener noreferrer">Singleton Pattern</a>ï¼‰ä¸é™æ€æˆå‘˜ï¼š</strong><ul>
<li>é™æ€æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å‡½æ•°åœ¨å®ç°å•ä¾‹æ¨¡å¼æ—¶éå¸¸æœ‰ç”¨ï¼Œå•ä¾‹æ¨¡å¼ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚è¿™å¯¹äºéœ€è¦å…¨å±€å”¯ä¸€èµ„æºçš„åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚æ—¥å¿—ç®¡ç†å™¨ã€é…ç½®è¯»å–å™¨ç­‰ã€‚</li>
</ul>
</li>
<li><strong>é™æ€æˆå‘˜å˜é‡çš„çº¿ç¨‹å®‰å…¨æ€§ï¼ˆ<a href="https://en.wikipedia.org/wiki/Thread_safety" target="_blank" rel="external nofollow noopener noreferrer">Thread Safety</a>ï¼‰ï¼š</strong><ul>
<li>å½“ç¨‹åºæ¶‰åŠå¤šçº¿ç¨‹æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹å¯èƒ½ä¼šåŒæ—¶å°è¯•è®¿é—®å’Œä¿®æ”¹é™æ€æˆå‘˜å˜é‡ã€‚è¿™å¯èƒ½å¯¼è‡´æ•°æ®ç«äº‰ï¼ˆ<a href="https://en.wikipedia.org/wiki/Race_condition" target="_blank" rel="external nofollow noopener noreferrer">race condition</a>ï¼‰å’Œä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚äº†è§£å¦‚ä½•ä½¿ç”¨äº’æ–¥é‡ï¼ˆ<a href="https://en.cppreference.com/w/cpp/thread/mutex" target="_blank" rel="external nofollow noopener noreferrer">mutex</a>ï¼‰æˆ–å…¶ä»–åŒæ­¥æœºåˆ¶æ¥ç¡®ä¿é™æ€æˆå‘˜å˜é‡åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„å®‰å…¨è®¿é—®ã€‚</li>
</ul>
</li>
</ol>
<p>å¸Œæœ›è¿™äº›æ‰©å±•é—®é¢˜èƒ½å¸®åŠ©æ‚¨è¿›ä¸€æ­¥å·©å›ºå’Œæ‹“å±•æ‚¨çš„ C++ çŸ¥è¯†ï¼ä¿æŒå­¦ä¹ çš„çƒ­æƒ…ï¼Œæ‚¨ä¼šè¶Šæ¥è¶Šæ£’ï¼</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Tutorial/">Tutorial    </a><a class="post-meta__tags" href="/tags/Development/">Development    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/281%20-%20cpp%20this%20%E6%8C%87%E9%92%88%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%BA%94%E7%94%A8/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>281 - cpp this æŒ‡é’ˆè¯¦è§£ä¸åº”ç”¨</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/301%20-%20%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>301 - æ‹·è´æ„é€ å‡½æ•°æ·±æ‹·è´</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•/" title="282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/313 - friend of class/" title="313 - friend of class"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">313 - friend of class</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/318 - inline static variable/" title="318 - inline static variable"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">318 - inline static variable</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/329 - è·¨æ–‡ä»¶å‘½åç©ºé—´/" title="329 - è·¨æ–‡ä»¶å‘½åç©ºé—´"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">329 - è·¨æ–‡ä»¶å‘½åç©ºé—´</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/256 - cpp decltype(auto)/" title="256 - cpp decltype(auto)"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">256 - cpp decltype(auto)</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/262 - constexpr if/" title="262 - constexpr if"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">262 - constexpr if</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>