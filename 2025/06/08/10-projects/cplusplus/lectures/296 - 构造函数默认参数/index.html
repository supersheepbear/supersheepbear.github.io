<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>296 - 构造函数默认参数 | Bear's dream</title><meta name="description" content="296 - 构造函数默认参数"><meta name="keywords" content="Cpp,Coding,Tutorial,Class,Constructor"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="296 - 构造函数默认参数"><meta name="twitter:description" content="296 - 构造函数默认参数"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="296 - 构造函数默认参数"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/296%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="296 - 构造函数默认参数"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/296%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0/"><link rel="prev" title="287 - const 对象作为函数参数的注意事项" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"><link rel="next" title="299 - 显式构造函数" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/299%20-%20%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">152</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">20</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 音乐照片</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> 照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 学习计划</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#构造函数默认参数"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">构造函数默认参数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🧑‍💻-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">🧑‍💻 User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#🤖-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">🤖 Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#1-标题与概要"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">1. 标题与概要</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#2-详细解释"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">2. 详细解释</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#3-代码示例"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">3. 代码示例</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#4-QA-闪卡-QA-Flash-Cards"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">4. QA 闪卡 (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#5-常见误解或易犯错误"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">5. 常见误解或易犯错误</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#6-编码练习"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">6. 编码练习</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#构造函数默认参数"><span class="toc-number">1.</span> <span class="toc-text">构造函数默认参数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#🧑‍💻-User"><span class="toc-number">1.1.</span> <span class="toc-text">🧑‍💻 User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#🤖-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">🤖 Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-标题与概要"><span class="toc-number">2.</span> <span class="toc-text">1. 标题与概要</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-详细解释"><span class="toc-number">3.</span> <span class="toc-text">2. 详细解释</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-代码示例"><span class="toc-number">4.</span> <span class="toc-text">3. 代码示例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-QA-闪卡-QA-Flash-Cards"><span class="toc-number">5.</span> <span class="toc-text">4. QA 闪卡 (QA Flash Cards)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-常见误解或易犯错误"><span class="toc-number">6.</span> <span class="toc-text">5. 常见误解或易犯错误</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-编码练习"><span class="toc-number">7.</span> <span class="toc-text">6. 编码练习</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">296 - 构造函数默认参数</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>评论数:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/296%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/296%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="构造函数默认参数"><a href="#构造函数默认参数" class="headerlink" title="构造函数默认参数"></a>构造函数默认参数</h1><h2 id="🧑‍💻-User"><a href="#🧑‍💻-User" class="headerlink" title="🧑‍💻 User"></a>🧑‍💻 User</h2><p>In this lecture, we’re going to see that we can pass default parameters to event constructors.Here is the class we have been using a while ago, the cylinder class.It had a few member variables, base radius and the height, and it had a few other members.For example, we have two constructors here, one which is the default and the other that is takingtwo parameters and we have two getters, two setters and a volume function which is going to computethe volume for this cylinder.What we want to see is how we can pass default parameters to constructors and it is nothing new.The syntax you use is really simple.You already know this syntax from functions.You just specify your default parameter using an equal sign and assign the value that you want to assignto your member variable.So, for example, when we do this, it will be possible to call this constructor with only one parameterand then the compiler is going to auto fill in the second to be a ten.But if you want, you can even specify the two parameters when you call the constructor and then thecompiler is not going to use the default that we have provided here.So if we have a constructor like this in place, we can call our function like we see here with oneparameter.And if we print the base radius, we’re going to see that it’s going to be a five.Let’s go back and see which default we specified.Yes, it is the second parameter.So the first one is the base radius, which is going to be five here.And for the second one, the compiler is going to use the default and it is going to print ten here.I really want you to understand this.So this is how you can pass default arguments to your constructors.But it is also possible to specify all the two parameters.So for example, the base radius is going to be five by default here and the height is going to be tenby default.So when you have a setup like this, please be careful to see that you don’t have a default constructorin place, because if we have these two constructors in place and they are set up like this and we setup a call which doesn’t pass any parameter, the compiler is going to be confused.It’s going to look at this call and then it’s going to say, I have two constructors that can actuallyserve us this call here.So which one do I choose?It can use the default constructor and not pass any parameters.It can also call our parameter taking constructor and use the default.Let’s go back and really let you see this.So if we don’t specify a parameter, this constructor here, which is the default doesn’t take any parameter,is a candidate.It can service that call.But the constructor here, which has two default parameters, can also be called by the compiler andthen the compiler is going to fill in these default values.So when you have a setup like this and you set up a call like this, your compiler is going to be confusedand you’re going to have a compiler error.And to solve this problem, you have no other way but to choose between the two constructors.You’re going to choose which one you like and which one you don’t like, and you’re going to take outwhich one you don’t want, and the compiler is going to choose the one you are left with.Okay, this is really all there is about the default parameters with constructors.We are going to head over to Visual Studio code and play with this a little more.Okay.Here we are in our working folder of the current project is default parameters for constructors.We are going to grab our template files like we always do and we’re going to put them in place and weare going to open this in Visual Studio code by dragging and dropping here, this is going to open ourfolder.We can bring up the Main.cpp file and we’re going to clean our main CPP file a little bit.And the main function here and we’re going to put in the class we want to use to play with this.Things.Remember, we have designed a cylinder class before, so we’re going to put this in here.We’re going to create a file which is going to contain the header file and we’re going to create anotherone, which is going to be our implementation file.It’s going to be cylinder dot CPP.We’re going to open up our header file and put in our class.You see it is the cylinder class and we are going to open the CPP file and put in our implementation.In this lecture we’re going to go a little simple and put our constant directly in our cylinder doth file because we want to keep things simple.So this is going to be picked up by the functions that include cylinder.And then we’re going to have our constant here, which is what we want to compute the volume.Now that we have this, we can actually go in the main CPP file and use our class.Let’s do that.We’re going to include the cylinder and we’re going to create a cylinder object.Object.We can do something like cylinder C one and pass in two parameters.One is going to be the base radius.Let’s use ten and the other is going to be the height and we can print the volume for this cylinderhere.We’re going to say volume C one and say volume.I think we have this function here and let’s go back and make sure we have that double volume.It’s going to return the volume for our cylinder.And if we go down, we have an implementation for this method.I think this is going to work.So what problem do we have here?Oh, we need a semicolon.Sorry for this.We are going to build now with GCC.We can close this left pane.We don’t need it anymore.Here you see that The world is good.We can bring up a terminal to run this program.We can clear and run Rooster.If we run, we’re going to see our volume here.So the class is working and it is doing whatever it is we want it to do.What we want to see is that we can pass default parameters and the syntax to do that is what we sawin the slides.So for example, we can come here and on the second parameter, specify ten as our default parameter.The moment we do this, we still have the ability to call our constructor like this.In the main function we can specify all the parameters and the compiler is going to use what we specifywhen we set up our objects like this.But because we have a default parameter now we have the option to leave out the second parameter andthe compiler is going to auto fill that end.You see that if we specify one parameter and we don’t have any constructor, that only takes one parameter.We’re not going to get a compiler error.The compiler knows that it can auto fill in the second parameter by using the default parameter thatwe specified in our constructor declaration here.And another thing you should know is that if you are splitting your constructor into declaration anddefinition like we are doing here, the declaration is in the header file and the definition is in theimplementation file.We don’t have to specify the default parameter again in the implementation.If you do that, you’re going to get a compiler error because this is not valid C plus plus syntax.So we don’t need to do that.Okay.So now we have this and we can try and build and see what the compiler is going to do.It’s going to use the default parameter and autofill that N and our height is going to be ten.If we clear and run Rooster, we’re going to see that it has used ten as our height and we have thesame output as we did before.But another thing you can do is also specify that the first parameter is going to have a default value.We can go in and put that in and now we will have a problem because now we have the option to set upa call like this to construct our cylinder object, but the compiler is going to see that it has twooptions to do this.It can either use the default constructor, which is not going to take any parameter, or it can callour cylinder constructor, which is taking two parameters, but use the default parameters in here sothe compiler doesn’t know which one to choose.You’re going to see that if we comment out any of these, let’s comment out the default one becauseit is easier.It doesn’t have an implementation, so we can just comment it out here in the header.We can go back to Main and we’re going to see that the squiggly line is going to go away.And if we build, we’re going to get the output that we want.You see, the build is good.We can clear and run Rooster.We’re going to see our volume here.But I think it is better to really prove that this constructor was used.We can either do that through the debugger.If we set up a breakpoint in the constructor here, we’re going to see that.But we can also put an output statement in here.So let’s say Stdcout two parameter constructor called and we’re going to put Stdendl here and you seethat Stdcout has a squiggly line here.The reason is we don’t have access to Iostream here.It wasn’t included in this file and this is not going to compile.So we need to include that.We can include iostream here and the moment we do that, the squiggly line here should go away and weshould be able to compile and run this application and prove that the two parameter constructor wasused to build this object.Here.Let’s do that.We’re going to run our task to build with GCC.The world is good.We can clear and run Rooster.We’re going to see two parameter constructor called.It is going to construct our object and if we print the volume, we’re going to see that the defaultvalues were used.If, for example, we go in and change the default height to be five and build again, we’re going tosee that it was used.So let’s build.We’re going to use GCC to do that.You can really play with us however you want.You see, the build is good.We can clear and run roster.We’re going to see that our volume is going to change because now the default is five for the height.And if you plug in this radius and this height and compute your volume, you’re going to see that thevolume is exactly what you see here.We can also comment out this constructor.We can do that, but we will have to also go in the implementation file and comment that out and stilluse the default.Let’s go back to our header and we’re going to uncomment the default.Now we’re going to be using the default, which is not passing in any parameter and it’s going to usewhatever we initialized our member variables with.So our volume is going to change.If we use this default constructor here, we can build and really prove this.So we’re going to run the task to build with GCC.You see, the build is good.We can clear and run Rooster.Now you see that our volume is 3.14 because we are basically using a base radius of one and a heightof one.So if we multiply these guys, we’re just going to get Pi, which is 3.14 here and you see that eitherof these constructors is going to work, but we can’t have them both in or the compiler is going tobe confused.Okay.So this is really all we set out to do in this lecture showing you how you can use default parametersfor your constructors.Let’s uncomment all these constructors and only in one with a single default parameter and we’re goingto hop over in the CPP file and uncomment this.I think this is going to be better.And if we set up a call like this, we’re going to use the default constructor.But we can call this with only one parameter and put in one parameter here for the base radius.So the syntax to do default parameters is really simple.You just specify your value with an equal sign here and it’s going to be used by the compiler.When you specify less than the full number of parameters you have in here, you just have to be carefulto order your parameters in a way that makes sense to you.If you specify the default parameter first here, for example, it’s really going to be awkward becauseyou can’t specify a default parameter and have the other one not filled.Let’s show you what I mean here.And I am lucky I remembered this.So let’s put an equal sign here and specify the default parameter first here.If we do things like this, we don’t really have a way we can call this because if we go in here andonly specify one parameter, the compiler won’t have a way to guess the second one and we’re going toget a compiler error.So we really have no choice except specifying all the parameters here.And this way the compiler is going to be happy.So it’s going to ignore the default parameter here and it’s going to use everything you specify whenyou try to construct an object here.Let’s try and build and see that this is actually going to work out and we’re going to see that we havea compiler error.Actually, the compiler is going to stop us from doing something like this because it knows it reallydoesn’t make sense.You want to have a way to call this constructor and use this default parameter if you specify it likethis here.So this is even better.The compiler is stopping us from setting up something that will never make sense.So this is good.We’re going to put our default argument in the second position here and you’re going to see that thecompiler now is going to be happy.If we build, we should build fine.You see, the build is good and we are able to only specify one parameter.When we call our constructor here.We are going to stop here in this lecture and the next one we’re going to learn about initializer lists.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="🤖-Assistant"><a href="#🤖-Assistant" class="headerlink" title="🤖 Assistant"></a>🤖 Assistant</h2><p>好的，同学你好！今天我们来学习 C++ 中一个非常实用的特性：<strong>构造函数 (constructor) 的默认参数 (default parameters)</strong>。这能让我们的类 (class) 设计更加灵活。</p>
<h1 id="1-标题与概要"><a href="#1-标题与概要" class="headerlink" title="1. 标题与概要"></a>1. 标题与概要</h1><p><strong>标题：</strong> C++ 构造函数中的默认参数：让对象创建更灵活</p>
<p><strong>概要：</strong><br>本节课我们将学习如何为 C++ 类中的构造函数设置默认参数。这和为普通函数设置默认参数的语法是完全一样的。通过使用默认参数，我们可以在创建对象时提供更少的参数，编译器会自动使用预设的默认值。同时，我们也会探讨当默认参数与默认构造函数并存时可能引发的歧义问题以及如何解决。</p>
<h1 id="2-详细解释"><a href="#2-详细解释" class="headerlink" title="2. 详细解释"></a>2. 详细解释</h1><p>让我们一步一步来理解构造函数默认参数的方方面面。</p>
<p><strong>2.1 什么是构造函数？</strong><br>在 C++ 中，构造函数是一种特殊的成员函数 (member function)，它在创建类的新对象 (object) 时自动被调用。它的主要目的是初始化对象的数据成员 (data members)。构造函数的名称与类名完全相同，并且没有返回类型 (return type)。</p>
<p>例如，我们有一个 <code>Cylinder</code>（圆柱体）类：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> base_radius; <span class="comment">// 底面半径</span></span><br><span class="line">    <span class="keyword">double</span> height;      <span class="comment">// 高度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 这是一个构造函数</span></span><br><span class="line">    Cylinder(<span class="keyword">double</span> r, <span class="keyword">double</span> h) &#123;</span><br><span class="line">        base_radius = r;</span><br><span class="line">        height = h;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ... 其他成员 ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>2.2 什么是默认参数？</strong><br>默认参数允许你为一个或多个函数参数指定默认值。如果在调用函数时没有为这些参数提供值，编译器就会自动使用你指定的默认值。这个概念同样适用于构造函数。</p>
<p><strong>2.3 为构造函数设置默认参数的语法</strong><br>语法非常简单，就是在构造函数的声明中，为你想要设置默认值的参数使用等号 (<code>=</code>) 赋予一个值。</p>
<p>假设我们的 <code>Cylinder</code> 类有一个接收两个参数的构造函数：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.h (头文件声明)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> base_radius;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">double</span> PI; <span class="comment">// 声明PI为静态常量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数声明，height 参数有默认值 10.0</span></span><br><span class="line">    Cylinder(<span class="keyword">double</span> r_param, <span class="keyword">double</span> h_param = <span class="number">10.0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取器 (getters)</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_base_radius</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_height</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置器 (setters)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_base_radius</span><span class="params">(<span class="keyword">double</span> r_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_height</span><span class="params">(<span class="keyword">double</span> h_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">volume</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><br>在这个例子中，<code>h_param</code> 有一个默认值 <code>10.0</code>。</p>
<p><strong>重要规则：</strong></p>
<ol>
<li><p><strong>声明位置：</strong> 默认参数值通常在函数的声明中指定（通常是在头文件 <code>.h</code> 或 <code>.hpp</code> 中），而不是在函数的定义中（通常是在源文件 <code>.cpp</code> 中）。如果在定义中也指定，或者只在定义中指定，可能会导致编译错误或不一致的行为。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.cpp (源文件定义)</span></span><br><span class="line"><span class="comment">// 注意：这里不需要再写 = 10.0</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">double</span> r_param, <span class="keyword">double</span> h_param) &#123;</span><br><span class="line">    base_radius = r_param;</span><br><span class="line">    height = h_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"带参数的构造函数被调用。半径: "</span> &lt;&lt; base_radius &lt;&lt; <span class="string">", 高度: "</span> &lt;&lt; height &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>如果你在定义中也写了 <code>Cylinder::Cylinder(double r_param, double h_param = 10.0)</code>，编译器通常会报错，提示“默认参数重定义 (redefinition of default argument)”。</p>
</li>
<li><p><strong>尾部参数优先：</strong> 如果一个参数有默认值，那么它右边的所有参数都必须有默认值。</p>
<ul>
<li>正确：<code>MyClass(int a, int b = 10, int c = 20);</code></li>
<li>错误：<code>MyClass(int a = 5, int b, int c = 20);</code> // b 没有默认值，但它在 a (有默认值) 之后<br>这是因为编译器是从左到右匹配你传递的参数。如果中间某个参数你省略了，编译器就无法知道你后续传递的参数是对应哪一个了。</li>
</ul>
</li>
</ol>
<p><strong>2.4 如何使用带默认参数的构造函数</strong><br>有了上面定义的 <code>Cylinder(double r_param, double h_param = 10.0)</code>，我们可以这样创建对象：</p>
<ul>
<li><p><strong>提供所有参数：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Cylinder <span class="title">c1</span><span class="params">(<span class="number">5.0</span>, <span class="number">12.0</span>)</span></span>; <span class="comment">// base_radius = 5.0, height = 12.0 (提供的12.0覆盖了默认的10.0)</span></span><br></pre></td></tr></table></figure></div>
<p>这种情况下，编译器会忽略为 <code>h_param</code> 设置的默认值 <code>10.0</code>，而使用我们显式传递的 <code>12.0</code>。</p>
</li>
<li><p><strong>只提供没有默认值的参数（或部分有默认值的参数）：</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Cylinder <span class="title">c2</span><span class="params">(<span class="number">7.0</span>)</span></span>; <span class="comment">// base_radius = 7.0, height = 10.0 (编译器自动使用h_param的默认值)</span></span><br></pre></td></tr></table></figure></div>
<p>由于我们只提供了一个参数，编译器会将其匹配给第一个参数 <code>r_param</code>。对于第二个参数 <code>h_param</code>，由于我们没有提供值，编译器就会使用其默认值 <code>10.0</code>。</p>
</li>
</ul>
<p><strong>2.5 所有参数都有默认值的情况</strong><br>我们甚至可以为所有参数都提供默认值：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.h (头文件声明)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 所有参数都有默认值</span></span><br><span class="line">    Cylinder(<span class="keyword">double</span> r_param = <span class="number">1.0</span>, <span class="keyword">double</span> h_param = <span class="number">1.0</span>);</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cylinder.cpp (源文件定义)</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">double</span> r_param, <span class="keyword">double</span> h_param) &#123; <span class="comment">// 定义中不重复默认值</span></span><br><span class="line">    base_radius = r_param;</span><br><span class="line">    height = h_param;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"带参数的构造函数被调用。半径: "</span> &lt;&lt; base_radius &lt;&lt; <span class="string">", 高度: "</span> &lt;&lt; height &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br>现在，我们可以这样创建对象：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Cylinder <span class="title">c3</span><span class="params">(<span class="number">2.0</span>, <span class="number">3.0</span>)</span></span>; <span class="comment">// base_radius = 2.0, height = 3.0</span></span><br><span class="line"><span class="function">Cylinder <span class="title">c4</span><span class="params">(<span class="number">5.0</span>)</span></span>;      <span class="comment">// base_radius = 5.0, height = 1.0 (默认)</span></span><br><span class="line">Cylinder c5;           <span class="comment">// base_radius = 1.0 (默认), height = 1.0 (默认)</span></span><br></pre></td></tr></table></figure></div><br>注意最后一种情况 <code>Cylinder c5;</code>，它看起来就像是在调用一个<strong>默认构造函数 (default constructor)</strong>（即不带任何参数的构造函数）。事实上，如果一个构造函数的所有参数都有默认值，那么它也可以充当默认构造函数的角色。</p>
<p><strong>2.6 默认参数引发的歧义 (ambiguity)</strong><br>这是一个非常重要的点！如果你的类中同时存在：</p>
<ol>
<li>一个所有参数都有默认值的构造函数，例如 <code>Cylinder(double r = 1.0, double h = 1.0);</code></li>
<li>一个显式定义的无参默认构造函数，例如 <code>Cylinder();</code></li>
</ol>
<p>那么，当你尝试这样创建对象时：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cylinder myCylinder;</span><br></pre></td></tr></table></figure></div><br>编译器会感到困惑！它不知道应该调用哪个构造函数：是调用 <code>Cylinder(double r = 1.0, double h = 1.0)</code> 并使用所有默认值呢，还是调用显式的 <code>Cylinder()</code>？这种情况会导致<strong>编译错误 (compiler error)</strong>，提示调用具有歧义。</p>
<p><strong>如何解决歧义？</strong><br>你必须做出选择，只保留一个能够处理无参调用的构造函数。</p>
<ul>
<li><strong>方法一：</strong> 移除显式的无参默认构造函数 <code>Cylinder();</code>，让带有全部默认参数的构造函数 <code>Cylinder(double r = 1.0, double h = 1.0);</code> 来处理无参调用。</li>
<li><strong>方法二：</strong> 移除或修改带有全部默认参数的构造函数，使其至少有一个参数没有默认值（或者干脆移除所有默认值），然后保留显式的无参默认构造函数 <code>Cylinder();</code>。</li>
</ul>
<p>选择哪种方法取决于你的设计意图。通常，如果一个构造函数通过默认参数能自然地覆盖无参情况，那么保留它并移除单独的无参默认构造函数是更简洁的做法。</p>
<p><strong>2.7 示例回顾与补充</strong><br>在提供的原始文本中，作者演示了 <code>Cylinder</code> 类的例子：</p>
<ul>
<li>最初有两个构造函数：一个默认的 <code>Cylinder();</code> 和一个带两个参数的 <code>Cylinder(double param_radius, double param_height);</code>。</li>
<li>然后，他修改了带参数的构造函数，为 <code>param_height</code> 添加了默认值：<code>Cylinder(double param_radius, double param_height = 10.0);</code>。此时，调用 <code>Cylinder my_cyl(5.0);</code> 成为可能，<code>height</code> 会是 <code>10.0</code>。</li>
<li>接着，他也为 <code>param_radius</code> 添加了默认值：<code>Cylinder(double param_radius = 1.0, double param_height = 10.0);</code>。这时，如果原来的 <code>Cylinder();</code> 默认构造函数仍然存在，那么当写下 <code>Cylinder my_cyl;</code> 时，就会产生歧义。作者通过注释掉 <code>Cylinder();</code> 来解决这个问题。</li>
<li>作者还强调了默认参数必须是尾随参数。如果尝试 <code>Cylinder(double param_radius = 1.0, double param_height);</code>，编译器会报错，因为它不知道如果你只传一个参数，这个参数是给 <code>param_height</code> 还是说要使用 <code>param_radius</code> 的默认值（后者是不可能的，因为 <code>param_height</code> 没有默认值且在它之后）。</li>
</ul>
<p><strong>2.8 关于 PI 的处理</strong><br>在示例代码中，PI 被定义为一个常量。在类中，如果需要在多个成员函数中使用一个共享的常量，通常将其定义为 <code>static const</code> 成员，或者在 C++17 及以后版本使用 <code>inline static const</code> 或 <code>static constexpr</code>。<br>在 <code>.h</code> 文件中：<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cylinder.h</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// C++17 之前，通常在 .h 声明，在 .cpp 定义并初始化</span></span><br><span class="line">    <span class="comment">// static const double PI;</span></span><br><span class="line">    <span class="comment">// C++17 及之后，可以在类内直接初始化 inline static const/constexpr</span></span><br><span class="line">    <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">double</span> PI = <span class="number">3.1415926535</span>; <span class="comment">// 或者 static constexpr double PI = ...;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cylinder.cpp (如果 PI 不是 inline static const/constexpr)</span></span><br><span class="line"><span class="comment">// const double Cylinder::PI = 3.1415926535;</span></span><br></pre></td></tr></table></figure></div><br>或者，像原始文本那样，直接在需要它的 <code>.cpp</code> 文件中定义一个全局常量，或者包含一个定义了此常量的头文件。为了简单起见，作者将其直接放在了 <code>cylinder.h</code> 中（作为全局常量或命名空间内的常量），这在小型项目中也可以接受，但对于大型项目，放在类作用域内或者一个专门的数学常量命名空间会更好。</p>
<h1 id="3-代码示例"><a href="#3-代码示例" class="headerlink" title="3. 代码示例"></a>3. 代码示例</h1><p>我们将创建一个 <code>Cylinder</code> 类，并演示构造函数默认参数的使用。</p>
<p><strong><code>cylinder.h</code> (头文件)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CYLINDER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CYLINDER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // 为了在构造函数中输出调试信息</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将 PI 定义为一个可以在类内外使用的常量</span></span><br><span class="line"><span class="comment">// 更现代的做法是使用 C++17 的 inline static const double PI = ...; 在类中</span></span><br><span class="line"><span class="comment">// 或者 #include &lt;numbers&gt; 然后使用 std::numbers::pi</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI_CONST = <span class="number">3.1415926535</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> base_radius; <span class="comment">// 底面半径 (base radius)</span></span><br><span class="line">    <span class="keyword">double</span> height;      <span class="comment">// 高度 (height)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 构造函数：</span></span><br><span class="line">    <span class="comment">// base_radius 默认值为 1.0</span></span><br><span class="line">    <span class="comment">// height 默认值为 1.0</span></span><br><span class="line">    <span class="comment">// 注意：默认值只在声明中给出</span></span><br><span class="line">    Cylinder(<span class="keyword">double</span> r_param = <span class="number">1.0</span>, <span class="keyword">double</span> h_param = <span class="number">1.0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 为了演示歧义，我们先注释掉一个显式的默认构造函数</span></span><br><span class="line">    <span class="comment">// Cylinder(); // 如果这个也存在，并且上面的构造函数所有参数都有默认值，就会有歧义</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取器 (Getters)</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_base_radius</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_height</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设置器 (Setters)</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_base_radius</span><span class="params">(<span class="keyword">double</span> r_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_height</span><span class="params">(<span class="keyword">double</span> h_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算体积 (volume)</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">volume</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CYLINDER_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>cylinder.cpp</code> (实现文件)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// 包含类声明</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;    // 为了 std::cout 和 std::endl</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数定义</span></span><br><span class="line"><span class="comment">// 注意：这里不再重复默认参数值</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">double</span> r_param, <span class="keyword">double</span> h_param) : base_radius(r_param), height(h_param) &#123;</span><br><span class="line">    <span class="comment">// 使用成员初始化列表 (member initializer list) 是推荐的做法</span></span><br><span class="line">    <span class="comment">// base_radius = r_param; // 也可以在函数体内赋值</span></span><br><span class="line">    <span class="comment">// height = h_param;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 带参数构造函数被调用: 半径="</span> &lt;&lt; base_radius </span><br><span class="line">              &lt;&lt; <span class="string">", 高度="</span> &lt;&lt; height &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// 如果需要一个显式的默认构造函数，且与带默认参数的构造函数不冲突</span></span><br><span class="line"><span class="comment">Cylinder::Cylinder() : base_radius(0.5), height(0.5) &#123; // 提供不同的默认值</span></span><br><span class="line"><span class="comment">    std::cout &lt;&lt; "Cylinder 显式默认构造函数被调用: 半径=" &lt;&lt; base_radius</span></span><br><span class="line"><span class="comment">              &lt;&lt; ", 高度=" &lt;&lt; height &lt;&lt; std::endl;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Getter 实现</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::get_base_radius</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> base_radius;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::get_height</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Setter 实现</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::set_base_radius</span><span class="params">(<span class="keyword">double</span> r_param)</span> </span>&#123;</span><br><span class="line">    base_radius = r_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::set_height</span><span class="params">(<span class="keyword">double</span> h_param)</span> </span>&#123;</span><br><span class="line">    height = h_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Volume 计算实现</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::volume</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> PI_CONST * base_radius * base_radius * height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code> (主程序，使用 Cylinder 类)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// 引入 Cylinder 类</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 创建 c1 (提供所有参数) ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Cylinder <span class="title">c1</span><span class="params">(<span class="number">2.0</span>, <span class="number">3.0</span>)</span></span>; <span class="comment">// 使用 r=2.0, h=3.0</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c1 体积: "</span> &lt;&lt; c1.volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c1 半径: "</span> &lt;&lt; c1.get_base_radius() &lt;&lt; <span class="string">", 高度: "</span> &lt;&lt; c1.get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 创建 c2 (只提供一个参数，第二个用默认值) ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Cylinder <span class="title">c2</span><span class="params">(<span class="number">5.0</span>)</span></span>;      <span class="comment">// 使用 r=5.0, h=1.0 (默认)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c2 体积: "</span> &lt;&lt; c2.volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c2 半径: "</span> &lt;&lt; c2.get_base_radius() &lt;&lt; <span class="string">", 高度: "</span> &lt;&lt; c2.get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 创建 c3 (不提供参数，全部用默认值) ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Cylinder c3;           <span class="comment">// 使用 r=1.0 (默认), h=1.0 (默认)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c3 体积: "</span> &lt;&lt; c3.volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c3 半径: "</span> &lt;&lt; c3.get_base_radius() &lt;&lt; <span class="string">", 高度: "</span> &lt;&lt; c3.get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 编译指令示例 (假设你在Linux/macOS终端或MinGW/Cygwin环境):</span></span><br><span class="line">    <span class="comment">// g++ main.cpp cylinder.cpp -o cylinder_test</span></span><br><span class="line">    <span class="comment">// ./cylinder_test</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果取消 cylinder.h 和 cylinder.cpp 中对显式默认构造函数的注释，</span></span><br><span class="line">    <span class="comment">// 并且 Cylinder(double r_param = 1.0, double h_param = 1.0) 仍然存在，</span></span><br><span class="line">    <span class="comment">// 那么 Cylinder c3; 这一行会导致编译错误 (调用歧义)。</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>预期输出：</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">--- 创建 c1 (提供所有参数) ---</span><br><span class="line">Cylinder 带参数构造函数被调用: 半径&#x3D;2, 高度&#x3D;3</span><br><span class="line">c1 体积: 37.6991</span><br><span class="line">c1 半径: 2, 高度: 3</span><br><span class="line"></span><br><span class="line">--- 创建 c2 (只提供一个参数，第二个用默认值) ---</span><br><span class="line">Cylinder 带参数构造函数被调用: 半径&#x3D;5, 高度&#x3D;1</span><br><span class="line">c2 体积: 78.5398</span><br><span class="line">c2 半径: 5, 高度: 1</span><br><span class="line"></span><br><span class="line">--- 创建 c3 (不提供参数，全部用默认值) ---</span><br><span class="line">Cylinder 带参数构造函数被调用: 半径&#x3D;1, 高度&#x3D;1</span><br><span class="line">c3 体积: 3.14159</span><br><span class="line">c3 半径: 1, 高度: 1</span><br></pre></td></tr></table></figure></div></p>
<h1 id="4-QA-闪卡-QA-Flash-Cards"><a href="#4-QA-闪卡-QA-Flash-Cards" class="headerlink" title="4. QA 闪卡 (QA Flash Cards)"></a>4. QA 闪卡 (QA Flash Cards)</h1><ol>
<li><p><strong>问：</strong> 如何为C++构造函数参数指定默认值？<br><strong>答：</strong> 在构造函数的声明中（通常是头文件中），使用等号 <code>=</code> 为参数赋一个默认值。例如：<code>MyClass(int count = 0, double value = 10.5);</code></p>
</li>
<li><p><strong>问：</strong> 如果一个构造函数的所有参数都有默认值，它有什么特殊作用？<br><strong>答：</strong> 它可以像默认构造函数（无参构造函数）一样被调用。例如，如果 <code>MyClass(int val = 0);</code>，那么 <code>MyClass obj;</code> 是合法的，<code>val</code> 会被设为 <code>0</code>。</p>
</li>
<li><p><strong>问：</strong> 默认参数值应该在函数声明中还是定义中指定？<br><strong>答：</strong> 应该在函数/构造函数的声明中（通常是 <code>.h</code> 文件）。定义（<code>.cpp</code> 文件）中不应重复指定。</p>
</li>
<li><p><strong>问：</strong> 关于默认参数的顺序有什么规则？<br><strong>答：</strong> 具有默认值的参数必须位于参数列表的末尾。一旦某个参数有了默认值，其后的所有参数都必须有默认值。例如 <code>void func(int a, int b = 10, int c = 20);</code> 是正确的，但 <code>void func(int a = 5, int b, int c = 20);</code> 是错误的。</p>
</li>
<li><p><strong>问：</strong> 什么情况下，使用默认参数的构造函数会与默认构造函数产生歧义？<br><strong>答：</strong> 当类中同时存在一个显式的无参默认构造函数（如 <code>MyClass();</code>）和一个所有参数都有默认值的构造函数（如 <code>MyClass(int val = 0);</code>）时，若尝试无参数创建对象（如 <code>MyClass obj;</code>），编译器会报错，因为它不知道该调用哪一个。</p>
</li>
</ol>
<h1 id="5-常见误解或易犯错误"><a href="#5-常见误解或易犯错误" class="headerlink" title="5. 常见误解或易犯错误"></a>5. 常见误解或易犯错误</h1><ol>
<li><p><strong>在定义中重复默认值：</strong></p>
<ul>
<li>误：在 <code>.h</code> 中 <code>Cylinder(double r = 1.0);</code>，在 <code>.cpp</code> 中 <code>Cylinder::Cylinder(double r = 1.0) { ... }</code>。</li>
<li>正：默认值只在声明（<code>.h</code> 文件）中。<code>.cpp</code> 中应该是 <code>Cylinder::Cylinder(double r) { ... }</code>。</li>
</ul>
</li>
<li><p><strong>非尾随默认参数 (non-trailing default parameters)：</strong></p>
<ul>
<li>误：<code>Cylinder(double r = 1.0, double h);</code></li>
<li>正：如果 <code>r</code> 有默认值，则 <code>h</code> 也必须有，或者 <code>r</code> 不能有默认值如果 <code>h</code> 没有。正确的是 <code>Cylinder(double r, double h = 1.0);</code> 或 <code>Cylinder(double r = 1.0, double h = 2.0);</code>。</li>
</ul>
</li>
<li><p><strong>忽视歧义问题：</strong></p>
<ul>
<li>误：同时定义 <code>Cylinder();</code> 和 <code>Cylinder(double r = 1.0, double h = 1.0);</code>，然后尝试 <code>Cylinder c;</code>。</li>
<li>正：确保只有一种方式可以无参数地构造对象，要么移除其中一个，要么修改带默认参数的构造函数使其至少有一个参数没有默认值。</li>
</ul>
</li>
<li><p><strong>认为默认参数会改变函数签名 (function signature) 从而允许重载 (overloading)：</strong></p>
<ul>
<li>误解：认为 <code>void foo(int x);</code> 和 <code>void foo(int x = 0);</code> 是两个可以共存的重载函数。</li>
<li>实际：它们是同一个函数的声明。默认参数只是提供了一种调用该函数时的便利，并没有创建新的可重载函数。如果同时声明 <code>void foo(int x);</code> 和 <code>void foo(int x = 0);</code>，编译器通常会认为是重定义或冲突。如果先声明 <code>void foo(int x = 0);</code> 然后再声明 <code>void foo(int x);</code>（没有默认值），可能会被视为对默认参数的移除，这在不同作用域可能是合法的，但通常应避免这种混淆。关键是，对编译器而言，<code>foo(int)</code> 是这个函数的基本签名。</li>
</ul>
</li>
<li><p><strong>忘记包含必要的头文件：</strong></p>
<ul>
<li>例如，在构造函数的实现（<code>.cpp</code> 文件）中使用了 <code>std::cout</code> 但忘记了 <code>#include &lt;iostream&gt;</code>。虽然这不直接与默认参数相关，但在编写示例和测试时很容易犯。</li>
</ul>
</li>
</ol>
<h1 id="6-编码练习"><a href="#6-编码练习" class="headerlink" title="6. 编码练习"></a>6. 编码练习</h1><p>现在，轮到你来实践一下了！</p>
<p>我们有一个 <code>Box</code>（盒子）类，它有 <code>length</code>（长度）、<code>width</code>（宽度）和 <code>height</code>（高度）三个属性。<br>请你完成以下任务：</p>
<ol>
<li>修改 <code>Box.h</code> 中的构造函数声明，使其：<ul>
<li><code>length</code> 参数没有默认值。</li>
<li><code>width</code> 参数的默认值为 <code>1.0</code>。</li>
<li><code>height</code> 参数的默认值为 <code>1.0</code>。</li>
</ul>
</li>
<li>在 <code>main.cpp</code> 中，使用这个修改后的构造函数创建三个 <code>Box</code> 对象：<ul>
<li><code>box1</code>: 只提供 <code>length</code> 为 <code>5.0</code>。</li>
<li><code>box2</code>: 提供 <code>length</code> 为 <code>4.0</code> 和 <code>width</code> 为 <code>3.0</code>。</li>
<li><code>box3</code>: 提供 <code>length</code> 为 <code>2.0</code>、<code>width</code> 为 <code>2.0</code> 和 <code>height</code> 为 <code>2.0</code>。</li>
</ul>
</li>
<li>打印出这三个盒子的体积。</li>
</ol>
<p><strong><code>Box.h</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> BOX_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BOX_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> length;</span><br><span class="line">    <span class="keyword">double</span> width;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> 修改此构造函数声明以满足练习要求</span></span><br><span class="line">    Box(<span class="keyword">double</span> l, <span class="keyword">double</span> w, <span class="keyword">double</span> h);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">volume</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dimensions</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//BOX_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>Box.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Box.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造函数定义 (你不需要修改这个文件，默认值只在 .h 文件中)</span></span><br><span class="line">Box::Box(<span class="keyword">double</span> l, <span class="keyword">double</span> w, <span class="keyword">double</span> h) : length(l), width(w), height(h) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Box created with L="</span> &lt;&lt; length &lt;&lt; <span class="string">", W="</span> &lt;&lt; width &lt;&lt; <span class="string">", H="</span> &lt;&lt; height &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Box::volume</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> length * width * height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Box::print_dimensions</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Box dimensions: L="</span> &lt;&lt; length &lt;&lt; <span class="string">", W="</span> &lt;&lt; width &lt;&lt; <span class="string">", H="</span> &lt;&lt; height &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Box.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 练习开始 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 1: 创建 box1，只提供 length = 5.0</span></span><br><span class="line">    <span class="comment">// Box box1(...);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Box1: ";</span></span><br><span class="line">    <span class="comment">// box1.print_dimensions();</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Box1 volume: " &lt;&lt; box1.volume() &lt;&lt; std::endl &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 2: 创建 box2，提供 length = 4.0, width = 3.0</span></span><br><span class="line">    <span class="comment">// Box box2(...);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Box2: ";</span></span><br><span class="line">    <span class="comment">// box2.print_dimensions();</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Box2 volume: " &lt;&lt; box2.volume() &lt;&lt; std::endl &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 3: 创建 box3，提供 length = 2.0, width = 2.0, height = 2.0</span></span><br><span class="line">    <span class="comment">// Box box3(...);</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Box3: ";</span></span><br><span class="line">    <span class="comment">// box3.print_dimensions();</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Box3 volume: " &lt;&lt; box3.volume() &lt;&lt; std::endl &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- 练习结束 ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><br>请你将 <code>Box.h</code> 和 <code>main.cpp</code> 中 <code>// TODO</code> 部分的代码补充完整。完成后，将你修改的 <code>Box.h</code> 和 <code>main.cpp</code> 内容发给我，我会帮你检查并给出反馈！加油！</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Tutorial/">Tutorial    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Constructor/">Constructor    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/287%20-%20const%20%E5%AF%B9%E8%B1%A1%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>287 - const 对象作为函数参数的注意事项</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/299%20-%20%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>299 - 显式构造函数</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/274 - default constructor/" title="274 - default constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">274 - default constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/306 -  cpp 初始化列表构造函数详解/" title="306 -  cpp 初始化列表构造函数详解"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">306 -  cpp 初始化列表构造函数详解</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/280 - 构造与析构顺序 倒序析构/" title="280 - 构造与析构顺序 倒序析构"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">280 - 构造与析构顺序 倒序析构</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cpp结构体与类的区别和用法/" title="282 - cpp结构体与类的区别和用法"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cpp结构体与类的区别和用法</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/297 - 构造函数初始化列表/" title="297 - 构造函数初始化列表"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">297 - 构造函数初始化列表</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'不说话的人会疯掉吗?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">外向孤独者患者</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>