<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹ | Bear's dream</title><meta name="description" content="278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><meta name="keywords" content="Cpp,Coding,Developer,Class,Object"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><meta name="twitter:description" content="278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/278%20-%20cpp%20%E6%8C%87%E9%92%88%E7%AE%A1%E7%90%86%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%A4%BA%E4%BE%8B/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/278%20-%20cpp%20%E6%8C%87%E9%92%88%E7%AE%A1%E7%90%86%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%A4%BA%E4%BE%8B/"><link rel="prev" title="277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/277%20-%20IDE%20%E5%88%9B%E5%BB%BA%20cpp%20%E7%B1%BB%E6%96%B9%E6%B3%95/"><link rel="next" title="279 - cppææ„å‡½æ•°ï¼šå¯¹è±¡é”€æ¯æ—¶çš„å†…å­˜é‡Šæ”¾" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/279%20-%20cpp%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%9A%E5%AF%B9%E8%B1%A1%E9%94%80%E6%AF%81%E6%97%B6%E7%9A%84%E5%86%85%E5%AD%98%E9%87%8A%E6%94%BE/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">19</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">C++ æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#1-æ ‡é¢˜å’Œæ‘˜è¦"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">1. æ ‡é¢˜å’Œæ‘˜è¦</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#4-QAé—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">4. QAé—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">6. ç¼–ç ç»ƒä¹ </span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">7.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">7.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#7-ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">7. ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#8-å»ºè®®ä¸æ‰©å±•é—®é¢˜"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">8. å»ºè®®ä¸æ‰©å±•é—®é¢˜</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><span class="toc-number">1.</span> <span class="toc-text">C++ æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-æ ‡é¢˜å’Œæ‘˜è¦"><span class="toc-number">2.</span> <span class="toc-text">1. æ ‡é¢˜å’Œæ‘˜è¦</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc-number">3.</span> <span class="toc-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc-number">4.</span> <span class="toc-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-QAé—ªå¡-QA-Flash-Cards"><span class="toc-number">5.</span> <span class="toc-text">4. QAé—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc-number">6.</span> <span class="toc-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc-number">7.</span> <span class="toc-text">6. ç¼–ç ç»ƒä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">7.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">7.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><span class="toc-number">8.</span> <span class="toc-text">7. ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-å»ºè®®ä¸æ‰©å±•é—®é¢˜"><span class="toc-number">9.</span> <span class="toc-text">8. å»ºè®®ä¸æ‰©å±•é—®é¢˜</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">278 - cpp æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/278%20-%20cpp%20%E6%8C%87%E9%92%88%E7%AE%A1%E7%90%86%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%A4%BA%E4%BE%8B/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/278%20-%20cpp%20%E6%8C%87%E9%92%88%E7%AE%A1%E7%90%86%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%A4%BA%E4%BE%8B/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="C-æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"><a href="#C-æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹" class="headerlink" title="C++ æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹"></a>C++ æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ç¤ºä¾‹</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to see how we can manage our class objects through pointers.And in most cases, we need to manage our class object through pointers if we are using some form ofdynamic memory allocation.Here is a simple example.We have our cylinder class included and down here you see that we can create the cylinder objects onthe stack.If we use the syntax like we do here, the objects are going to be created on the stack and we haveseen that we can access the behaviors or data inside our class object using the dot notation like wedo here.For example, here we are calling our volume function, but sometimes we want to manage our objectsthrough pointers.For example, if you look at the syntax we have here, we are saying cylinder and using the asteriskhere, this is going to say that this is going to be a pointer to a cylinder type and weâ€™re going togive it a name C two and we can allocate our object on the heap using the new operator.This is going to dynamically allocate space from the heap, and that memory space is going to be usedto store our cylinder object.Now, the interesting thing is going to happen when you try to access behaviors from your cylinder object.Here, for example, if we look at this line here, we are trying to print the volume of this cylinderand you notice that we have to go through ugly dereferencing here.We have to dereference the object and then call our method through the dot operator here.But what I want you to see is that we can avoid this ugly dereferencing we are doing here and use thepointer access notation.This dash greater than symbol you see here is going to allow us to access stuff directly using the pointerto an object that is dynamically allocated on the heap.Okay.After we are done using our cylinder object, remember it is memory that was dynamically allocated fromthe heap.We have to release the memory so that it can be used by the operating system and we release the memoryusing the delete operator as we do here.Okay.The idea I wanted to introduce here is that we can use pointers to manage our cylinder objects and thisis one way we can do this.And once we are using a pointer as a handle to our cylinder object, we can use the pointer access operatorhere to access stuff from our class objects easily.And another thing you should know is that we can actually create a cylinder object and storing the addressof objects that we have on the stack.And weâ€™re going to see this in a minute when we hit Visual Studio Code.Now that you have an idea about this, letâ€™s head over to Visual Studio code and play with this a littlemore.Okay.Here we are in our working folder.The current project is managing class objects through pointers.We can see the entire name here and now weâ€™re not going to grab our template project because we wantto start from the project we had in this lecture on class across multiple files.So weâ€™re going to go in that project and grab everything from there except for the executable becausewe obviously donâ€™t want this and weâ€™re going to go in our current project and paste in the code andthis is going to give us a good starting point so we can grab this and open this project in Visual Studiocode, itâ€™s going to open the folder and weâ€™re going to have everything.We want to start doing what we want to do in this lecture here.So now we should have access to our cylinder class.And if you look here, we have an object of cylinder type already created by this line on line numbersix here.And we have seen that we can use the syntax like cylinder volume here using the dot call operator toaccess stuff from our class object.And this is going to work, but we want to see that we can use pointers to manage our object here.And the first thing I want you to see is that we can manage a stack object through pointers and to reallyshow this off, letâ€™s set up a another variable.Itâ€™s going to be a cylinder pointer and itâ€™s going to be p cylinder one.Itâ€™s going to be a pointer to cylinder one here.Thatâ€™s what I mean.And we can give it an address of cylinder one as a value.So we can do that, for example, and put in the address of operator.And this is going to work.Now we can go through our pointer here and do stuff with this cylinder object, but the syntax is goingto be pretty ugly.So for example, letâ€™s try and print the volume of a cylinder.Weâ€™re going to say stdcout and say volume can save that and weâ€™re going to have to go through the dereferenceoperator.So if we do something like p cylinder one and try to use the dot operator.Later, youâ€™re going to see that we have the volume function.But if we try to call it letâ€™s do that.Letâ€™s make sure we are using the dot operator here.If we try to compile this program, itâ€™s not going to compile because we are trying to call stuff froma pointer.And remember a pointer is just going to store an address.It doesnâ€™t really have information about the type that it is pointing to.If youâ€™re trying to compile this program, youâ€™re going to get a compiler error.So letâ€™s use GCC to do that and weâ€™re going to get request for member volume in cylinder one.Remember, p cylinder one is just a pointer.Itâ€™s not an object.So we canâ€™t really call the volume function to it.If we want to use the dot call operator here we have to dereference and actually get to the actual objectthat the pointer is pointing to and we do that using the star operator.You already know how to dereference a pointer so we can dereference our pointer and then call the volumefunction on what the pointer is pointing to.And this is going to work.Itâ€™s going to print our volume.Letâ€™s build now, now that we are dereferencing correctly and you see that this is going to work.And if we try to print this, letâ€™s bring up a terminal so that we can run this program.Letâ€™s run Rooster.Youâ€™re going to see that we have our volume here.So to really get to what is pointed to, you need to use the dereference operator and then call whatevermethod you want to call on your object.But we can do things even easier.There is a syntax we can use to use the pointer directly here because going through all this dereferencingugliness is really not cool.So weâ€™re going to grab this and show you that we can use the dash greater than operator.Thatâ€™s how we call it.And if we use that, we donâ€™t need to dereference.All we need to do is use the dash greater than symbol here and itâ€™s going to directly tell the compilerdonâ€™t call stuff on the pointer directly, do dereference the pointer internally and then call the volumefunction on whatever you get after Dereferencing.So this is basically going to push the dereferencing ugliness here behind the curtains of the compilerand we can use a nice syntax like this.And I think this is much better than what we were doing here.So if we try to build now, weâ€™re going to build and print our volume.Youâ€™re going to see the world is good.We can clear and run Rooster.You see, we see our volume here.So this is what I want you to see.It is possible to manage your cylinder objects through pointers, and this is one way we can do thisby managing a stack object through pointers.And this is what we are doing here.If you want to call stuff on your class object, you can either do the ugly stuff we do here or youcan use the nice pointer access operator and it is going to be cool.Okay.Now that we have seen this, letâ€™s see another use case in which weâ€™re going to be creating a cylinderobject on the heap through the new operator.Okay.We can go down and say that weâ€™re going to say cylinder pointer.Itâ€™s going to be P cylinder two.We can call it like this, and then weâ€™re going to say new cylinder and youâ€™re going to see that wecan call a constructor.We have two types of constructors we can call.Weâ€™re going to call our constructor.That takes two parameters and we can pass in 101 hundred.Why not?Oh, letâ€™s put the two.After here, we can put in whatever we want.This is going to create a new cylinder object.The space for the cylinder object is going to be allocated on the heap.So this is a heap object.And because we are using the new operator here, the other thing you should have in mind is that youwill need to release this memory and letâ€™s go and do that directly.This is a good practice because you will forget to release your memory if you donâ€™t really keep thisin mind.So we are going to delete p cylinder two because thatâ€™s what we used to allocate our heap memory here.Okay.Now that we have taken care of memory management, we can go in and use our p cylinder to object.And for example, we can print its volume by using the stdcout statement here.So letâ€™s go down and save that.Letâ€™s align this properly and weâ€™re going to say volume cylinder two to really make this super clear,and then weâ€™re going to say p cylinder two and call the volume function here.This is going to work.Letâ€™s try and world the world is good.We can clear and run Rooster.This is going to give us our volume.And if we try and use this information to create a cylinder, weâ€™re going to see that the volume iswhat we see here.We can even try and print its base radius.Letâ€™s do that.Iâ€™m going to say Stdcout.Weâ€™re going to say p cylinder two and weâ€™re going to say base radius.We can hit the dot operator here.Youâ€™re going to see weâ€™re going to have a few options in Visual Studio code here.If we double click on get base radius here, youâ€™re going to see that Visual Studio code is going touse the pointer access operator here.And this is really cool.So we can hit Stdendl.We can close the left pane here because we need some more breathing space.And if we try to build and run this program and we have a compiler error here and the reason is getbase radius is a function.If we go back in our cylinder class, we see that we have a function called get base radius.So if we want to call this in the main function, we need to call that as a function.So we need to put a pair of parentheses here.And if we build, we should build without a problem.Letâ€™s do that again.You see, the build is good and if we run the program, weâ€™re going to see exactly what we expect.Letâ€™s run a rooster.Weâ€™re going to see what we expect here.And the message here was really that you can manage your class object through pointers.One case is when you have a pointer that is pointing to a stack object.And we saw that we could do that here.We can also use pointer notation to allocate objects on the heap and point to them with our pointerhere.And whenever we are using a pointer we have the option to use the pointer call operator here to do thingseasily.I am going to be calling this the pointer call operator to mend this from here on.If we happen to knit this and you should know what I mean by that.This is really all I set out to share in this lecture.I hope you found it interesting.We are going to stop here in this lecture and the next one weâ€™re going to learn about Destructors.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œå¾ˆé«˜å…´èƒ½æˆä¸ºä½ çš„C++å¯è’™è€å¸ˆï¼C++æ˜¯ä¸€é—¨åŠŸèƒ½å¼ºå¤§ä¸”åº”ç”¨å¹¿æ³›çš„è¯­è¨€ï¼ŒæŒæ¡å®ƒä¼šè®©ä½ å—ç›ŠåŒªæµ…ã€‚åˆ«æ‹…å¿ƒï¼Œæˆ‘ä¼šä¸€æ­¥ä¸€æ­¥åœ°å¼•å¯¼ä½ ï¼Œç¡®ä¿ä½ èƒ½å¤Ÿç†è§£æ¯ä¸€ä¸ªçŸ¥è¯†ç‚¹ã€‚</p>
<p>è®©æˆ‘ä»¬å¼€å§‹ä»Šå¤©çš„å­¦ä¹ ï¼šé€šè¿‡æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡ã€‚</p>
<hr>
<h1 id="1-æ ‡é¢˜å’Œæ‘˜è¦"><a href="#1-æ ‡é¢˜å’Œæ‘˜è¦" class="headerlink" title="1. æ ‡é¢˜å’Œæ‘˜è¦"></a>1. æ ‡é¢˜å’Œæ‘˜è¦</h1><p><strong>æ ‡é¢˜ï¼š</strong> C++è¿›é˜¶ï¼šä½¿ç”¨æŒ‡é’ˆç®¡ç†ç±»å¯¹è±¡â€”â€”æ·±å…¥ç†è§£åŠ¨æ€å†…å­˜ä¸è®¿é—®æœºåˆ¶</p>
<p><strong>æ‘˜è¦ï¼š</strong><br>æœ¬èŠ‚è¯¾æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ <strong>æŒ‡é’ˆ (pointer)</strong> æ¥ç®¡ç†C++ä¸­çš„ç±»å¯¹è±¡ã€‚è¿™åœ¨è¿›è¡Œ <strong>åŠ¨æ€å†…å­˜åˆ†é… (dynamic memory allocation)</strong> æ—¶å°¤ä¸ºé‡è¦ã€‚æˆ‘ä»¬å°†æ¢è®¨åœ¨ <strong>æ ˆ (stack)</strong> ä¸Šåˆ›å»ºå¯¹è±¡å’Œåœ¨ <strong>å † (heap)</strong> ä¸ŠåŠ¨æ€åˆ›å»ºå¯¹è±¡çš„åŒºåˆ«ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡æŒ‡é’ˆï¼ˆç‰¹åˆ«æ˜¯ä½¿ç”¨ <code>-&gt;</code> <strong>ç®­å¤´è¿ç®—ç¬¦ (arrow operator)</strong>ï¼‰æ¥è®¿é—®å¯¹è±¡çš„æˆå‘˜ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä¼šå¼ºè°ƒä½¿ç”¨ <code>new</code> å’Œ <code>delete</code> è¿›è¡Œå†…å­˜ç®¡ç†çš„å¿…è¦æ€§ã€‚</p>
<hr>
<h1 id="2-è¯¦ç»†è§£é‡Š"><a href="#2-è¯¦ç»†è§£é‡Š" class="headerlink" title="2. è¯¦ç»†è§£é‡Š"></a>2. è¯¦ç»†è§£é‡Š</h1><p>åœ¨C++ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºå’Œä½¿ç”¨å¯¹è±¡çš„æ–¹å¼æœ‰å¤šç§ã€‚ä¹‹å‰ä½ å¯èƒ½å·²ç»ç†Ÿæ‚‰äº†ç›´æ¥åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼Œæ¯”å¦‚ <code>Cylinder c1;</code>ã€‚è¿™ç§æ–¹å¼åˆ›å»ºçš„å¯¹è±¡é€šå¸¸ä½äºå†…å­˜çš„â€œæ ˆâ€åŒºåŸŸã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è¦å­¦ä¹ å¦ä¸€ç§æ›´çµæ´»çš„æ–¹å¼ï¼šé€šè¿‡æŒ‡é’ˆæ¥ç®¡ç†å¯¹è±¡ï¼Œå°¤å…¶æ˜¯é‚£äº›åœ¨å†…å­˜â€œå †â€åŒºåŸŸåŠ¨æ€åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<p><strong>æ­¥éª¤ 1ï¼šå›é¡¾æ ˆå¯¹è±¡çš„åˆ›å»ºå’Œè®¿é—®</strong></p>
<p>å½“ä½ åƒä¸‹é¢è¿™æ ·å†™ä»£ç æ—¶ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Cylinder <span class="title">cylinder1</span><span class="params">(<span class="number">10</span>, <span class="number">5</span>)</span></span>; <span class="comment">// å‡è®¾Cylinderç±»æœ‰ä¸€ä¸ªæ¥å—åŠå¾„å’Œé«˜åº¦çš„æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li><code>cylinder1</code> è¿™ä¸ªå¯¹è±¡æ˜¯åœ¨ <strong>æ ˆ (stack)</strong> ä¸Šåˆ›å»ºçš„ã€‚</li>
<li>æ ˆæ˜¯ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡å’Œå‡½æ•°è°ƒç”¨çš„ä¿¡æ¯ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯ç®¡ç†è‡ªåŠ¨åŒ–ï¼šå½“å˜é‡è¶…å‡ºå…¶ä½œç”¨åŸŸï¼ˆä¾‹å¦‚ï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼‰ï¼Œå®ƒæ‰€å ç”¨çš„æ ˆå†…å­˜ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚</li>
<li>è®¿é—®è¿™ç±»å¯¹è±¡çš„æˆå‘˜ï¼ˆæ¯”å¦‚è°ƒç”¨å®ƒçš„æ–¹æ³•æˆ–è®¿é—®å®ƒçš„å…¬å…±æ•°æ®æˆå‘˜ï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ (<code>.</code>)ï¼š</li>
</ul>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> vol = cylinder1.volume(); <span class="comment">// è°ƒç”¨volumeæ–¹æ³•</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 1 radius: "</span> &lt;&lt; cylinder1.get_radius(); <span class="comment">// è°ƒç”¨get_radiusæ–¹æ³•</span></span><br></pre></td></tr></table></figure></div>
<p><strong>æ­¥éª¤ 2ï¼šä¸ºä»€ä¹ˆéœ€è¦ç”¨æŒ‡é’ˆç®¡ç†å¯¹è±¡ï¼Ÿâ€”â€”åŠ¨æ€å†…å­˜åˆ†é…</strong></p>
<p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸å±€é™äºåˆ›å»ºå®ƒçš„é‚£ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸã€‚æˆ–è€…ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç¨‹åºè¿è¡Œæ—¶æ‰å†³å®šè¦åˆ›å»ºå¤šå°‘ä¸ªå¯¹è±¡ï¼Œæˆ–è€…åˆ›å»ºéå¸¸å¤§çš„å¯¹è±¡æ—¶ï¼Œæ ˆç©ºé—´å¯èƒ½ä¸å¤Ÿç”¨ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨ <strong>å † (heap)</strong> ä¸ŠåŠ¨æ€åœ°åˆ›å»ºå¯¹è±¡ã€‚</p>
<ul>
<li><strong>å † (heap)</strong> æ˜¯å¦ä¸€å—å†…å­˜åŒºåŸŸï¼Œä¸æ ˆä¸åŒï¼Œå †ä¸Šçš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾å¿…é¡»ç”±ç¨‹åºå‘˜æ‰‹åŠ¨ç®¡ç†ã€‚</li>
<li>åœ¨å †ä¸Šåˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <strong><code>new</code> è¿ç®—ç¬¦ (new operator)</strong>ã€‚</li>
</ul>
<p><strong>æ­¥éª¤ 3ï¼šåœ¨å †ä¸Šåˆ›å»ºå¯¹è±¡å¹¶ä½¿ç”¨æŒ‡é’ˆæŒ‡å‘å®ƒ</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cylinder* p_cylinder2; <span class="comment">// å£°æ˜ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒå¯ä»¥æŒ‡å‘ä¸€ä¸ªCylinderç±»å‹çš„å¯¹è±¡</span></span><br><span class="line">p_cylinder2 = <span class="keyword">new</span> Cylinder(<span class="number">7</span>, <span class="number">3</span>); <span class="comment">// ä½¿ç”¨ new åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªCylinderå¯¹è±¡ï¼Œ</span></span><br><span class="line">                                  <span class="comment">// å¹¶å°†å…¶åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆ p_cylinder2</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li><code>Cylinder* p_cylinder2;</code> è¿™é‡Œçš„æ˜Ÿå· <code>*</code> è¡¨ç¤º <code>p_cylinder2</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒå­˜å‚¨çš„æ˜¯ä¸€ä¸ª <code>Cylinder</code> ç±»å‹å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li>
<li><code>new Cylinder(7, 3)</code> è¿™éƒ¨åˆ†åšäº†ä¸‰ä»¶äº‹ï¼š<ol>
<li>åœ¨å †å†…å­˜ä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´æ¥å­˜æ”¾ä¸€ä¸ª <code>Cylinder</code> å¯¹è±¡ã€‚</li>
<li>è°ƒç”¨ <code>Cylinder</code> ç±»çš„æ„é€ å‡½æ•°ï¼ˆè¿™é‡Œæ˜¯å¸¦ä¸¤ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ï¼‰æ¥åˆå§‹åŒ–è¿™å—å†…å­˜ç©ºé—´ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªæœ‰æ•ˆçš„ <code>Cylinder</code> å¯¹è±¡ã€‚</li>
<li>è¿”å›è¿™ä¸ªæ–°åˆ›å»ºå¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li>
</ol>
</li>
<li>è¿™ä¸ªè¿”å›çš„åœ°å€å°±è¢«å­˜å‚¨åœ¨äº†æŒ‡é’ˆå˜é‡ <code>p_cylinder2</code> ä¸­ã€‚ç°åœ¨ï¼Œ<code>p_cylinder2</code> å°±â€œæŒ‡å‘â€äº†å †ä¸Šçš„é‚£ä¸ª <code>Cylinder</code> å¯¹è±¡ã€‚</li>
</ul>
<p><strong>æ­¥éª¤ 4ï¼šé€šè¿‡æŒ‡é’ˆè®¿é—®å †ä¸Šå¯¹è±¡çš„æˆå‘˜â€”â€”ä¸¤ç§æ–¹æ³•</strong></p>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæŒ‡å‘å †ä¸Šå¯¹è±¡çš„æŒ‡é’ˆ <code>p_cylinder2</code>ï¼Œå¦‚ä½•è®¿é—®è¯¥å¯¹è±¡çš„æˆå‘˜ï¼ˆæ¯”å¦‚è°ƒç”¨ <code>volume()</code> æ–¹æ³•ï¼‰å‘¢ï¼Ÿ</p>
<ul>
<li><p><strong>æ–¹æ³•ä¸€ï¼šè§£å¼•ç”¨ (dereference) å’Œç‚¹è¿ç®—ç¬¦ (ä¸æ¨èï¼Œç¹ç)</strong><br>æŒ‡é’ˆæœ¬èº«å­˜å‚¨çš„æ˜¯åœ°å€ï¼Œä¸æ˜¯å¯¹è±¡æœ¬èº«ã€‚è¦è·å–æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå¯¹æŒ‡é’ˆè¿›è¡Œ <strong>è§£å¼•ç”¨ (dereference)</strong>ï¼Œä½¿ç”¨æ˜Ÿå· <code>*</code> æ“ä½œç¬¦ã€‚è§£å¼•ç”¨åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å¯¹è±¡æœ¬èº«ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ <code>.</code>äº†ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// (*p_cylinder2) é¦–å…ˆè§£å¼•ç”¨æŒ‡é’ˆï¼Œå¾—åˆ°å¯¹è±¡æœ¬èº«</span></span><br><span class="line"><span class="comment">// ç„¶å .volume() è°ƒç”¨è¯¥å¯¹è±¡çš„æˆå‘˜å‡½æ•°</span></span><br><span class="line"><span class="keyword">double</span> vol2 = (*p_cylinder2).volume();</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Volume of cylinder 2: "</span> &lt;&lt; vol2 &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></div>
<p>æ³¨æ„è¿™é‡Œçš„æ‹¬å· <code>(*p_cylinder2)</code> éå¸¸é‡è¦ï¼å› ä¸ºç‚¹è¿ç®—ç¬¦ <code>.</code> çš„ä¼˜å…ˆçº§é«˜äºè§£å¼•ç”¨è¿ç®—ç¬¦ <code>*</code>ã€‚å¦‚æœä¸åŠ æ‹¬å·ï¼Œ<code>*p_cylinder2.volume()</code> ä¼šè¢«ç¼–è¯‘å™¨ç†è§£ä¸º <code>*(p_cylinder2.volume())</code>ï¼Œå®ƒä¼šå°è¯•å¯¹ <code>p_cylinder2</code>ï¼ˆä¸€ä¸ªæŒ‡é’ˆï¼‰ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œè¿™æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºæŒ‡é’ˆæ²¡æœ‰åä¸º <code>volume</code> çš„æˆå‘˜ã€‚</p>
</li>
<li><p><strong>æ–¹æ³•äºŒï¼šç®­å¤´è¿ç®—ç¬¦ <code>-&gt;</code> (æ¨èï¼Œç®€æ´)</strong><br>C++ æä¾›äº†ä¸€ä¸ªæ›´ç®€æ´ã€æ›´å¸¸ç”¨çš„æ–¹å¼æ¥é€šè¿‡æŒ‡é’ˆè®¿é—®å¯¹è±¡çš„æˆå‘˜ï¼š<strong>ç®­å¤´è¿ç®—ç¬¦ (arrow operator)</strong> <code>-&gt;</code>ã€‚å®ƒç­‰æ•ˆäºâ€œè§£å¼•ç”¨ç„¶åè®¿é—®æˆå‘˜â€ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> vol2_arrow = p_cylinder2-&gt;volume(); <span class="comment">// ç­‰ä»·äº (*p_cylinder2).volume()</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Volume of cylinder 2 (using arrow): "</span> &lt;&lt; vol2_arrow &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Cylinder 2 radius: "</span> &lt;&lt; p_cylinder2-&gt;get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></div>
<p>è¿™ç§æ–¹å¼æ›´æ˜“è¯»ï¼Œä¹Ÿæ˜¯é€šè¿‡æŒ‡é’ˆè®¿é—®å¯¹è±¡æˆå‘˜çš„æ ‡å‡†åšæ³•ã€‚</p>
</li>
</ul>
<p><strong>æ­¥éª¤ 5ï¼šé‡Šæ”¾å †å†…å­˜â€”â€”<code>delete</code> è¿ç®—ç¬¦</strong></p>
<p>å½“ä½ åœ¨å †ä¸Šä½¿ç”¨ <code>new</code> åˆ†é…äº†å†…å­˜åï¼Œè¿™å—å†…å­˜ä¼šä¸€ç›´è¢«å ç”¨ï¼Œç›´åˆ°ä½ æ˜ç¡®åœ°å‘Šè¯‰ç³»ç»Ÿä½ ä¸å†éœ€è¦å®ƒäº†ã€‚å¦‚æœä½ å¿˜è®°é‡Šæ”¾ï¼Œå°±ä¼šå‘ç”Ÿ <strong>å†…å­˜æ³„æ¼ (memory leak)</strong>ï¼Œå³ç¨‹åºå ç”¨çš„å†…å­˜è¶Šæ¥è¶Šå¤šï¼Œæœ€ç»ˆå¯èƒ½å¯¼è‡´ç¨‹åºæˆ–ç³»ç»Ÿå´©æºƒã€‚</p>
<p>ä¸ºäº†é‡Šæ”¾ä¹‹å‰ç”¨ <code>new</code> åˆ†é…çš„å†…å­˜ï¼Œæˆ‘ä»¬ä½¿ç”¨ <strong><code>delete</code> è¿ç®—ç¬¦ (delete operator)</strong>ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> p_cylinder2; <span class="comment">// é‡Šæ”¾ p_cylinder2 æŒ‡å‘çš„å †å†…å­˜</span></span><br><span class="line">p_cylinder2 = <span class="literal">nullptr</span>; <span class="comment">// è¿™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼šé‡Šæ”¾åå°†æŒ‡é’ˆè®¾ä¸º nullptrï¼Œ</span></span><br><span class="line">                      <span class="comment">// é˜²æ­¢å®ƒæˆä¸ºâ€œæ‚¬å‚æŒ‡é’ˆâ€ (dangling pointer)ï¼Œ</span></span><br><span class="line">                      <span class="comment">// å³æŒ‡å‘ä¸€å—ä¸å†æœ‰æ•ˆæˆ–å·²è¢«å›æ”¶çš„å†…å­˜åŒºåŸŸã€‚</span></span><br></pre></td></tr></table></figure></div>
<ul>
<li><code>delete p_cylinder2;</code> ä¼šåšä¸¤ä»¶äº‹ï¼š<ol>
<li>é¦–å…ˆï¼Œå®ƒä¼šè°ƒç”¨ <code>p_cylinder2</code> æ‰€æŒ‡å‘å¯¹è±¡çš„ææ„å‡½æ•°ï¼ˆæˆ‘ä»¬ç¨åä¼šå­¦ä¹ ææ„å‡½æ•°ï¼Œå®ƒç”¨äºå¯¹è±¡é”€æ¯å‰çš„æ¸…ç†å·¥ä½œï¼‰ã€‚</li>
<li>ç„¶åï¼Œå®ƒä¼šé‡Šæ”¾è¯¥å¯¹è±¡æ‰€å ç”¨çš„å †å†…å­˜ï¼Œä½¿å¾—è¿™å—å†…å­˜å¯ä»¥è¢«æ“ä½œç³»ç»Ÿé‡æ–°åˆ†é…ç»™å…¶ä»–ç¨‹åºæˆ–å½“å‰ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ä½¿ç”¨ã€‚</li>
</ol>
</li>
<li><strong>é‡è¦è§„åˆ™ï¼š</strong> æœ‰ <code>new</code> å°±å¿…é¡»æœ‰å¯¹åº”çš„ <code>delete</code>ã€‚<code>new</code> å’Œ <code>delete</code> å¿…é¡»æˆå¯¹å‡ºç°ï¼ˆå¯¹äºæ•°ç»„ï¼Œæ˜¯ <code>new[]</code> å’Œ <code>delete[]</code>ï¼Œæˆ‘ä»¬ä»¥åä¼šå­¦ï¼‰ã€‚</li>
</ul>
<p><strong>æ­¥éª¤ 6ï¼šæŒ‡é’ˆä¹Ÿå¯ä»¥æŒ‡å‘æ ˆä¸Šçš„å¯¹è±¡ (äº†è§£å³å¯)</strong></p>
<p>è™½ç„¶æŒ‡é’ˆä¸»è¦ç”¨äºç®¡ç†å †ä¸Šçš„åŠ¨æ€å¯¹è±¡ï¼Œä½†å®ƒä»¬ä¹Ÿå¯ä»¥æŒ‡å‘æ ˆä¸Šå·²ç»å­˜åœ¨çš„å¯¹è±¡ã€‚è¿™åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹å¯èƒ½æœ‰ç”¨ï¼Œä½†ä¸å¦‚ç®¡ç†å †å¯¹è±¡é‚£ä¹ˆå¸¸è§ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Cylinder <span class="title">cylinder3</span><span class="params">(<span class="number">2</span>, <span class="number">8</span>)</span></span>;        <span class="comment">// cylinder3 åœ¨æ ˆä¸Šåˆ›å»º</span></span><br><span class="line">Cylinder* p_cylinder3 = &amp;cylinder3; <span class="comment">// p_cylinder3 æŒ‡å‘æ ˆä¸Šçš„ cylinder3</span></span><br><span class="line">                                   <span class="comment">// &amp; æ˜¯å–åœ°å€è¿ç®—ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒæ ·å¯ä»¥ä½¿ç”¨ -&gt; è¿ç®—ç¬¦</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Volume of cylinder 3: "</span> &lt;&lt; p_cylinder3-&gt;volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">// æˆ–è€…ä½¿ç”¨ (*).</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Radius of cylinder 3: "</span> &lt;&lt; (*p_cylinder3).get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure></div>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºæŒ‡å‘æ ˆå¯¹è±¡çš„æŒ‡é’ˆï¼Œ<strong>ç»å¯¹ä¸èƒ½</strong> å¯¹å…¶ä½¿ç”¨ <code>delete</code>ï¼å› ä¸ºæ ˆå¯¹è±¡çš„å†…å­˜æ˜¯ç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†çš„ï¼Œ<code>delete</code> åªèƒ½ç”¨äºé€šè¿‡ <code>new</code> åˆ†é…çš„å †å†…å­˜ã€‚å¯¹æ ˆå¯¹è±¡ä½¿ç”¨ <code>delete</code> ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼Œé€šå¸¸æ˜¯ç¨‹åºå´©æºƒã€‚</p>
<p><strong>æ€»ç»“ä¸€ä¸‹æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<ol>
<li>ç›´æ¥å£°æ˜çš„å¯¹è±¡ï¼ˆå¦‚ <code>Cylinder c1;</code>ï¼‰åœ¨æ ˆä¸Šï¼Œä½¿ç”¨ <code>.</code> è®¿é—®æˆå‘˜ï¼Œç”Ÿå‘½å‘¨æœŸç”±ä½œç”¨åŸŸå†³å®šï¼Œè‡ªåŠ¨ç®¡ç†ã€‚</li>
<li>ä½¿ç”¨ <code>new</code> åˆ›å»ºçš„å¯¹è±¡ï¼ˆå¦‚ <code>Cylinder* p = new Cylinder();</code>ï¼‰åœ¨å †ä¸Šï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆã€‚</li>
<li>é€šè¿‡æŒ‡é’ˆè®¿é—®å †ä¸Šå¯¹è±¡çš„æˆå‘˜ï¼Œæ¨èä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ <code>-&gt;</code>ï¼ˆå¦‚ <code>p-&gt;volume();</code>ï¼‰ã€‚</li>
<li>å †ä¸Šç”¨ <code>new</code> åˆ›å»ºçš„å¯¹è±¡ï¼Œå¿…é¡»åœ¨ä¸å†éœ€è¦æ—¶ä½¿ç”¨ <code>delete</code> æ‰‹åŠ¨é‡Šæ”¾ï¼ˆå¦‚ <code>delete p;</code>ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li>
</ol>
<hr>
<h1 id="3-ä»£ç ç¤ºä¾‹"><a href="#3-ä»£ç ç¤ºä¾‹" class="headerlink" title="3. ä»£ç ç¤ºä¾‹"></a>3. ä»£ç ç¤ºä¾‹</h1><p>ä¸ºäº†è®©è¿™äº›æ¦‚å¿µæ›´æ¸…æ™°ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç®€å•çš„ <code>Cylinder</code> ç±»ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹æ–‡ä»¶ï¼š</p>
<p><strong>cylinder.h (å¤´æ–‡ä»¶ï¼Œç±»çš„å£°æ˜)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CYLINDER_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CYLINDER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // ä¸ºäº† std::cout</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> PI &#123;<span class="number">3.1415926535897932384626433832795</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cylinder</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•° (Constructors)</span></span><br><span class="line">    Cylinder() = <span class="keyword">default</span>; <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    Cylinder(<span class="keyword">double</span> rad_param, <span class="keyword">double</span> height_param);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Getter æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_radius</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_height</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Setter æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_radius</span><span class="params">(<span class="keyword">double</span> rad_param)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_height</span><span class="params">(<span class="keyword">double</span> height_param)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠŸèƒ½æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">volume</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> base_radius &#123;<span class="number">1.0</span>&#125;;</span><br><span class="line">    <span class="keyword">double</span> height &#123;<span class="number">1.0</span>&#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// CYLINDER_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>cylinder.cpp (æºæ–‡ä»¶ï¼Œç±»çš„å®ç°)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°å®šä¹‰</span></span><br><span class="line">Cylinder::Cylinder(<span class="keyword">double</span> rad_param, <span class="keyword">double</span> height_param) &#123;</span><br><span class="line">    base_radius = rad_param;</span><br><span class="line">    height = height_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Getter æ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::get_radius</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> base_radius;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::get_height</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Setter æ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::set_radius</span><span class="params">(<span class="keyword">double</span> rad_param)</span> </span>&#123;</span><br><span class="line">    base_radius = rad_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Cylinder::set_height</span><span class="params">(<span class="keyword">double</span> height_param)</span> </span>&#123;</span><br><span class="line">    height = height_param;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠŸèƒ½æ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Cylinder::volume</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> PI * base_radius * base_radius * height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>main.cpp (ä¸»ç¨‹åºï¼Œæ¼”ç¤ºæŒ‡é’ˆç”¨æ³•)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// å¼•å…¥ Cylinder ç±»çš„å£°æ˜</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1. åœ¨æ ˆä¸Šåˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ . è®¿é—®</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- æ ˆå¯¹è±¡ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Cylinder <span class="title">c1</span><span class="params">(<span class="number">3.0</span>, <span class="number">7.0</span>)</span></span>; <span class="comment">// åœ¨æ ˆä¸Šåˆ›å»º</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c1 (æ ˆ) åŠå¾„: "</span> &lt;&lt; c1.get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c1 (æ ˆ) é«˜åº¦: "</span> &lt;&lt; c1.get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"c1 (æ ˆ) ä½“ç§¯: "</span> &lt;&lt; c1.volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. æŒ‡é’ˆæŒ‡å‘æ ˆä¸Šçš„å¯¹è±¡ (äº†è§£å³å¯ï¼Œä¸å¸¸ç”¨)</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- æŒ‡é’ˆæŒ‡å‘æ ˆå¯¹è±¡ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Cylinder* p_c1 = &amp;c1; <span class="comment">// p_c1 æŒ‡å‘æ ˆä¸Šçš„ c1</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ -&gt;</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ p_c1 (æŒ‡å‘æ ˆ) è®¿é—® c1 åŠå¾„: "</span> &lt;&lt; p_c1-&gt;get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨è§£å¼•ç”¨å’Œç‚¹è¿ç®—ç¬¦ (*).</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é€šè¿‡ p_c1 (æŒ‡å‘æ ˆ) è®¿é—® c1 ä½“ç§¯: "</span> &lt;&lt; (*p_c1).volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šä¸èƒ½ delete p_c1ï¼Œå› ä¸º c1 æ˜¯æ ˆå¯¹è±¡ï¼</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. åœ¨å †ä¸ŠåŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä½¿ç”¨æŒ‡é’ˆç®¡ç†</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- å †å¯¹è±¡ (é€šè¿‡ new åˆ›å»º) ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    Cylinder* p_c2 = <span class="keyword">new</span> Cylinder(<span class="number">5.0</span>, <span class="number">2.0</span>); <span class="comment">// åœ¨å †ä¸Šåˆ›å»ºå¯¹è±¡ï¼Œp_c2 æŒ‡å‘å®ƒ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (p_c2) &#123; <span class="comment">// æ£€æŸ¥ new æ˜¯å¦æˆåŠŸ (åœ¨ç°ä»£C++ä¸­ï¼Œå¦‚æœnewå¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ£€æŸ¥æ˜¯ä¸ªå¥½ä¹ æƒ¯)</span></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ -&gt; è®¿é—®æˆå‘˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 (å †) åŠå¾„: "</span> &lt;&lt; p_c2-&gt;get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 (å †) é«˜åº¦: "</span> &lt;&lt; p_c2-&gt;get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        p_c2-&gt;set_height(<span class="number">4.0</span>); <span class="comment">// ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 (å †) ä¿®æ”¹åé«˜åº¦: "</span> &lt;&lt; p_c2-&gt;get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 (å †) ä½“ç§¯: "</span> &lt;&lt; p_c2-&gt;volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨è§£å¼•ç”¨å’Œç‚¹è¿ç®—ç¬¦ (*). è®¿é—®æˆå‘˜ (è¾ƒç¹ç)</span></span><br><span class="line">        (*p_c2).set_radius(<span class="number">6.0</span>);</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 (å †) ä¿®æ”¹ååŠå¾„ (ä½¿ç”¨ (*). ): "</span> &lt;&lt; (*p_c2).get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 (å †) æ–°ä½“ç§¯ (ä½¿ç”¨ (*). ): "</span> &lt;&lt; (*p_c2).volume() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. é‡Šæ”¾å †å†…å­˜</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- é‡Šæ”¾å †å†…å­˜ ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">delete</span> p_c2;    <span class="comment">// é‡Šæ”¾ p_c2 æŒ‡å‘çš„å †å†…å­˜</span></span><br><span class="line">        p_c2 = <span class="literal">nullptr</span>; <span class="comment">// å°†æŒ‡é’ˆè®¾ä¸º nullptrï¼Œé˜²æ­¢æ‚¬å‚æŒ‡é’ˆ</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_c2 æŒ‡å‘çš„å†…å­˜å·²é‡Šæ”¾ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°è¯•è®¿é—®å·²é‡Šæ”¾çš„å†…å­˜ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸º (é€šå¸¸æ˜¯å´©æºƒ)</span></span><br><span class="line">        <span class="comment">// if (p_c2) &#123; // å¦‚æœä¸è®¾ä¸º nullptrï¼Œè¿™é‡Œå¯èƒ½ä»ä¸ä¸º0ï¼Œä½†è®¿é—®æ˜¯å±é™©çš„</span></span><br><span class="line">        <span class="comment">//     std::cout &lt;&lt; p_c2-&gt;volume() &lt;&lt; std::endl; // å±é™©æ“ä½œï¼</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å†…å­˜åˆ†é…å¤±è´¥ï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>ç¼–è¯‘å’Œè¿è¡Œè¯´æ˜ï¼š</strong><br>ä½ éœ€è¦å°† <code>cylinder.h</code>, <code>cylinder.cpp</code>, å’Œ <code>main.cpp</code>æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚<br>ä½¿ç”¨C++ç¼–è¯‘å™¨ï¼ˆå¦‚g++ï¼‰ç¼–è¯‘ï¼š<br><code>g++ main.cpp cylinder.cpp -o program</code><br>ç„¶åè¿è¡Œï¼š<br><code>./program</code></p>
<p>ä½ ä¼šçœ‹åˆ°ç¨‹åºè¾“å‡ºå„ä¸ªå¯¹è±¡çš„ä¿¡æ¯ï¼Œå¹¶æ¼”ç¤ºäº†ä¸åŒè®¿é—®æ–¹å¼ã€‚</p>
<hr>
<h1 id="4-QAé—ªå¡-QA-Flash-Cards"><a href="#4-QAé—ªå¡-QA-Flash-Cards" class="headerlink" title="4. QAé—ªå¡ (QA Flash Cards)"></a>4. QAé—ªå¡ (QA Flash Cards)</h1><p><strong>Q1:</strong> ä»€ä¹ˆæ˜¯ç±»å¯¹è±¡çš„ <strong>æŒ‡é’ˆ (pointer)</strong>ï¼Ÿ<br><strong>A1:</strong> æŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒå­˜å‚¨çš„æ˜¯å¦ä¸€ä¸ªå˜é‡ï¼ˆåœ¨è¿™é‡Œæ˜¯ç±»å¯¹è±¡ï¼‰çš„å†…å­˜åœ°å€ã€‚</p>
<p><strong>Q2:</strong> <code>new</code> <strong>è¿ç®—ç¬¦ (new operator)</strong> çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br><strong>A2:</strong> <code>new</code> åœ¨ <strong>å † (heap)</strong> å†…å­˜ä¸­ä¸ºå¯¹è±¡åˆ†é…ç©ºé—´ï¼Œè°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡çš„åœ°å€ï¼ˆä¸€ä¸ªæŒ‡é’ˆï¼‰ã€‚</p>
<p><strong>Q3:</strong> ä¸ºä»€ä¹ˆä½¿ç”¨ <code>new</code> åˆ†é…çš„å†…å­˜åéœ€è¦ä½¿ç”¨ <code>delete</code>ï¼Ÿ<br><strong>A3:</strong> <code>new</code> åˆ†é…çš„å †å†…å­˜ä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚å¦‚æœä¸ä½¿ç”¨ <code>delete</code> <strong>è¿ç®—ç¬¦ (delete operator)</strong> æ‰‹åŠ¨é‡Šæ”¾ï¼Œä¼šå¯¼è‡´ <strong>å†…å­˜æ³„æ¼ (memory leak)</strong>ï¼Œç¨‹åºä¼šæŒç»­æ¶ˆè€—å†…å­˜ã€‚</p>
<p><strong>Q4:</strong> å¦‚ä½•é€šè¿‡æŒ‡é’ˆè®¿é—®ç±»å¯¹è±¡çš„æˆå‘˜ï¼Ÿç»™å‡ºä¸¤ç§æ–¹æ³•ã€‚<br><strong>A4:</strong></p>
<pre><code>1.  è§£å¼•ç”¨å’Œç‚¹è¿ç®—ç¬¦ï¼š`(*pointer_name).member_name` æˆ– `(*pointer_name).method_name()`
2.  **ç®­å¤´è¿ç®—ç¬¦ (arrow operator)**ï¼š`pointer_name-&gt;member_name` æˆ– `pointer_name-&gt;method_name()` (æ¨è)
</code></pre><p><strong>Q5:</strong> ç‚¹è¿ç®—ç¬¦ (<code>.</code>) å’Œç®­å¤´è¿ç®—ç¬¦ (<code>-&gt;</code>) çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br><strong>A5:</strong> ç‚¹è¿ç®—ç¬¦ (<code>.</code>) ç”¨äºç›´æ¥é€šè¿‡å¯¹è±¡åè®¿é—®å…¶æˆå‘˜ã€‚ç®­å¤´è¿ç®—ç¬¦ (<code>-&gt;</code>) ç”¨äºé€šè¿‡æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆè®¿é—®å…¶æˆå‘˜ã€‚<code>ptr-&gt;member</code> ç­‰ä»·äº <code>(*ptr).member</code>ã€‚</p>
<p><strong>Q6:</strong> åœ¨ <strong>æ ˆ (stack)</strong> ä¸Šåˆ›å»ºå¯¹è±¡å’Œåœ¨ <strong>å † (heap)</strong> ä¸Šåˆ›å»ºå¯¹è±¡æœ‰ä»€ä¹ˆä¸»è¦åŒºåˆ«ï¼Ÿ<br><strong>A6:</strong></p>
<pre><code>*   **æ ˆå¯¹è±¡ï¼š** å†…å­˜è‡ªåŠ¨ç®¡ç†ï¼ˆéšä½œç”¨åŸŸç»“æŸè€Œé‡Šæ”¾ï¼‰ï¼Œåˆ›å»ºé€Ÿåº¦å¿«ï¼Œä½†ç©ºé—´æœ‰é™ã€‚é€šè¿‡å¯¹è±¡åç›´æ¥è®¿é—®ã€‚
*   **å †å¯¹è±¡ï¼š** å†…å­˜æ‰‹åŠ¨ç®¡ç†ï¼ˆéœ€ `new` åˆ›å»ºï¼Œ`delete` é‡Šæ”¾ï¼‰ï¼Œç©ºé—´è¾ƒå¤§ï¼Œåˆ›å»ºé”€æ¯æœ‰å¼€é”€ã€‚é€šè¿‡æŒ‡é’ˆè®¿é—®ã€‚ç”Ÿå‘½å‘¨æœŸå¯æ§ã€‚
</code></pre><hr>
<h1 id="5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><a href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯" class="headerlink" title="5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"></a>5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</h1><ol>
<li><p><strong>å¿˜è®° <code>delete</code></strong>ï¼šæœ€å¸¸è§çš„é”™è¯¯ã€‚å¯¹æ¯ä¸ª <code>new</code> å‡ºæ¥çš„å¯¹è±¡ï¼Œéƒ½å¿…é¡»æœ‰ä¸€ä¸ªå¯¹åº”çš„ <code>delete</code> æ“ä½œï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºèŒƒ</span></span><br><span class="line">Cylinder* c = <span class="keyword">new</span> Cylinder(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="comment">// ... ä½¿ç”¨ c ...</span></span><br><span class="line"><span class="comment">// å¿˜è®° delete c; ç¨‹åºç»“æŸæ—¶è¿™å—å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>å¯¹é <code>new</code> åˆ›å»ºçš„æŒ‡é’ˆä½¿ç”¨ <code>delete</code></strong>ï¼š<code>delete</code> åªèƒ½ç”¨äºé€šè¿‡ <code>new</code> åˆ†é…çš„å†…å­˜ã€‚å¯¹æ ˆå¯¹è±¡çš„åœ°å€æˆ–æœªåˆå§‹åŒ–çš„æŒ‡é’ˆä½¿ç”¨ <code>delete</code> ä¼šå¯¼è‡´ç¨‹åºå´©æºƒæˆ–æœªå®šä¹‰è¡Œä¸ºã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºèŒƒ</span></span><br><span class="line"><span class="function">Cylinder <span class="title">c_stack</span><span class="params">(<span class="number">1</span>,<span class="number">1</span>)</span></span>;</span><br><span class="line">Cylinder* p_stack = &amp;c_stack;</span><br><span class="line"><span class="comment">// delete p_stack; // ä¸¥é‡é”™è¯¯ï¼p_stack æŒ‡å‘æ ˆå†…å­˜</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p><strong>é‡å¤ <code>delete</code></strong>ï¼šå¯¹åŒä¸€ä¸ªæŒ‡é’ˆ <code>delete</code> ä¸¤æ¬¡æˆ–å¤šæ¬¡ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼Œé€šå¸¸æ˜¯ç¨‹åºå´©æºƒã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºèŒƒ</span></span><br><span class="line">Cylinder* c = <span class="keyword">new</span> Cylinder(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">delete</span> c;</span><br><span class="line"><span class="comment">// ... ä¸€äº›ä»£ç  ...</span></span><br><span class="line"><span class="comment">// delete c; // ä¸¥é‡é”™è¯¯ï¼é‡å¤é‡Šæ”¾</span></span><br></pre></td></tr></table></figure></div>
<p>å°†æŒ‡é’ˆåœ¨ <code>delete</code> åç«‹å³è®¾ä¸º <code>nullptr</code> (å¦‚ <code>c = nullptr;</code>) å¯ä»¥å¸®åŠ©é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸º <code>delete nullptr;</code> æ˜¯å®‰å…¨æ— å®³çš„ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨å·² <code>delete</code> çš„æŒ‡é’ˆ (æ‚¬å‚æŒ‡é’ˆ)</strong>ï¼šå½“ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜è¢« <code>delete</code> åï¼Œè¯¥æŒ‡é’ˆå°±å˜æˆäº†æ‚¬å‚æŒ‡é’ˆã€‚å†é€šè¿‡è¿™ä¸ªæŒ‡é’ˆå»è®¿é—®æˆ–ä¿®æ”¹å†…å­˜æ˜¯éå¸¸å±é™©çš„ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ç¤ºèŒƒ</span></span><br><span class="line">Cylinder* c = <span class="keyword">new</span> Cylinder(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">delete</span> c;</span><br><span class="line"><span class="comment">// c ç°åœ¨æ˜¯æ‚¬å‚æŒ‡é’ˆ</span></span><br><span class="line"><span class="comment">// std::cout &lt;&lt; c-&gt;volume(); // ä¸¥é‡é”™è¯¯ï¼è®¿é—®å·²é‡Šæ”¾çš„å†…å­˜</span></span><br></pre></td></tr></table></figure></div>
<p>åŒæ ·ï¼Œ<code>delete</code> åå°†æŒ‡é’ˆè®¾ä¸º <code>nullptr</code> æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</p>
</li>
<li><p><strong>æ··æ·† <code>.</code> å’Œ <code>-&gt;</code></strong>ï¼š</p>
<ul>
<li>å¯¹å¯¹è±¡ä½¿ç”¨ <code>-&gt;</code>ï¼š<code>Cylinder c1; c1-&gt;volume();</code> (é”™è¯¯)</li>
<li>å¯¹æŒ‡é’ˆä½¿ç”¨ <code>.</code>ï¼š<code>Cylinder* p_c2 = new Cylinder(); p_c2.volume();</code> (é”™è¯¯ï¼Œé™¤éä½ å†™æˆ <code>(*p_c2).volume();</code> )</li>
</ul>
</li>
<li><p><strong>è§£å¼•ç”¨æŒ‡é’ˆæ—¶å¿˜è®°æ‹¬å·</strong>ï¼šå½“ä½¿ç”¨ <code>(*ptr).member</code> å½¢å¼æ—¶ï¼Œæ‹¬å·æ˜¯å¿…éœ€çš„ï¼Œå› ä¸º <code>.</code> è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äº <code>*</code>ã€‚å†™æˆ <code>*ptr.member</code> ä¼šè¢«è§£é‡Šä¸º <code>*(ptr.member)</code>ï¼Œè¿™é€šå¸¸ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œä¸”ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºæŒ‡é’ˆ <code>ptr</code> æ²¡æœ‰åä¸º <code>member</code> çš„æˆå‘˜ã€‚</p>
</li>
<li><p><strong><code>new</code> å¤±è´¥æœªæ£€æŸ¥ (è€æ—§ä»£ç ä¸­å¯èƒ½å­˜åœ¨)</strong>ï¼šåœ¨éå¸¸æ—©æœŸçš„C++æ ‡å‡†æˆ–ç‰¹å®šç¼–è¯‘ç¯å¢ƒä¸‹ï¼Œ<code>new</code> å¤±è´¥å¯èƒ½è¿”å› <code>nullptr</code> è€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚ç°ä»£C++ä¸­ï¼Œ<code>new</code> å¤±è´¥é»˜è®¤ä¼šæŠ›å‡º <code>std::bad_alloc</code> å¼‚å¸¸ã€‚å¦‚æœä½¿ç”¨ <code>new (std::nothrow) Cylinder(...)</code> å½¢å¼ï¼Œåˆ™å¤±è´¥æ—¶ä¼šè¿”å› <code>nullptr</code>ï¼Œæ­¤æ—¶éœ€è¦æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦ä¸º <code>nullptr</code>ã€‚</p>
</li>
</ol>
<hr>
<h1 id="6-ç¼–ç ç»ƒä¹ "><a href="#6-ç¼–ç ç»ƒä¹ " class="headerlink" title="6. ç¼–ç ç»ƒä¹ "></a>6. ç¼–ç ç»ƒä¹ </h1><p>ç°åœ¨ï¼Œè½®åˆ°ä½ åŠ¨æ‰‹å®è·µäº†ï¼ä¸‹é¢æ˜¯ä¸€æ®µä¸å®Œæ•´çš„ä»£ç ã€‚ä½ éœ€è¦æ ¹æ®æ³¨é‡Šçš„æç¤ºï¼Œå¡«è¡¥ <code>// TODO:</code> éƒ¨åˆ†çš„ä»£ç ï¼Œä½¿å…¶èƒ½å¤Ÿæ­£ç¡®åœ°åœ¨å †ä¸Šåˆ›å»º <code>Cylinder</code> å¯¹è±¡ï¼Œè®¾ç½®å…¶å±æ€§ï¼Œè®¡ç®—å¹¶æ‰“å°å…¶ä½“ç§¯ï¼Œæœ€åæ­£ç¡®é‡Šæ”¾å†…å­˜ã€‚</p>
<p>å‡è®¾ <code>cylinder.h</code> å’Œ <code>cylinder.cpp</code> æ–‡ä»¶å·²æŒ‰ä¸Šé¢ç¤ºä¾‹æä¾›ã€‚</p>
<p><strong>exercise.cpp:</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// ç¡®ä¿ cylinder.h å’Œ cylinder.cpp åœ¨åŒä¸€ç›®å½•æˆ–æ­£ç¡®é…ç½®åŒ…å«è·¯å¾„</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Cylinder* p_my_cylinder = <span class="literal">nullptr</span>; <span class="comment">// å£°æ˜ä¸€ä¸ª Cylinder æŒ‡é’ˆå¹¶åˆå§‹åŒ–ä¸º nullptr</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 1: ä½¿ç”¨ new è¿ç®—ç¬¦åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ª Cylinder å¯¹è±¡ã€‚</span></span><br><span class="line">    <span class="comment">//         è®©å…¶åŠå¾„ä¸º 4.0ï¼Œé«˜åº¦ä¸º 6.0ã€‚</span></span><br><span class="line">    <span class="comment">//         å°†è¿”å›çš„åœ°å€èµ‹å€¼ç»™ p_my_cylinderã€‚</span></span><br><span class="line">    <span class="comment">// p_my_cylinder = new ... ;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ p_my_cylinder æ˜¯å¦æˆåŠŸåˆ†é…äº†å†…å­˜</span></span><br><span class="line">    <span class="keyword">if</span> (p_my_cylinder) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å †å¯¹è±¡åˆ›å»ºæˆåŠŸ!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 2: ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡çš„ set_radius æ–¹æ³•ï¼Œå°†å…¶åŠå¾„ä¿®æ”¹ä¸º 5.5ã€‚</span></span><br><span class="line">        <span class="comment">// p_my_cylinder-&gt;... ;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 3: ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡çš„ set_height æ–¹æ³•ï¼Œå°†å…¶é«˜åº¦ä¿®æ”¹ä¸º 10.2ã€‚</span></span><br><span class="line">        <span class="comment">// p_my_cylinder-&gt;... ;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°ä¿®æ”¹åçš„åŠå¾„å’Œé«˜åº¦</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¿®æ”¹ååŠå¾„: "</span> &lt;&lt; p_my_cylinder-&gt;get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¿®æ”¹åé«˜åº¦: "</span> &lt;&lt; p_my_cylinder-&gt;get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 4: è®¡ç®—å¹¶æ‰“å° p_my_cylinder æŒ‡å‘çš„åœ†æŸ±ä½“çš„ä½“ç§¯ã€‚</span></span><br><span class="line">        <span class="comment">//         ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦è°ƒç”¨ volume() æ–¹æ³•ã€‚</span></span><br><span class="line">        <span class="comment">// double vol = ... ;</span></span><br><span class="line">        <span class="comment">// std::cout &lt;&lt; "åœ†æŸ±ä½“ä½“ç§¯: " &lt;&lt; vol &lt;&lt; std::endl;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 5: ä½¿ç”¨ delete è¿ç®—ç¬¦é‡Šæ”¾ p_my_cylinder æŒ‡å‘çš„å †å†…å­˜ã€‚</span></span><br><span class="line">        <span class="comment">// delete ... ;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 6: (å¥½ä¹ æƒ¯) å°† p_my_cylinder è®¾ç½®ä¸º nullptrï¼Œé˜²æ­¢æ‚¬å‚æŒ‡é’ˆã€‚</span></span><br><span class="line">        <span class="comment">// p_my_cylinder = ... ;</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å †å†…å­˜å·²é‡Šæ”¾ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å†…å­˜åˆ†é…å¤±è´¥ï¼ç¨‹åºé€€å‡ºã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// è¿”å›é”™è¯¯ç </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éªŒè¯æŒ‡é’ˆæ˜¯å¦ä¸º nullptr</span></span><br><span class="line">    <span class="keyword">if</span> (p_my_cylinder == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_my_cylinder ç°åœ¨æ˜¯ nullptrã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è­¦å‘Š: p_my_cylinder åœ¨é‡Šæ”¾åä¸æ˜¯ nullptrï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p>è¯·ä½ å°è¯•å¡«å†™ <code>// TODO:</code> éƒ¨åˆ†çš„ä»£ç ã€‚å®Œæˆåï¼Œå°†ä½ çš„è§£å†³æ–¹æ¡ˆå‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ æ£€æŸ¥å¹¶ç»™å‡ºåé¦ˆã€‚<br>ç¥ä½ ç¼–ç æ„‰å¿«ï¼</p>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// ç¡®ä¿ cylinder.h å’Œ cylinder.cpp åœ¨åŒä¸€ç›®å½•æˆ–æ­£ç¡®é…ç½®åŒ…å«è·¯å¾„</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Cylinder* p_my_cylinder = <span class="literal">nullptr</span>; <span class="comment">// å£°æ˜ä¸€ä¸ª Cylinder æŒ‡é’ˆå¹¶åˆå§‹åŒ–ä¸º nullptr</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 1: ä½¿ç”¨ new è¿ç®—ç¬¦åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ª Cylinder å¯¹è±¡ã€‚</span></span><br><span class="line">    <span class="comment">//         è®©å…¶åŠå¾„ä¸º 4.0ï¼Œé«˜åº¦ä¸º 6.0ã€‚</span></span><br><span class="line">    <span class="comment">//         å°†è¿”å›çš„åœ°å€èµ‹å€¼ç»™ p_my_cylinderã€‚</span></span><br><span class="line">    p_my_cylinder = <span class="keyword">new</span> Cylinder(<span class="number">4.0</span>, <span class="number">6.0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ p_my_cylinder æ˜¯å¦æˆåŠŸåˆ†é…äº†å†…å­˜</span></span><br><span class="line">    <span class="keyword">if</span> (p_my_cylinder) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å †å¯¹è±¡åˆ›å»ºæˆåŠŸ!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 2: ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡çš„ set_radius æ–¹æ³•ï¼Œå°†å…¶åŠå¾„ä¿®æ”¹ä¸º 5.5ã€‚</span></span><br><span class="line">        p_my_cylinder-&gt;set_radius(<span class="number">5.5</span>) ;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 3: ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡çš„ set_height æ–¹æ³•ï¼Œå°†å…¶é«˜åº¦ä¿®æ”¹ä¸º 10.2ã€‚</span></span><br><span class="line">        p_my_cylinder-&gt;set_height(<span class="number">10.2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°ä¿®æ”¹åçš„åŠå¾„å’Œé«˜åº¦</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¿®æ”¹ååŠå¾„: "</span> &lt;&lt; p_my_cylinder-&gt;get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¿®æ”¹åé«˜åº¦: "</span> &lt;&lt; p_my_cylinder-&gt;get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 4: è®¡ç®—å¹¶æ‰“å° p_my_cylinder æŒ‡å‘çš„åœ†æŸ±ä½“çš„ä½“ç§¯ã€‚</span></span><br><span class="line">        <span class="comment">//         ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦è°ƒç”¨ volume() æ–¹æ³•ã€‚</span></span><br><span class="line">        <span class="keyword">double</span> vol = p_my_cylinder-&gt;volume() ;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åœ†æŸ±ä½“ä½“ç§¯: "</span> &lt;&lt; vol &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 5: ä½¿ç”¨ delete è¿ç®—ç¬¦é‡Šæ”¾ p_my_cylinder æŒ‡å‘çš„å †å†…å­˜ã€‚</span></span><br><span class="line">        <span class="keyword">delete</span> p_my_cylinder ;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 6: (å¥½ä¹ æƒ¯) å°† p_my_cylinder è®¾ç½®ä¸º nullptrï¼Œé˜²æ­¢æ‚¬å‚æŒ‡é’ˆã€‚</span></span><br><span class="line">        p_my_cylinder = <span class="literal">nullptr</span> ;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å †å†…å­˜å·²é‡Šæ”¾ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å†…å­˜åˆ†é…å¤±è´¥ï¼ç¨‹åºé€€å‡ºã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// è¿”å›é”™è¯¯ç </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éªŒè¯æŒ‡é’ˆæ˜¯å¦ä¸º nullptr</span></span><br><span class="line">    <span class="keyword">if</span> (p_my_cylinder == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_my_cylinder ç°åœ¨æ˜¯ nullptrã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è­¦å‘Š: p_my_cylinder åœ¨é‡Šæ”¾åä¸æ˜¯ nullptrï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¤ªæ£’äº†ï¼ä½ å®Œæˆå¾—éå¸¸å¥½ï¼ä½ çš„ä»£ç å‡ ä¹æ˜¯å®Œç¾çš„ï¼Œå®Œå…¨æŒæ¡äº†æˆ‘ä»¬ä»Šå¤©å­¦ä¹ çš„çŸ¥è¯†ç‚¹ã€‚</p>
<hr>
<h1 id="7-ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"><a href="#7-ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š" class="headerlink" title="7. ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š"></a>7. ç”¨æˆ·è§£ç­”è¯„ä¼°ã€æ­£ç¡®ç­”æ¡ˆåŠè§£é‡Š</h1><p><strong>ç”¨æˆ·è§£ç­”è¯„ä¼°:</strong></p>
<ul>
<li><p><strong>è¯„åˆ†ï¼š5/5 (ä¼˜ç§€ï¼)</strong></p>
</li>
<li><p><strong>è¯„ä»·ï¼š</strong></p>
<ul>
<li><strong>TODO 1 (åˆ›å»ºå¯¹è±¡):</strong> <code>p_my_cylinder = new Cylinder(4.0, 6.0);</code> éå¸¸æ­£ç¡®ï¼ä½ æ­£ç¡®åœ°ä½¿ç”¨äº† <code>new</code> å…³é”®å­—ï¼Œå¹¶è°ƒç”¨äº† <code>Cylinder</code> ç±»çš„æ„é€ å‡½æ•°æ¥åœ¨å †ä¸Šåˆ›å»ºå¯¹è±¡ï¼ŒåŒæ—¶ä¼ é€’äº†åˆå§‹çš„åŠå¾„å’Œé«˜åº¦ã€‚</li>
<li><strong>TODO 2 (è®¾ç½®åŠå¾„):</strong> <code>p_my_cylinder-&gt;set_radius(5.5);</code> å®Œå…¨æ­£ç¡®ï¼ä½ ç†Ÿç»ƒåœ°è¿ç”¨äº†ç®­å¤´è¿ç®—ç¬¦ <code>-&gt;</code> æ¥é€šè¿‡æŒ‡é’ˆè°ƒç”¨å¯¹è±¡çš„æˆå‘˜å‡½æ•° <code>set_radius</code>ã€‚</li>
<li><strong>TODO 3 (è®¾ç½®é«˜åº¦):</strong> <code>p_my_cylinder-&gt;set_height(10.2);</code> åŒæ ·å®Œç¾ï¼ç»§ç»­æ­£ç¡®ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ã€‚</li>
<li><strong>TODO 4 (è®¡ç®—ä½“ç§¯):</strong> <code>double vol = p_my_cylinder-&gt;volume();</code> å’Œ <code>std::cout &lt;&lt; &quot;åœ†æŸ±ä½“ä½“ç§¯: &quot; &lt;&lt; vol &lt;&lt; std::endl;</code> éå¸¸å¥½ï¼å‡†ç¡®è°ƒç”¨äº† <code>volume()</code> æ–¹æ³•ï¼Œå¹¶å°†ç»“æœå­˜å‚¨å’Œæ‰“å°ã€‚</li>
<li><strong>TODO 5 (é‡Šæ”¾å†…å­˜):</strong> <code>delete p_my_cylinder;</code> æ­£ç¡®æ— è¯¯ï¼è¿™æ˜¯è‡³å…³é‡è¦çš„ä¸€æ­¥ï¼Œä½ æ­£ç¡®åœ°ä½¿ç”¨äº† <code>delete</code> æ¥é‡Šæ”¾ä¹‹å‰é€šè¿‡ <code>new</code> åˆ†é…çš„å†…å­˜ã€‚</li>
<li><strong>TODO 6 (è®¾ç½®nullptr):</strong> <code>p_my_cylinder = nullptr;</code> ä¼˜ç§€çš„ä¹ æƒ¯ï¼åœ¨é‡Šæ”¾å†…å­˜åå°†æŒ‡é’ˆè®¾ä¸º <code>nullptr</code>ï¼Œæœ‰æ•ˆé˜²æ­¢äº†æ‚¬å‚æŒ‡é’ˆçš„äº§ç”Ÿã€‚</li>
</ul>
</li>
</ul>
<p>ä½ çš„ä»£ç ä¸ä»…åŠŸèƒ½æ­£ç¡®ï¼Œè€Œä¸”éµå¾ªäº†è‰¯å¥½çš„ç¼–ç¨‹å®è·µã€‚ç»§ç»­ä¿æŒï¼</p>
<p><strong>æ­£ç¡®ç­”æ¡ˆä¸è§£é‡Š:</strong></p>
<p>ä½ çš„ç­”æ¡ˆå°±æ˜¯æ ‡å‡†ç­”æ¡ˆï¼è¿™é‡Œä¸ºäº†å®Œæ•´æ€§ï¼Œæˆ‘å†è´´ä¸€æ¬¡å®Œæ•´çš„æ­£ç¡®ä»£ç ï¼Œå’Œä½ æä¾›çš„ä¸€æ ·ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cylinder.h"</span> <span class="comment">// ç¡®ä¿ cylinder.h å’Œ cylinder.cpp åœ¨åŒä¸€ç›®å½•æˆ–æ­£ç¡®é…ç½®åŒ…å«è·¯å¾„</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Cylinder* p_my_cylinder = <span class="literal">nullptr</span>; <span class="comment">// å£°æ˜ä¸€ä¸ª Cylinder æŒ‡é’ˆå¹¶åˆå§‹åŒ–ä¸º nullptr</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO 1: ä½¿ç”¨ new è¿ç®—ç¬¦åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ª Cylinder å¯¹è±¡ã€‚</span></span><br><span class="line">    <span class="comment">//         è®©å…¶åŠå¾„ä¸º 4.0ï¼Œé«˜åº¦ä¸º 6.0ã€‚</span></span><br><span class="line">    <span class="comment">//         å°†è¿”å›çš„åœ°å€èµ‹å€¼ç»™ p_my_cylinderã€‚</span></span><br><span class="line">    p_my_cylinder = <span class="keyword">new</span> Cylinder(<span class="number">4.0</span>, <span class="number">6.0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥ p_my_cylinder æ˜¯å¦æˆåŠŸåˆ†é…äº†å†…å­˜</span></span><br><span class="line">    <span class="keyword">if</span> (p_my_cylinder) &#123; <span class="comment">// åœ¨ç°ä»£C++ä¸­ï¼Œå¦‚æœnewå¤±è´¥ä¼šæŠ›å‡ºstd::bad_allocå¼‚å¸¸</span></span><br><span class="line">                         <span class="comment">// ä½†æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦ä¸ºnullptrå¯¹äº new(std::nothrow) æˆ–æ—§ä»£ç ä»ç„¶æœ‰ç”¨</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å †å¯¹è±¡åˆ›å»ºæˆåŠŸ!"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 2: ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡çš„ set_radius æ–¹æ³•ï¼Œå°†å…¶åŠå¾„ä¿®æ”¹ä¸º 5.5ã€‚</span></span><br><span class="line">        p_my_cylinder-&gt;set_radius(<span class="number">5.5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 3: ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦ï¼Œè°ƒç”¨å¯¹è±¡çš„ set_height æ–¹æ³•ï¼Œå°†å…¶é«˜åº¦ä¿®æ”¹ä¸º 10.2ã€‚</span></span><br><span class="line">        p_my_cylinder-&gt;set_height(<span class="number">10.2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰“å°ä¿®æ”¹åçš„åŠå¾„å’Œé«˜åº¦</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¿®æ”¹ååŠå¾„: "</span> &lt;&lt; p_my_cylinder-&gt;get_radius() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¿®æ”¹åé«˜åº¦: "</span> &lt;&lt; p_my_cylinder-&gt;get_height() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 4: è®¡ç®—å¹¶æ‰“å° p_my_cylinder æŒ‡å‘çš„åœ†æŸ±ä½“çš„ä½“ç§¯ã€‚</span></span><br><span class="line">        <span class="comment">//         ä½¿ç”¨ç®­å¤´è¿ç®—ç¬¦è°ƒç”¨ volume() æ–¹æ³•ã€‚</span></span><br><span class="line">        <span class="keyword">double</span> vol = p_my_cylinder-&gt;volume();</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"åœ†æŸ±ä½“ä½“ç§¯: "</span> &lt;&lt; vol &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 5: ä½¿ç”¨ delete è¿ç®—ç¬¦é‡Šæ”¾ p_my_cylinder æŒ‡å‘çš„å †å†…å­˜ã€‚</span></span><br><span class="line">        <span class="keyword">delete</span> p_my_cylinder;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// TODO 6: (å¥½ä¹ æƒ¯) å°† p_my_cylinder è®¾ç½®ä¸º nullptrï¼Œé˜²æ­¢æ‚¬å‚æŒ‡é’ˆã€‚</span></span><br><span class="line">        p_my_cylinder = <span class="literal">nullptr</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å †å†…å­˜å·²é‡Šæ”¾ã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// è¿™ç§æƒ…å†µåœ¨ç°ä»£C++ä¸­ï¼Œå¦‚æœä½¿ç”¨æ ‡å‡†çš„ newï¼Œé€šå¸¸ä¸ä¼šå‘ç”Ÿï¼Œ</span></span><br><span class="line">        <span class="comment">// å› ä¸º new å¤±è´¥ä¼šæŠ›å‡º std::bad_alloc å¼‚å¸¸ï¼Œè€Œä¸æ˜¯è¿”å› nullptrã€‚</span></span><br><span class="line">        <span class="comment">// å¦‚æœä½¿ç”¨çš„æ˜¯ new(std::nothrow)ï¼Œåˆ™éœ€è¦è¿™æ ·çš„æ£€æŸ¥ã€‚</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"å†…å­˜åˆ†é…å¤±è´¥ï¼ç¨‹åºé€€å‡ºã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// è¿”å›é”™è¯¯ç </span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// éªŒè¯æŒ‡é’ˆæ˜¯å¦ä¸º nullptr</span></span><br><span class="line">    <span class="keyword">if</span> (p_my_cylinder == <span class="literal">nullptr</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"p_my_cylinder ç°åœ¨æ˜¯ nullptrã€‚"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// è¿™æ®µä»£ç åœ¨æ­£å¸¸æƒ…å†µä¸‹ä¸åº”è¯¥æ‰§è¡Œï¼Œå› ä¸ºä¸Šé¢å·²ç»å°† p_my_cylinder è®¾ä¸º nullptr</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"è­¦å‘Š: p_my_cylinder åœ¨é‡Šæ”¾åä¸æ˜¯ nullptrï¼"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>è§£é‡Šå…³é”®ç‚¹ï¼š</strong></p>
<ol>
<li><p><strong><code>new Cylinder(4.0, 6.0)</code></strong>:</p>
<ul>
<li><code>new</code> æ˜¯C++ä¸­ç”¨äºåœ¨ <strong>è‡ªç”±å­˜å‚¨åŒº (free store)</strong>ï¼ˆé€šå¸¸å®ç°ä¸ºå †å†…å­˜ï¼‰åŠ¨æ€åˆ†é…å†…å­˜çš„å…³é”®å­—ã€‚</li>
<li><code>Cylinder(4.0, 6.0)</code> è°ƒç”¨äº† <code>Cylinder</code> ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¼ é€’äº†å‚æ•° <code>4.0</code> å’Œ <code>6.0</code> æ¥åˆå§‹åŒ–æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
<li>æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœæ˜¯æ–°åˆ›å»ºçš„ <code>Cylinder</code> å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œè¯¥åœ°å€è¢«èµ‹å€¼ç»™æŒ‡é’ˆ <code>p_my_cylinder</code>ã€‚</li>
</ul>
</li>
<li><p><strong><code>p_my_cylinder-&gt;set_radius(5.5)</code></strong>:</p>
<ul>
<li><code>-&gt;</code> (<strong>ç®­å¤´è¿ç®—ç¬¦ (arrow operator)</strong>) æ˜¯é€šè¿‡æŒ‡é’ˆè®¿é—®å¯¹è±¡æˆå‘˜çš„ä¾¿æ·æ–¹å¼ã€‚</li>
<li><code>p_my_cylinder-&gt;set_radius(5.5)</code> ç­‰ä»·äº <code>(*p_my_cylinder).set_radius(5.5)</code>ã€‚å®ƒé¦–å…ˆå¯¹æŒ‡é’ˆ <code>p_my_cylinder</code> <strong>è§£å¼•ç”¨ (dereference)</strong> ä»¥è·å–å®ƒæ‰€æŒ‡å‘çš„ <code>Cylinder</code> å¯¹è±¡ï¼Œç„¶åè°ƒç”¨è¯¥å¯¹è±¡çš„ <code>set_radius</code> æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><p><strong><code>delete p_my_cylinder</code></strong>:</p>
<ul>
<li><code>delete</code> ç”¨äºé‡Šæ”¾åœ¨è‡ªç”±å­˜å‚¨åŒºï¼ˆå †ï¼‰ä¸Šç”± <code>new</code> åˆ†é…çš„å•ä¸ªå¯¹è±¡çš„å†…å­˜ã€‚</li>
<li>åœ¨é‡Šæ”¾å†…å­˜ä¹‹å‰ï¼Œå¦‚æœå¯¹è±¡æœ‰ <strong>ææ„å‡½æ•° (destructor)</strong>ï¼ˆæˆ‘ä»¬ä¸‹ä¸€è¯¾ä¼šå­¦åˆ°ï¼‰ï¼Œ<code>delete</code> ä¼šå…ˆè°ƒç”¨è¯¥å¯¹è±¡çš„ææ„å‡½æ•°ï¼Œç”¨äºæ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†å·¥ä½œã€‚</li>
<li>ç„¶åï¼Œå†…å­˜è¢«è¿”è¿˜ç»™ç³»ç»Ÿï¼Œå¯ä¾›åç»­åˆ†é…ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li><p><strong><code>p_my_cylinder = nullptr</code></strong>:</p>
<ul>
<li><code>nullptr</code> æ˜¯C++11å¼•å…¥çš„å…³é”®å­—ï¼Œè¡¨ç¤ºç©ºæŒ‡é’ˆã€‚</li>
<li>åœ¨ <code>delete</code> ä¸€ä¸ªæŒ‡é’ˆåï¼ŒæŒ‡é’ˆå˜é‡æœ¬èº«ä»ç„¶å­˜å‚¨ç€ä¹‹å‰é‚£ä¸ªï¼ˆç°åœ¨æ— æ•ˆçš„ï¼‰å†…å­˜åœ°å€ã€‚è¿™ä¸ªæŒ‡é’ˆè¢«ç§°ä¸º <strong>æ‚¬å‚æŒ‡é’ˆ (dangling pointer)</strong>ã€‚</li>
<li>å°†æŒ‡é’ˆè®¾ç½®ä¸º <code>nullptr</code> æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œå› ä¸ºï¼š<ul>
<li>å®ƒå¯ä»¥é˜²æ­¢æ„å¤–åœ°é€šè¿‡æ‚¬å‚æŒ‡é’ˆè®¿é—®å·²é‡Šæ”¾çš„å†…å­˜ã€‚</li>
<li>å¯¹ <code>nullptr</code> è°ƒç”¨ <code>delete</code> æ˜¯å®‰å…¨æ— å®³çš„ï¼ˆä»€ä¹ˆä¹Ÿä¸åšï¼‰ã€‚</li>
<li>å¯ä»¥æ˜ç¡®åœ°æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦æœ‰æ•ˆï¼ˆä¾‹å¦‚ <code>if (p_my_cylinder != nullptr)</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>ä½ åšå¾—éå¸¸å‡ºè‰²ï¼Œå‡†ç¡®åœ°ç†è§£å¹¶åº”ç”¨äº†è¿™äº›æ ¸å¿ƒæ¦‚å¿µï¼</p>
<hr>
<h1 id="8-å»ºè®®ä¸æ‰©å±•é—®é¢˜"><a href="#8-å»ºè®®ä¸æ‰©å±•é—®é¢˜" class="headerlink" title="8. å»ºè®®ä¸æ‰©å±•é—®é¢˜"></a>8. å»ºè®®ä¸æ‰©å±•é—®é¢˜</h1><p>ä½ å·²ç»å¾ˆå¥½åœ°æŒæ¡äº†é€šè¿‡æŒ‡é’ˆç®¡ç†å•ä¸ªåŠ¨æ€å¯¹è±¡çš„åŸºç¡€çŸ¥è¯†ã€‚ä¸ºäº†è¿›ä¸€æ­¥æ·±åŒ–ç†è§£å’Œæ‹“å±•ä½ çš„æŠ€èƒ½ï¼Œå¯ä»¥æ€è€ƒå’Œç ”ç©¶ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li><p><strong>åŠ¨æ€æ•°ç»„ (Dynamic Arrays):</strong></p>
<ul>
<li>å¦‚æœæˆ‘æƒ³åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªåŒ…å«5ä¸ª <code>Cylinder</code> å¯¹è±¡çš„æ•°ç»„ï¼Œåº”è¯¥å¦‚ä½•åšï¼Ÿï¼ˆæç¤ºï¼šä½¿ç”¨ <code>new[]</code>ï¼‰</li>
<li>åˆ›å»ºäº†åŠ¨æ€æ•°ç»„åï¼Œåˆè¯¥å¦‚ä½•é‡Šæ”¾å®ƒä»¬çš„å†…å­˜å‘¢ï¼Ÿï¼ˆæç¤ºï¼šä½¿ç”¨ <code>delete[]</code>ï¼‰</li>
<li>å¦‚ä½•è®¿é—®åŠ¨æ€æ•°ç»„ä¸­çš„ç‰¹å®šå…ƒç´ å¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼Ÿ</li>
</ul>
</li>
<li><p><strong><code>this</code> æŒ‡é’ˆ (this pointer):</strong></p>
<ul>
<li>åœ¨ç±»çš„æˆå‘˜å‡½æ•°å†…éƒ¨ï¼Œæœ‰æ—¶éœ€è¦å¼•ç”¨è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡æœ¬èº«ã€‚C++æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„æŒ‡é’ˆå«åš <code>this</code>ã€‚ç ”ç©¶ä¸€ä¸‹ <code>this</code> æŒ‡é’ˆæ˜¯ä»€ä¹ˆï¼Œä»¥åŠå®ƒå¦‚ä½•å·¥ä½œã€‚</li>
<li>ä¾‹å¦‚ï¼Œåœ¨ <code>Cylinder</code> ç±»çš„ <code>set_radius</code> æ–¹æ³•ä¸­ï¼Œå¦‚æœå‚æ•°åä¹Ÿå« <code>base_radius</code>ï¼Œä½ å°†å¦‚ä½•åŒºåˆ†æˆå‘˜å˜é‡å’Œå‚æ•°ï¼Ÿï¼ˆ<code>this-&gt;base_radius = base_radius;</code>ï¼‰</li>
</ul>
</li>
<li><p><strong>æ™ºèƒ½æŒ‡é’ˆ (Smart Pointers):</strong></p>
<ul>
<li>æ‰‹åŠ¨ç®¡ç† <code>new</code> å’Œ <code>delete</code> å¾ˆå®¹æ˜“å‡ºé”™ï¼ˆå¿˜è®° <code>delete</code> å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œé‡å¤ <code>delete</code> å¯¼è‡´å´©æºƒç­‰ï¼‰ã€‚C++æ ‡å‡†åº“æä¾›äº† <strong>æ™ºèƒ½æŒ‡é’ˆ (smart pointers)</strong> (å¦‚ <code>std::unique_ptr</code>, <code>std::shared_ptr</code>, <code>std::weak_ptr</code>) æ¥å¸®åŠ©è‡ªåŠ¨ç®¡ç†åŠ¨æ€å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¤§å¤§å‡å°‘å†…å­˜ç®¡ç†é”™è¯¯ã€‚</li>
<li>å°è¯•äº†è§£ <code>std::unique_ptr</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä»¥åŠå®ƒå¦‚ä½•èƒ½å¸®åŠ©æˆ‘ä»¬é¿å…æ‰‹åŠ¨è°ƒç”¨ <code>delete</code>ã€‚</li>
</ul>
</li>
<li><p><strong>å†…å­˜æ³„æ¼çš„å±å®³å’Œæ£€æµ‹ (Memory Leaks):</strong></p>
<ul>
<li>æ›´æ·±å…¥åœ°ç†è§£å†…å­˜æ³„æ¼ä¸ºä»€ä¹ˆæ˜¯ä¸ªä¸¥é‡çš„é—®é¢˜ã€‚</li>
<li>äº†è§£ä¸€äº›å¯ä»¥å¸®åŠ©æ£€æµ‹å†…å­˜æ³„æ¼çš„å·¥å…·ï¼ˆå¦‚ Valgrind on Linux/macOSï¼Œæˆ– Visual Studio å†…ç½®çš„è°ƒè¯•å·¥å…·ï¼‰ã€‚</li>
</ul>
</li>
<li><p><strong>RAII åŸåˆ™ (Resource Acquisition Is Initialization):</strong></p>
<ul>
<li>RAII æ˜¯C++ä¸­ä¸€ä¸ªéå¸¸é‡è¦çš„ç¼–ç¨‹èŒƒå¼ï¼Œå®ƒä¸»å¼ èµ„æºçš„ç”Ÿå‘½å‘¨æœŸåº”ä¸å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šã€‚æ™ºèƒ½æŒ‡é’ˆå°±æ˜¯RAIIçš„ä¸€ä¸ªå…¸å‹åº”ç”¨ã€‚äº†è§£RAIIå¦‚ä½•å¸®åŠ©ç¼–å†™æ›´å®‰å…¨ã€æ›´æ˜“äºç®¡ç†çš„ä»£ç ã€‚</li>
</ul>
</li>
<li><p><strong>æŒ‡é’ˆå’Œå¼•ç”¨çš„å¯¹æ¯” (Pointers vs. References):</strong></p>
<ul>
<li>æˆ‘ä»¬å·²ç»å­¦ä¹ äº†æŒ‡é’ˆã€‚C++è¿˜æœ‰ <strong>å¼•ç”¨ (reference)</strong> çš„æ¦‚å¿µã€‚å®ƒä»¬éƒ½å¯ä»¥é—´æ¥è®¿é—®å¯¹è±¡ï¼Œä½†æœ‰ä»€ä¹ˆåŒºåˆ«å’Œå„è‡ªçš„é€‚ç”¨åœºæ™¯å‘¢ï¼Ÿ</li>
</ul>
</li>
</ol>
<p>è¿™äº›æ‰©å±•é—®é¢˜ä¼šå¼•å¯¼ä½ è¿›å…¥C++æ›´é«˜çº§ä¹Ÿæ›´å®ç”¨çš„é¢†åŸŸã€‚ä¸è¦æ€¥äºæ±‚æˆï¼Œä¸€æ­¥ä¸€ä¸ªè„šå°åœ°å»æ¢ç´¢å®ƒä»¬ã€‚</p>
<p>ä½ ä»Šå¤©çš„è¡¨ç°éå¸¸æ£’ï¼æœŸå¾…ä½ ç»§ç»­å­¦ä¹ C++çš„ä¸‹ä¸€è¯¾å†…å®¹ã€‚å¦‚æœä½ å¯¹è¿™äº›æ‰©å±•é—®é¢˜æœ‰ä»»ä½•ç–‘é—®ï¼Œæˆ–è€…æƒ³æ·±å…¥æ¢è®¨æŸä¸ªç‚¹ï¼Œéšæ—¶éƒ½å¯ä»¥é—®æˆ‘ï¼</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Developer/">Developer    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Object/">Object    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/277%20-%20IDE%20%E5%88%9B%E5%BB%BA%20cpp%20%E7%B1%BB%E6%96%B9%E6%B3%95/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/279%20-%20cpp%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%9A%E5%AF%B9%E8%B1%A1%E9%94%80%E6%AF%81%E6%97%B6%E7%9A%84%E5%86%85%E5%AD%98%E9%87%8A%E6%94%BE/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>279 - cppææ„å‡½æ•°ï¼šå¯¹è±¡é”€æ¯æ—¶çš„å†…å­˜é‡Šæ”¾</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•/" title="277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">277 - IDE åˆ›å»º cpp ç±»æ–¹æ³•</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶/" title="283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">283 - cpp ç±»å¯¹è±¡å¤§å°æ¢ç©¶</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/276 - Class across multiple files/" title="276 - Class across multiple files"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">276 - Class across multiple files</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®/" title="286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">286 - const å¯¹è±¡é—®é¢˜ä¸æŒ‡é’ˆå¼•ç”¨è®¿é—®</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/304 - ç§»åŠ¨æ„é€ å‡½æ•°çªƒå–/" title="304 - ç§»åŠ¨æ„é€ å‡½æ•°çªƒå–"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">304 - ç§»åŠ¨æ„é€ å‡½æ•°çªƒå–</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/322 - Different Type Members/" title="322 - Different Type Members"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">322 - Different Type Members</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>