<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>299 - æ˜¾å¼æ„é€ å‡½æ•° | Bear's dream</title><meta name="description" content="299 - æ˜¾å¼æ„é€ å‡½æ•°"><meta name="keywords" content="Coding,Cpp,Function,Class,Programming"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="299 - æ˜¾å¼æ„é€ å‡½æ•°"><meta name="twitter:description" content="299 - æ˜¾å¼æ„é€ å‡½æ•°"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="299 - æ˜¾å¼æ„é€ å‡½æ•°"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/299%20-%20%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="299 - æ˜¾å¼æ„é€ å‡½æ•°"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/299%20-%20%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/"><link rel="prev" title="297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/297%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8/"><link rel="next" title="296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/296%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">150</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">151</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">18</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#æ˜¾å¼æ„é€ å‡½æ•°"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">æ˜¾å¼æ„é€ å‡½æ•°</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#1-æ ‡é¢˜ä¸ç®€ä»‹"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">1. æ ‡é¢˜ä¸ç®€ä»‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">6. ç¼–ç ç»ƒä¹ </span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#æ˜¾å¼æ„é€ å‡½æ•°"><span class="toc-number">1.</span> <span class="toc-text">æ˜¾å¼æ„é€ å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-æ ‡é¢˜ä¸ç®€ä»‹"><span class="toc-number">2.</span> <span class="toc-text">1. æ ‡é¢˜ä¸ç®€ä»‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-è¯¦ç»†è§£é‡Š"><span class="toc-number">3.</span> <span class="toc-text">2. è¯¦ç»†è§£é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-ä»£ç ç¤ºä¾‹"><span class="toc-number">4.</span> <span class="toc-text">3. ä»£ç ç¤ºä¾‹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-QA-é—ªå¡-QA-Flash-Cards"><span class="toc-number">5.</span> <span class="toc-text">4. QA é—ªå¡ (QA Flash Cards)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><span class="toc-number">6.</span> <span class="toc-text">5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-ç¼–ç ç»ƒä¹ "><span class="toc-number">7.</span> <span class="toc-text">6. ç¼–ç ç»ƒä¹ </span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">299 - æ˜¾å¼æ„é€ å‡½æ•°</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/299%20-%20%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/299%20-%20%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="æ˜¾å¼æ„é€ å‡½æ•°"><a href="#æ˜¾å¼æ„é€ å‡½æ•°" class="headerlink" title="æ˜¾å¼æ„é€ å‡½æ•°"></a>æ˜¾å¼æ„é€ å‡½æ•°</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to learn about explicit constructors.And to really drive the point home, weâ€™re going to look at a simple example.Here is a class which is called Square.It is going to be modeling a square.So weâ€™re going to use a member variable, which is going to represent the size of our square, and wecan use this.Then weâ€™re going to have a function which is going to compute the surface of this square here, andit is going to be a cast member function.This function is really simple and there is really nothing more one can say about this.Letâ€™s look at how we can implement the functions we have and we could implement our constructor usinginitializer list like this.So weâ€™re going to take the side member variable and weâ€™re going to initialize this with our side param.Then weâ€™re going to compute the surface.The surface is going to basically be side multiplied by side and then weâ€™re going to return this.And whoever called this surface function on our class object is going to be able to use the return valuehere.The destructor is going to be empty.Itâ€™s basically going to do nothing.Itâ€™s just going to be in there.So this is how we could set up our square class.Okay, so suppose we have our square class like we have seen, and we set up a function which is goingto compare two squares.So we have the compare function here and itâ€™s going to take two square parameters by const referencebecause we donâ€™t want to be copying squares here and we just want to use the original values and readfrom them and do some computation in the body.Here in the body you see that we are comparing the surfaces for the squares.So we are basically saying if the surface of square one is greater, then weâ€™re going to consider thatas the greater square.And then if the surface of square two is greater, weâ€™re going to consider that as the greater square.So whatâ€™s the function here will be doing is checking if square one is greater than square two.So what we have in the first position here is going to be compared to what we have in position two hereand in the body.What weâ€™re going to say is ask if the surface of square one is greater than the surface of square twohere.If thatâ€™s true, weâ€™re going to return true.If itâ€™s not true, weâ€™re going to return false.This is what the function here is doing.So once we have the function here, we can call it in the main function.Weâ€™re going to have two squares, square one and square two, and we can compare them like we do here.But the problem is going to come if we use arguments that may involve implicit conversions.And look at the example we have here.We are basically comparing square one with 45.5, which is a double literal here.When we issue a call like this, the compiler is going to say that the second parameter to this functionis really a square and itâ€™s going to ask itself, Can I do an implicit conversion from this argumentI have here to a square?And the fact is it can because our constructor is only taking one parameter.So what the compiler is going to do is convert this guy into a square object and then it is going tocompare these two square objects.And if these implicit conversions are what you want, this is going to be fine.But sometimes the color of this function will really want to compare a square to a number.So they want to take the square one and compare that to 44.5, if this makes sense for whatever youare doing in your application.And in that case, implicit conversions are not going to be what you want and youâ€™re going to get wrongresults.If you donâ€™t want these implicit conversions, it is possible to mark your constructor as explicit,and what this tells the compiler is to never use this constructor in implicit conversions.So if we have this constructor here and this explicit and we try to issue a call like this, weâ€™re goingto get a compiler error because the constructor for our square object can never be used in implicitconversions.And what we are doing here is really going to set up implicit conversions so you can use explicit constructorsif you donâ€™t want your constructor to be involved in implicit conversions that are done by the compiler.Okay.I really hope you understand this.So we may also fall in the same case if we have a constructor which doesnâ€™t take only one parameters,but we have a single parameter which is not using a default parameter.Letâ€™s show you what I mean here.Here we have our side parameter, but we have a second parameter which is specified by default.So if we have this set up and we have the same call we have in the main function with the second parameterset up as 44.5 the.Compiler is going to see that it can still use this constructor to do implicit conversions from a numberto this square object here.And itâ€™s going to also use this constructor.So if we donâ€™t want implicit conversions, we can also mark this constructor as an explicit constructorand it is going to be prevented from being used in implicit conversions.This can be confusing, and if you still donâ€™t really understand this, please bear with me.Weâ€™re going to head over to Visual Studio code and play with this a little more.Okay.Here we are in our working folder.The current project is explicit constructors.Weâ€™re going to use our template files here, so letâ€™s grab them and weâ€™re going to paste them in placeand weâ€™re going to open this little guy in Visual Studio code by dragging and dropping here.This is going to open our folder.Weâ€™re going to have our main function and we need to create our square class because we want to playwith it in here.So what weâ€™re going to do is create the header file and the CPP file for that.Letâ€™s do square dot h for the header and weâ€™re going to add a new file for square dot CPP.This is done and we are going to head in our header file and put in our class.So we donâ€™t want to type this.I am just going to put it in here.Then weâ€™re going to explain it a little bit.We have our include guards and then we have our class which is declared and defined Here.We have two sections in the class.We have a public section and we have a private section.And our private section we have our member variable which is declared to be inside.Itâ€™s type is double.And in the public section, weâ€™re going to have a constructor which is going to take one parameter.We have a destructor which is going to destroy our object and we have a function which is going to computeour surface here.Nothing special here so far.We are going to head in square dot CPP and put in the implementation for our class so we have the implementationfor the constructor.It is going to be using initializer list.You see the syntax here we have our colon, we have our member variable and we are using curly bracesto do that.So you can use curly braces with your initializer list.This is going to work down here.You see we have the surface function.It is a cast member function.We need to specify that here and it is basically going to return M side multiplied by M side becausethatâ€™s going to be the surface and the destructor is really not doing anything.So it is going to be empty here, but weâ€™re going to leave this in.Okay.So now that we have this little guy here, letâ€™s head over to the main function and play with it.So weâ€™re going to close the left sidebar here because we donâ€™t need it anymore.Weâ€™re going to take out whatever we donâ€™t need in the main CPP file.Weâ€™re going to include our square class.We can do that and then weâ€™re going to put in the function, which is going to compare two squares.We have the function called compare.Itâ€™s going to compare square one and square two.The parameters are passed by const reference because we donâ€™t want to copy our square objects.We just want to read the data from them, compare them and return the result.So weâ€™re going to ask, is the surface of square one greater than the surface of square two?Thatâ€™s what this function here is doing.If square one is greater than two in terms of surface, weâ€™re going to return.True.If square one is not greater, weâ€™re going to return false.Thatâ€™s what we are doing here.So we can set up two square objects and try this function here.Weâ€™re going to say square and weâ€™re going to call this s one.Weâ€™re going to put in a 10.0 and weâ€™re going to do a second one.This one is going to be S two and weâ€™re going to put in a 20.0.You already know which one is greater.So weâ€™re going to try and use our function here and see that it is actually working.Weâ€™re going to say S one greater than S two and weâ€™re going to do that using the call here.Compare s one to S two.Weâ€™re going to be passing this by reference, by the way, and we want the output to be in the formof true and false.So weâ€™re going to put our bool alpha manipulator here.So weâ€™re going to say Stdcout, STD Bull Alpha, and weâ€™re going to build and run this program.We expect to see a false because the surface of square one is really not going to be greater than thesurface of square two here.So weâ€™re going to see a false printed out here.Letâ€™s world weâ€™re going to bring up a terminal and then weâ€™re going to use the task to build with GCC.This is going to build define we can clear and run rooster and weâ€™re going to see that square one isnot greater than square two.This is what we expect.We can change the side of square one to be 100 and build again.And we see that our function is doing what we want.Weâ€™re going to clear the build is good, by the way.We can clear and run Rooster.Now weâ€™re.To see that square one is greater than square two because its surface is definitely going to be greaterthan that of square two.Here, this is working, but we may have problems if we set up a call that involves implicit conversions.So letâ€™s do a call in which we want to compare square one to a double literal.We can do that.So weâ€™re going to put our stdcout statement here and we want to see if square one is greater than 45.9.For example, we can do this.So weâ€™re going to put 45.9 here and notice that we donâ€™t have a squiggly line or any problem.And if we go back to our compare function, you see that we donâ€™t have any overload.That takes the second parameter as a double.So the compiler is going to look at the call here and itâ€™s going to say, Let me see if I can use asecond parameter as a double here.And itâ€™s going to say, Oh, I cannot do that because the second parameter is a square object.The compiler isnâ€™t going to give up easily.So itâ€™s going to say, I canâ€™t use a double argument for the second parameter here directly, but itâ€™sgoing to ask is it possible that I can convert from this double to a square object?And itâ€™s going to look at the constructors we have in here?Itâ€™s going to say, Huh, I have one constructor which is going to take a double parameter.I can use this and convert from this double argument I have here to a square object and the compileris going to do that and create a temporary somewhere, which is going to be a square object and it isgoing to pass that square object in this function here and do the comparison and then itâ€™s going tothrow the temporary away and itâ€™s going to give you the result.So what we will be doing here is really comparing two squares, one square, whose side is 100 and anotherwhose side is 45.9.And this can really be hard to see because what you see here is a number.And you might think that the compiler is really comparing square one to a number, but it is going tobe comparing two squares because it inserted an implicit conversion from this double here to a square.If this is what you want, weâ€™re going to see that this is going to compare two squares and weâ€™re goingto see our output in a minute.So letâ€™s do that.Weâ€™re going to build this with GCC so that you see that this is going to build without a problem.The world is good and we can see our output here.Weâ€™re going to run Rooster and weâ€™re going to see that square one is actually greater than 45.9 becausesquare one has a side which is 100, and the square two is going to be having a side of 45.9 here.But we have an implicit conversion and sometimes this is not what we want.So if we donâ€™t want these implicit conversions, we can mark our constructor as explicit.And what this tells the compiler is donâ€™t use my constructor here in implicit conversions.If somebody wants to use my constructor here, they have to call it explicitly like they have createdan object here and then use that object to call the compare function.So we can do that using the explicit keyword like we see here.So if we mark this constructor as explicit, weâ€™re going to see that at this line.Now weâ€™re going to have a squiggly line because the compiler is not allowed to insert an implicit conversionfrom double to our square object using our constructor here.So if we use this now, weâ€™re going to get a compiler error.You see, Visual Studio code already has a problem.If we look at the problems tab here, weâ€™re going to see no suitable constructor exists to convert fromdouble to square.And this is a hint that the compiler is actually trying to convert from double to square and we havedisallowed that or prevented that through the explicit keyword here.And this is really cool.So we can build with GCC and see the compiler error.Weâ€™re going to see that the compiler error is going to say invalid initialization of reference constsquare.The second parameter couldnâ€™t be initialized properly.So the second thing here is not going to work and itâ€™s going to basically say, I canâ€™t really figureout how to use a double argument and compare that as we are doing in the compare function here.So youâ€™re going to get a compiler error and this is good if you donâ€™t want your constructor involvedin implicit conversions, We may also face the same problem if we are using default arguments.And I am going to show you that here weâ€™re going to include the string object, the string class, Ishould say, and weâ€™re going to set up a second member variable in our class, which is going to beof string type, and weâ€™re going to say color.This is going to be the color of our square.We might model our square like this and give it a color, and weâ€™re going to specify a second parameterto the constructor, which is going to initialize our member variable with the default parameter.So if we do something like this, we might say const STD string reference, and then weâ€™re going tosay color param, we can save that and weâ€™re going to set this to black.For example, letâ€™s say our square is going to be black by default and we need to specify the secondparameter in our implementation in the CPP file.So letâ€™s copy that and weâ€™re going to put that in place here.And this is right.And we need to put our initializer list to the second line and then weâ€™re going to put in another line,which is going to initialize our color.So weâ€™re going to take the color and initialize this with color param.Okay, We can do this and youâ€™re going to see that the compiler is going to take this because we arejust initializing our member variables using this initializer lists.But what we want to see is that even if you have a lot of parameters, but the first one isnâ€™t usinga default parameter and the other ones are going to be using the default parameter.This can also be used in implicit conversions and the compiler might pick this up to convert from adouble to a square object because itâ€™s just going to use that double for the first parameter.And for the others itâ€™s going to use the defaults.So we can also protect this and make this explicit and the compiler is not going to use it in implicitconversions.And now if we build, weâ€™re going to get the same error we had.Weâ€™re going to build with GCC and we are basically going to be told the compiler canâ€™t use this constructorin implicit conversions because it is explicit and this is really all explicit.Constructors are all about you.Mark your constructor explicit if you donâ€™t want it involved in implicit conversions that are done bythe compiler.So this is all for this lecture.I hope you found it interesting.We are going to stop here in this one.In the next one weâ€™re going to learn about copy constructors.Go ahead and finish up here and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œæ²¡é—®é¢˜ï¼ä½œä¸ºä½ çš„C++å‘å¯¼ï¼Œæˆ‘ä¼šç”¨æœ€æ¸…æ™°ã€æœ€å‹å¥½çš„æ–¹å¼ï¼Œå¸¦ä½ ä¸€æ­¥æ­¥æ¢ç´¢ <code>explicit</code> æ„é€ å‡½æ•°çš„å¥¥ç§˜ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p>
<hr>
<h1 id="1-æ ‡é¢˜ä¸ç®€ä»‹"><a href="#1-æ ‡é¢˜ä¸ç®€ä»‹" class="headerlink" title="1. æ ‡é¢˜ä¸ç®€ä»‹"></a>1. æ ‡é¢˜ä¸ç®€ä»‹</h1><p><strong>æ ‡é¢˜ï¼š</strong> C++ æ¢ç§˜ï¼šæ˜¾å¼æ„é€ å‡½æ•° (<code>explicit constructor</code>) â€”â€” é˜²æ­¢æ„å¤–çš„ç±»å‹è½¬æ¢</p>
<p><strong>ç®€ä»‹ï¼š</strong><br>æœ¬èŠ‚è¯¾æˆ‘ä»¬å°†å­¦ä¹ C++ä¸­çš„ä¸€ä¸ªé‡è¦å…³é”®å­— <code>explicit</code>ï¼Œå®ƒç”¨äºä¿®é¥°ç±»çš„æ„é€ å‡½æ•° (<code>constructor</code>)ã€‚æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„ <code>Square</code> (æ­£æ–¹å½¢) ç±»çš„ä¾‹å­ï¼Œæ·±å…¥ç†è§£ä¸ºä»€ä¹ˆä»¥åŠå¦‚ä½•ä½¿ç”¨ <code>explicit</code> æ„é€ å‡½æ•°æ¥é¿å…ç¼–è¯‘å™¨ (<code>compiler</code>) è¿›è¡Œä¸€äº›æˆ‘ä»¬å¯èƒ½ä¸æœŸæœ›çš„éšå¼ç±»å‹è½¬æ¢ (<code>implicit conversion</code>)ï¼Œä»è€Œå†™å‡ºæ›´å®‰å…¨ã€æ›´å¯æ§çš„ä»£ç ã€‚</p>
<hr>
<h1 id="2-è¯¦ç»†è§£é‡Š"><a href="#2-è¯¦ç»†è§£é‡Š" class="headerlink" title="2. è¯¦ç»†è§£é‡Š"></a>2. è¯¦ç»†è§£é‡Š</h1><p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ­£åœ¨è®¾è®¡ä¸€ä¸ªè¡¨ç¤ºæ­£æ–¹å½¢çš„ç¨‹åºã€‚</p>
<p><strong>æ­¥éª¤ 1: åˆ›å»º <code>Square</code> ç±»åŸºç¡€ç»“æ„</strong></p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª <code>Square</code> ç±» (<code>class</code>)ã€‚ä¸€ä¸ªæ­£æ–¹å½¢æœ€é‡è¦çš„å±æ€§æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å®ƒçš„è¾¹é•¿ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€ä¸ªç§æœ‰çš„æˆå‘˜å˜é‡ (<code>member variable</code>) <code>m_side</code> æ¥å­˜å‚¨è¾¹é•¿ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Square.h (å¤´æ–‡ä»¶)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SQUARE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SQUARE_H</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_side; <span class="comment">// è¾¹é•¿</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ï¼šç”¨äºåˆ›å»º Square å¯¹è±¡å¹¶åˆå§‹åŒ–è¾¹é•¿</span></span><br><span class="line">    Square(<span class="keyword">double</span> side);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°ï¼šç”¨äºå¯¹è±¡é”€æ¯å‰è¿›è¡Œæ¸…ç† (è¿™é‡Œä¸ºç©º)</span></span><br><span class="line">    ~Square();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆå‘˜å‡½æ•°ï¼šè®¡ç®—å¹¶è¿”å›æ­£æ–¹å½¢çš„é¢ç§¯</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_surface</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// const è¡¨ç¤ºæ­¤å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//SQUARE_H</span></span></span><br></pre></td></tr></table></figure></div>
<ul>
<li><strong><code>#ifndef SQUARE_H ... #define SQUARE_H ... #endif</code></strong>ï¼šè¿™äº›æ˜¯å¤´æ–‡ä»¶ä¿æŠ¤å® (header guards)ï¼Œé˜²æ­¢åŒä¸€ä¸ªå¤´æ–‡ä»¶è¢«å¤šæ¬¡åŒ…å«ï¼Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li>
<li><strong><code>private:</code></strong>ï¼šè¿™éƒ¨åˆ†å®šä¹‰çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°åªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ã€‚<code>m_side</code> æ˜¯ç§æœ‰çš„ï¼Œæ„å‘³ç€å¤–éƒ¨ä»£ç ä¸èƒ½ç›´æ¥ä¿®æ”¹å®ƒï¼Œåªèƒ½é€šè¿‡ç±»æä¾›çš„å…¬å…±æ¥å£ã€‚</li>
<li><strong><code>public:</code></strong>ï¼šè¿™éƒ¨åˆ†å®šä¹‰çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å¯ä»¥ä»ç±»çš„å¤–éƒ¨è®¿é—®ã€‚</li>
<li><strong><code>Square(double side);</code></strong>ï¼šè¿™æ˜¯æ„é€ å‡½æ•°ã€‚å®ƒçš„åå­—å’Œç±»åç›¸åŒï¼Œæ²¡æœ‰è¿”å›ç±»å‹ã€‚å®ƒæ¥æ”¶ä¸€ä¸ª <code>double</code> ç±»å‹çš„å‚æ•° (<code>parameter</code>) <code>side</code>ï¼Œç”¨äºåˆå§‹åŒ–æ­£æ–¹å½¢çš„è¾¹é•¿ã€‚</li>
<li><strong><code>~Square();</code></strong>ï¼šè¿™æ˜¯ææ„å‡½æ•°ã€‚å®ƒçš„åå­—æ˜¯ç±»åå‰é¢åŠ ä¸€ä¸ªæ³¢æµªå· <code>~</code>ã€‚å½“ä¸€ä¸ª <code>Square</code> å¯¹è±¡ (<code>object</code>) çš„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼Œææ„å‡½æ•°ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚åœ¨è¿™ä¸ªç®€å•çš„ä¾‹å­é‡Œï¼Œå®ƒä»€ä¹ˆä¹Ÿä¸åšã€‚</li>
<li><strong><code>double get_surface() const;</code></strong>ï¼šè¿™æ˜¯ä¸€ä¸ªå…¬å…±æˆå‘˜å‡½æ•°ï¼Œç”¨äºè®¡ç®—æ­£æ–¹å½¢çš„é¢ç§¯ã€‚<code>const</code> å…³é”®å­—è¡¨ç¤ºè¿™ä¸ªå‡½æ•°ä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„ <code>Square</code> å¯¹è±¡çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚</li>
</ul>
<p><strong>æ­¥éª¤ 2: å®ç° <code>Square</code> ç±»çš„æˆå‘˜å‡½æ•°</strong></p>
<p>ç°åœ¨æˆ‘ä»¬æ¥å®ç°è¿™äº›å‡½æ•°ï¼Œé€šå¸¸åœ¨ä¸€ä¸ªå¯¹åº”çš„ <code>.cpp</code> æ–‡ä»¶ä¸­ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Square.cpp (æºæ–‡ä»¶)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span> <span class="comment">// åŒ…å«å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°çš„å®ç°</span></span><br><span class="line">Square::Square(<span class="keyword">double</span> side)</span><br><span class="line">    : m_side&#123;side&#125; &#123; <span class="comment">// ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ– m_side</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°ä½“ï¼Œè¿™é‡Œä¸ºç©ºï¼Œå› ä¸ºåˆå§‹åŒ–å·²åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­å®Œæˆ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ææ„å‡½æ•°çš„å®ç°</span></span><br><span class="line">Square::~Square() &#123;</span><br><span class="line">    <span class="comment">// æ¸…ç†ä»£ç ï¼Œè¿™é‡Œä¸éœ€è¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// get_surface å‡½æ•°çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Square::get_surface</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_side * m_side; <span class="comment">// é¢ç§¯ = è¾¹é•¿ * è¾¹é•¿</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<ul>
<li><strong><code>Square::Square(double side) : m_side{side}</code></strong>ï¼šè¿™æ˜¯æ„é€ å‡½æ•°çš„å®ç°ã€‚å†’å· <code>:</code> åé¢çš„æ˜¯æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ (initializer list)ã€‚è¿™æ˜¯ä¸€ç§æ¨èçš„åˆå§‹åŒ–æˆå‘˜å˜é‡çš„æ–¹å¼ï¼Œå®ƒåœ¨æ„é€ å‡½æ•°ä½“æ‰§è¡Œä¹‹å‰å°±å®Œæˆäº†æˆå‘˜å˜é‡çš„åˆå§‹åŒ–ã€‚è¿™é‡Œï¼Œ<code>m_side{side}</code> è¡¨ç¤ºç”¨ä¼ å…¥çš„ <code>side</code> å‚æ•°çš„å€¼æ¥åˆå§‹åŒ– <code>m_side</code> æˆå‘˜å˜é‡ã€‚èŠ±æ‹¬å· <code>{}</code> æ˜¯C++11å¼•å…¥çš„ç»Ÿä¸€åˆå§‹åŒ–è¯­æ³•ã€‚</li>
<li><strong><code>Square::~Square() {}</code></strong>ï¼šææ„å‡½æ•°ä½“ä¸ºç©ºï¼Œå› ä¸ºå®ƒä¸éœ€è¦åšä»»ä½•ç‰¹æ®Šçš„æ¸…ç†å·¥ä½œã€‚</li>
<li><strong><code>double Square::get_surface() const { return m_side * m_side; }</code></strong>ï¼šè®¡ç®—é¢ç§¯å¾ˆç®€å•ï¼Œå°±æ˜¯è¾¹é•¿çš„å¹³æ–¹ã€‚</li>
</ul>
<p><strong>æ­¥éª¤ 3: å¼•å…¥æ¯”è¾ƒå‡½æ•°å’Œéšå¼è½¬æ¢çš„é—®é¢˜</strong></p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªæ­£æ–¹å½¢çš„é¢ç§¯å¤§å°ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp æˆ–å…¶ä»–åœ°æ–¹</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒå‡½æ•°ï¼šå¦‚æœ s1 çš„é¢ç§¯å¤§äº s2ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare_squares</span><span class="params">(<span class="keyword">const</span> Square&amp; s1, <span class="keyword">const</span> Square&amp; s2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s1.get_surface() &gt; s2.get_surface();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<ul>
<li><strong><code>const Square&amp; s1</code></strong>: å‚æ•° <code>s1</code> æ˜¯ä¸€ä¸ªå¯¹ <code>Square</code> å¯¹è±¡çš„å¸¸é‡å¼•ç”¨ (const reference)ã€‚ä½¿ç”¨å¼•ç”¨å¯ä»¥é¿å…å¤åˆ¶æ•´ä¸ªå¯¹è±¡ï¼Œæé«˜æ•ˆç‡ã€‚<code>const</code> ç¡®ä¿å‡½æ•°ä¸ä¼šä¿®æ”¹ä¼ å…¥çš„å¯¹è±¡ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œåœ¨ <code>main</code> å‡½æ•°ä¸­ä½¿ç”¨å®ƒï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Square <span class="title">sq1</span><span class="params">(<span class="number">10.0</span>)</span></span>; <span class="comment">// åˆ›å»ºä¸€ä¸ªè¾¹é•¿ä¸º10çš„æ­£æ–¹å½¢</span></span><br><span class="line">    <span class="function">Square <span class="title">sq2</span><span class="params">(<span class="number">5.0</span>)</span></span>;  <span class="comment">// åˆ›å»ºä¸€ä¸ªè¾¹é•¿ä¸º5çš„æ­£æ–¹å½¢</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (compare_squares(sq1, sq2)) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"sq1 is larger than sq2"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"sq1 is NOT larger than sq2"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é—®é¢˜æ¥äº†ï¼</span></span><br><span class="line">    <span class="keyword">double</span> side_value = <span class="number">7.0</span>;</span><br><span class="line">    <span class="keyword">if</span> (compare_squares(sq1, side_value)) &#123; <span class="comment">// å°è¯•å°† sq1 ä¸ä¸€ä¸ª double å€¼æ¯”è¾ƒ</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"sq1 is larger than a square of side "</span> &lt;&lt; side_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"sq1 is NOT larger than a square of side "</span> &lt;&lt; side_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>çœ‹åˆ° <code>compare_squares(sq1, side_value)</code> è¿™ä¸€è¡Œäº†å—ï¼Ÿ<code>compare_squares</code> å‡½æ•°æœŸæœ›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ <code>Square</code> ç±»å‹çš„ï¼Œä½†æˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ª <code>double</code> ç±»å‹çš„ <code>side_value</code>ã€‚</p>
<p>å¥‡æ€ªçš„æ˜¯ï¼Œè¿™æ®µä»£ç é€šå¸¸èƒ½å¤Ÿç¼–è¯‘é€šè¿‡å¹¶ä¸”è¿è¡Œï¼ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>è¿™å°±æ˜¯<strong>éšå¼è½¬æ¢ (implicit conversion)</strong> åœ¨ä½œç¥Ÿã€‚<br>ç¼–è¯‘å™¨çœ‹åˆ° <code>compare_squares</code> å‡½æ•°éœ€è¦ä¸€ä¸ª <code>Square</code> å¯¹è±¡ï¼Œè€Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª <code>double</code>ã€‚å®ƒä¼šæ£€æŸ¥ <code>Square</code> ç±»æ˜¯å¦æœ‰åŠæ³•ä»ä¸€ä¸ª <code>double</code> â€œæ„é€ â€ å‡ºä¸€ä¸ª <code>Square</code> å¯¹è±¡ã€‚å®ƒæ‰¾åˆ°äº†æˆ‘ä»¬çš„æ„é€ å‡½æ•° <code>Square(double side)</code>ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°æ­£å¥½æ¥å—ä¸€ä¸ª <code>double</code> å‚æ•°ã€‚<br>äºæ˜¯ï¼Œç¼–è¯‘å™¨ä¼š<strong>å·å·åœ°</strong>ã€<strong>è‡ªåŠ¨åœ°</strong>ä½¿ç”¨è¿™ä¸ª <code>double</code> å€¼ <code>7.0</code> è°ƒç”¨ <code>Square(7.0)</code> æ¥åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ <code>Square</code> å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸ªä¸´æ—¶å¯¹è±¡ä¼ é€’ç»™ <code>compare_squares</code> å‡½æ•°ã€‚</p>
<p>è¿™ç§è¡Œä¸ºæœ‰æ—¶å€™æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä½†å¾ˆå¤šæ—¶å€™ï¼Œå®ƒå¯èƒ½éšè—äº†é€»è¾‘é”™è¯¯ã€‚ç¨‹åºå‘˜çš„æ„å›¾å¯èƒ½æ˜¯æ¯”è¾ƒ <code>sq1</code> çš„é¢ç§¯å’Œä¸€ä¸ªæ•°å­— <code>7.0</code> (ä¹Ÿè®¸è¿™ä¸ª7.0ä»£è¡¨çš„æ˜¯å¦ä¸€ä¸ªé¢ç§¯å€¼)ï¼Œä½†å®é™…ä¸Šä»£ç å´åˆ›å»ºäº†ä¸€ä¸ªè¾¹é•¿ä¸º <code>7.0</code> çš„æ–°æ­£æ–¹å½¢å¹¶ç”¨å®ƒè¿›è¡Œæ¯”è¾ƒã€‚è¿™å¯èƒ½å¯¼è‡´éš¾ä»¥å¯Ÿè§‰çš„bugã€‚</p>
<p><strong>æ­¥éª¤ 4: ä½¿ç”¨ <code>explicit</code> å…³é”®å­—é˜»æ­¢éšå¼è½¬æ¢</strong></p>
<p>ä¸ºäº†é˜²æ­¢è¿™ç§ä¸æœŸæœ›çš„éšå¼è½¬æ¢ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ„é€ å‡½æ•°å£°æ˜å‰åŠ ä¸Š <code>explicit</code> å…³é”®å­—ã€‚</p>
<p>ä¿®æ”¹ <code>Square.h</code>ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Square.h</span></span><br><span class="line"><span class="comment">// ... å…¶ä»–ä»£ç  ...</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Square</span><span class="params">(<span class="keyword">double</span> side)</span></span>; <span class="comment">// åœ¨è¿™é‡Œæ·»åŠ äº† explicit</span></span><br><span class="line"><span class="comment">// ... å…¶ä»–ä»£ç  ...</span></span><br></pre></td></tr></table></figure></div><br><code>explicit</code> å‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œå˜¿ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°ä¸èƒ½ç”¨äºéšå¼è½¬æ¢ã€‚å¦‚æœæƒ³ç”¨å®ƒï¼Œå¿…é¡»æ˜ç¡®åœ°ã€æ˜¾å¼åœ°è°ƒç”¨å®ƒã€‚â€</p>
<p>åŠ ä¸Š <code>explicit</code> åï¼Œä¹‹å‰çš„ <code>compare_squares(sq1, side_value)</code> è¿™è¡Œä»£ç å°±ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼ç¼–è¯‘å™¨ä¼šæŠ±æ€¨è¯´ï¼Œå®ƒæ— æ³•å°† <code>double</code> è½¬æ¢ä¸º <code>Square</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œé”™è¯¯ä¿¡æ¯å¯èƒ½ç±»ä¼¼äºï¼š<br><code>error: could not convert &#39;side_value&#39; from &#39;double&#39; to &#39;Square&#39;</code><br>æˆ–è€…<br><code>error: no matching function for call to &#39;compare_squares(Square&amp;, double&amp;)&#39;</code><br><code>note: candidate: &#39;bool compare_squares(const Square&amp;, const Square&amp;)&#39;</code><br><code>note:   no known conversion for argument 2 from &#39;double&#39; to &#39;const Square&amp;&#39;</code></p>
<p>è¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼ç¼–è¯‘å™¨ç°åœ¨å¸®åŠ©æˆ‘ä»¬æ•è·äº†ä¸€ä¸ªæ½œåœ¨çš„é€»è¾‘é”™è¯¯ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬ç¡®å®æƒ³ç”¨ <code>side_value</code> åˆ›å»ºä¸€ä¸ª <code>Square</code> å¯¹è±¡å¹¶è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬å¿…é¡»<strong>æ˜¾å¼åœ°</strong>è¿™æ ·åšï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.cpp (ä¿®æ”¹å)</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">double</span> side_value = <span class="number">7.0</span>;</span><br><span class="line">    <span class="comment">// é”™è¯¯ï¼šcompare_squares(sq1, side_value); // ç°åœ¨è¿™è¡Œä¼šç¼–è¯‘å¤±è´¥</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ­£ç¡®çš„æ–¹å¼ï¼šæ˜¾å¼åˆ›å»º Square å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">if</span> (compare_squares(sq1, Square(side_value))) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"sq1 is larger than a square of side "</span> &lt;&lt; side_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"sq1 is NOT larger than a square of side "</span> &lt;&lt; side_value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure></div>
<p>æˆ–è€…ä½¿ç”¨ <code>static_cast</code> (è™½ç„¶å¯¹äºæ„é€ å‡½æ•°è°ƒç”¨ï¼Œç›´æ¥å†™ <code>Square(value)</code> æ›´å¸¸è§å’Œæ¸…æ™°)ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if (compare_squares(sq1, static_cast&lt;Square&gt;(side_value))) &#123; ... &#125;</span></span><br></pre></td></tr></table></figure></div></p>
<p><strong>æ­¥éª¤ 5: æ¶‰åŠé»˜è®¤å‚æ•°çš„æ„é€ å‡½æ•°</strong></p>
<p><code>explicit</code> å…³é”®å­—å¯¹äºé‚£äº›â€œçœ‹èµ·æ¥ä¸åƒâ€å•å‚æ•°æ„é€ å‡½æ•°ï¼Œä½†å®é™…ä¸Šå¯ä»¥è¢«å•å‚æ•°è°ƒç”¨çš„æ„é€ å‡½æ•°ä¹ŸåŒæ ·é‡è¦ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬çš„ <code>Square</code> ç±»æ„é€ å‡½æ•°æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ¯”å¦‚é¢œè‰²ï¼Œå¹¶ä¸”è¿™ä¸ªé¢œè‰²å‚æ•°æœ‰é»˜è®¤å€¼ï¼š<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Square.h (ä¿®æ”¹)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SQUARE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SQUARE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; // éœ€è¦åŒ…å« string å¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_side;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color; <span class="comment">// æ–°å¢é¢œè‰²æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ä¿®æ”¹æ„é€ å‡½æ•°ï¼Œå¢åŠ ä¸€ä¸ªå¸¦é»˜è®¤å€¼çš„é¢œè‰²å‚æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Square</span><span class="params">(<span class="keyword">double</span> side, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color = <span class="string">"black"</span>)</span></span>; <span class="comment">// æ³¨æ„ explicit è¿˜åœ¨</span></span><br><span class="line"></span><br><span class="line">    ~Square();</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_surface</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">get_color</span><span class="params">()</span> <span class="keyword">const</span></span>; <span class="comment">// è·å–é¢œè‰²çš„å‡½æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//SQUARE_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Square.cpp (ä¿®æ”¹)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ„é€ å‡½æ•°å®ç°</span></span><br><span class="line">Square::Square(<span class="keyword">double</span> side, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color)</span><br><span class="line">    : m_side&#123;side&#125;, m_color&#123;color&#125; &#123; <span class="comment">// åˆå§‹åŒ–ä¸¤ä¸ªæˆå‘˜</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Square::~Square() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Square::get_surface</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_side * m_side;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">Square::get_color</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å³ä½¿æ„é€ å‡½æ•°ç°åœ¨æ˜¯ <code>Square(double side, const std::string&amp; color = &quot;black&quot;)</code>ï¼Œå¦‚æœæˆ‘ä»¬åªæä¾›ä¸€ä¸ª <code>double</code> å€¼æ¥è°ƒç”¨å®ƒï¼Œä¾‹å¦‚ <code>Square my_sq(10.0);</code>ï¼Œç¼–è¯‘å™¨ä»ç„¶ä¼šä½¿ç”¨é»˜è®¤çš„é¢œè‰²å€¼ <code>&quot;black&quot;</code>ã€‚<br>å› æ­¤ï¼Œå¦‚æœè¿™ä¸ªæ„é€ å‡½æ•°<strong>æ²¡æœ‰</strong> <code>explicit</code> å…³é”®å­—ï¼Œå®ƒä»ç„¶å¯ä»¥è¢«ç”¨äºä» <code>double</code> åˆ° <code>Square</code> çš„éšå¼è½¬æ¢ï¼ç¼–è¯‘å™¨ä¼šç”¨æä¾›çš„ <code>double</code> ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç”¨é»˜è®¤å€¼ <code>&quot;black&quot;</code> ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœ Square æ„é€ å‡½æ•°æ²¡æœ‰ explicit:</span></span><br><span class="line"><span class="comment">// Square s = 10.0; // éšå¼è½¬æ¢ï¼ç­‰åŒäº Square s = Square(10.0, "black");</span></span><br><span class="line"><span class="comment">// compare_squares(sq1, 25.0); // éšå¼è½¬æ¢ï¼ç”¨ 25.0 å’Œé»˜è®¤é¢œè‰²åˆ›å»ºä¸´æ—¶ Square</span></span><br></pre></td></tr></table></figure></div>
<p>æ‰€ä»¥ï¼Œåªè¦ä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥é€šè¿‡æä¾›å•ä¸ªå‚æ•°ï¼ˆå…¶ä»–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼‰æ¥è°ƒç”¨ï¼Œ<code>explicit</code> å…³é”®å­—å¯¹äºé˜²æ­¢ä¸æœŸæœ›çš„éšå¼è½¬æ¢å°±æ˜¯æœ‰æ„ä¹‰çš„ã€‚</p>
<p><strong>æ€»ç»“ä¸€ä¸‹ <code>explicit</code> çš„æ ¸å¿ƒä½œç”¨ï¼š</strong></p>
<ol>
<li><strong>ç”¨äºæ„é€ å‡½æ•°å‰ã€‚</strong></li>
<li><strong>é˜»æ­¢ç¼–è¯‘å™¨ä½¿ç”¨è¯¥æ„é€ å‡½æ•°è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚</strong></li>
<li><strong>é¼“åŠ±æ›´æ¸…æ™°çš„ä»£ç ï¼Œå› ä¸ºç±»å‹è½¬æ¢å¿…é¡»æ˜¯æ˜¾å¼çš„ã€‚</strong></li>
<li><strong>æœ‰åŠ©äºé˜²æ­¢å› æ„å¤–çš„ç±»å‹è½¬æ¢è€Œå¯¼è‡´çš„ç»†å¾®é”™è¯¯ã€‚</strong></li>
</ol>
<p>é€šå¸¸ï¼Œä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ï¼š<strong>é™¤éä½ æœ‰å……åˆ†çš„ç†ç”±å…è®¸æ„é€ å‡½æ•°è¿›è¡Œéšå¼è½¬æ¢ï¼Œå¦åˆ™éƒ½åº”è¯¥å°†å…¶å£°æ˜ä¸º <code>explicit</code>ã€‚</strong> ç‰¹åˆ«æ˜¯å¯¹äºæ¥å—å•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæˆ–è€…å…¶ä»–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼çš„æ„é€ å‡½æ•°ã€‚</p>
<hr>
<h1 id="3-ä»£ç ç¤ºä¾‹"><a href="#3-ä»£ç ç¤ºä¾‹" class="headerlink" title="3. ä»£ç ç¤ºä¾‹"></a>3. ä»£ç ç¤ºä¾‹</h1><p>æˆ‘ä»¬å°†æ•´åˆä¸Šé¢è®¨è®ºçš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶æä¾›ä¸€ä¸ªå®Œæ•´çš„å¯è¿è¡Œç¤ºä¾‹ã€‚</p>
<p><strong><code>Square.h</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> SQUARE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SQUARE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt; // For std::string</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // For std::cout in example</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_side;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> m_color;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ˜¾å¼æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Square</span><span class="params">(<span class="keyword">double</span> side, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color = <span class="string">"black"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•° (é€šå¸¸é»˜è®¤çš„å°±å¤Ÿç”¨ï¼Œè¿™é‡Œä¸ºäº†å®Œæ•´æ€§å†™å‡ºæ¥)</span></span><br><span class="line">    ~Square();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–é¢ç§¯</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">get_surface</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–é¢œè‰²</span></span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">get_color</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å°ä¿¡æ¯ï¼Œæ–¹ä¾¿æ¼”ç¤º</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ä¸ªç‹¬ç«‹çš„æ¯”è¾ƒå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare_squares_by_surface</span><span class="params">(<span class="keyword">const</span> Square&amp; s1, <span class="keyword">const</span> Square&amp; s2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">//SQUARE_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>Square.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span> <span class="comment">// Ensure to include the header</span></span></span><br><span class="line"></span><br><span class="line">Square::Square(<span class="keyword">double</span> side, <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span>&amp; color)</span><br><span class="line">    : m_side&#123;side&#125;, m_color&#123;color&#125; &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Square("</span> &lt;&lt; m_side &lt;&lt; <span class="string">", \""</span> &lt;&lt; m_color &lt;&lt; <span class="string">"\") constructed."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Square::~Square() &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Square("</span> &lt;&lt; m_side &lt;&lt; <span class="string">", \""</span> &lt;&lt; m_color &lt;&lt; <span class="string">"\") destructed."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">Square::get_surface</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_side * m_side;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">Square::get_color</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> m_color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Square::print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Square Info: Side = "</span> &lt;&lt; m_side</span><br><span class="line">              &lt;&lt; <span class="string">", Color = "</span> &lt;&lt; m_color</span><br><span class="line">              &lt;&lt; <span class="string">", Surface = "</span> &lt;&lt; get_surface() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¯”è¾ƒå‡½æ•°çš„å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare_squares_by_surface</span><span class="params">(<span class="keyword">const</span> Square&amp; s1, <span class="keyword">const</span> Square&amp; s2)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Comparing s1 (surface "</span> &lt;&lt; s1.get_surface()</span><br><span class="line">              &lt;&lt; <span class="string">") and s2 (surface "</span> &lt;&lt; s2.get_surface() &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> s1.get_surface() &gt; s2.get_surface();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Square.h"</span> <span class="comment">// åŒ…å«æˆ‘ä»¬å®šä¹‰çš„ Square ç±»</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºäº†è®©è¾“å‡º true/false æ›´æ˜“è¯»</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt; // For std::boolalpha</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::boolalpha; <span class="comment">// è®¾ç½®è¾“å‡º bool å€¼ä¸º "true" æˆ– "false"</span></span><br><span class="line"></span><br><span class="line">    <span class="function">Square <span class="title">sq1</span><span class="params">(<span class="number">10.0</span>, <span class="string">"red"</span>)</span></span>; <span class="comment">// è¾¹é•¿10ï¼Œçº¢è‰²</span></span><br><span class="line">    <span class="function">Square <span class="title">sq2</span><span class="params">(<span class="number">20.0</span>)</span></span>;       <span class="comment">// è¾¹é•¿20ï¼Œé¢œè‰²ä½¿ç”¨é»˜è®¤å€¼ "black"</span></span><br><span class="line"></span><br><span class="line">    sq1.print_info();</span><br><span class="line">    sq2.print_info();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Is sq1 larger than sq2? "</span></span><br><span class="line">              &lt;&lt; compare_squares_by_surface(sq1, sq2) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°è¯•éšå¼è½¬æ¢ (å¦‚æœ Square æ„é€ å‡½æ•°æ²¡æœ‰ explicitï¼Œè¿™ä¼šé€šè¿‡)</span></span><br><span class="line">    <span class="comment">// ç”±äºæ„é€ å‡½æ•°æ˜¯ explicit çš„ï¼Œä¸‹é¢è¿™è¡Œä»£ç ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼š</span></span><br><span class="line">    <span class="comment">// std::cout &lt;&lt; "Is sq1 larger than 15.0 (implicitly converted)? "</span></span><br><span class="line">    <span class="comment">//           &lt;&lt; compare_squares_by_surface(sq1, 15.0) &lt;&lt; std::endl;</span></span><br><span class="line">    <span class="comment">// ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œä¾‹å¦‚ï¼š"no matching function for call to 'compare_squares_by_surface(Square&amp;, double)'"</span></span><br><span class="line">    <span class="comment">// æˆ–è€… "cannot convert 'double' to 'const Square&amp;'"</span></span><br><span class="line">    <span class="comment">// è¿™å¾ˆå¥½ï¼å®ƒé˜»æ­¢äº†æ½œåœ¨çš„é”™è¯¯ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæˆ‘ä»¬ç¡®å®æƒ³æ¯”è¾ƒ sq1 å’Œä¸€ä¸ªè¾¹é•¿ä¸º 15.0 çš„ä¸´æ—¶æ­£æ–¹å½¢ï¼Œå¿…é¡»æ˜¾å¼æ„é€ ï¼š</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Explicitly creating a temporary Square for comparison ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Is sq1 larger than a Square(15.0)? "</span></span><br><span class="line">              &lt;&lt; compare_squares_by_surface(sq1, Square(<span class="number">15.0</span>)) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// æ³¨æ„ä¸Šé¢ä¸€è¡Œä¸­ Square(15.0) çš„æ„é€ å’Œææ„è¾“å‡º</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- End of explicit temporary Square comparison ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦ä¸€ç§æ˜¾å¼åˆ›å»ºçš„æ–¹å¼</span></span><br><span class="line">    <span class="function">Square <span class="title">sq_temp</span><span class="params">(<span class="number">15.0</span>, <span class="string">"blue"</span>)</span></span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Is sq1 larger than sq_temp (15.0, blue)? "</span></span><br><span class="line">              &lt;&lt; compare_squares_by_surface(sq1, sq_temp) &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Main function ending. Objects will be destructed in reverse order of creation."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p><strong>ç¼–è¯‘å’Œè¿è¡ŒæŒ‡å— (å‡è®¾ä½¿ç”¨ g++)ï¼š</strong></p>
<ol>
<li>ä¿å­˜æ–‡ä»¶ï¼š<code>Square.h</code>, <code>Square.cpp</code>, <code>main.cpp</code> åˆ°åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚</li>
<li>æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤è¡Œã€‚</li>
<li>ç¼–è¯‘ï¼š<code>g++ main.cpp Square.cpp -o explicit_demo -std=c++11</code> (æˆ–æ›´é«˜ç‰ˆæœ¬å¦‚ <code>-std=c++17</code>)</li>
<li>è¿è¡Œï¼š<code>./explicit_demo</code></li>
</ol>
<p><strong>é¢„æœŸè¾“å‡º (å¤§è‡´å¦‚æ­¤ï¼Œæ„é€ /ææ„é¡ºåºå¯èƒ½å› ä¸´æ—¶å¯¹è±¡ç¨æœ‰ä¸åŒ)ï¼š</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Square(10, &quot;red&quot;) constructed.</span><br><span class="line">Square(20, &quot;black&quot;) constructed.</span><br><span class="line">Square Info: Side &#x3D; 10, Color &#x3D; red, Surface &#x3D; 100</span><br><span class="line">Square Info: Side &#x3D; 20, Color &#x3D; black, Surface &#x3D; 400</span><br><span class="line">Comparing s1 (surface 100) and s2 (surface 400)</span><br><span class="line">Is sq1 larger than sq2? false</span><br><span class="line"></span><br><span class="line">--- Explicitly creating a temporary Square for comparison ---</span><br><span class="line">Square(15, &quot;black&quot;) constructed.</span><br><span class="line">Comparing s1 (surface 100) and s2 (surface 225)</span><br><span class="line">Is sq1 larger than a Square(15.0)? false</span><br><span class="line">Square(15, &quot;black&quot;) destructed.</span><br><span class="line">--- End of explicit temporary Square comparison ---</span><br><span class="line"></span><br><span class="line">Square(15, &quot;blue&quot;) constructed.</span><br><span class="line">Comparing s1 (surface 100) and s2 (surface 225)</span><br><span class="line">Is sq1 larger than sq_temp (15.0, blue)? false</span><br><span class="line"></span><br><span class="line">Main function ending. Objects will be destructed in reverse order of creation.</span><br><span class="line">Square(15, &quot;blue&quot;) destructed.</span><br><span class="line">Square(20, &quot;black&quot;) destructed.</span><br><span class="line">Square(10, &quot;red&quot;) destructed.</span><br></pre></td></tr></table></figure></div><br>å¦‚æœä½ æŠŠ <code>Square.h</code> ä¸­çš„ <code>explicit Square(double side, const std::string&amp; color = &quot;black&quot;);</code> æ”¹ä¸º <code>Square(double side, const std::string&amp; color = &quot;black&quot;);</code> (å»æ‰ <code>explicit</code>)ï¼Œç„¶åå–æ¶ˆ <code>main.cpp</code> ä¸­é‚£æ®µè¢«æ³¨é‡Šæ‰çš„éšå¼è½¬æ¢ä»£ç çš„æ³¨é‡Šï¼Œä½ ä¼šå‘ç°ç¨‹åºå¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œå¹¶ä¸”ä¼šæœ‰ä¸€ä¸ªè¾¹é•¿ä¸º <code>15.0</code>ã€é¢œè‰²ä¸º <code>&quot;black&quot;</code> çš„ä¸´æ—¶ <code>Square</code> å¯¹è±¡è¢«åˆ›å»ºç”¨äºæ¯”è¾ƒã€‚</p>
<hr>
<h1 id="4-QA-é—ªå¡-QA-Flash-Cards"><a href="#4-QA-é—ªå¡-QA-Flash-Cards" class="headerlink" title="4. QA é—ªå¡ (QA Flash Cards)"></a>4. QA é—ªå¡ (QA Flash Cards)</h1><p><strong>Q1: ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ä¸­çš„éšå¼è½¬æ¢ (implicit conversion)ï¼Ÿ</strong><br>A1: å½“ä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥ç”¨å•ä¸ªå‚æ•°è°ƒç”¨æ—¶ï¼ˆæˆ–è€…å…¶ä»–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼‰ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªæ„é€ å‡½æ•°å°†è¯¥å‚æ•°ç±»å‹çš„å€¼è½¬æ¢ä¸ºç±»ç±»å‹çš„å¯¹è±¡ï¼Œè€Œæ— éœ€ç¨‹åºå‘˜æ˜¾å¼è¯·æ±‚ã€‚</p>
<p><strong>Q2: <code>explicit</code> å…³é”®å­—ç”¨åœ¨C++ä¸­çš„ä»€ä¹ˆåœ°æ–¹ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong><br>A2: <code>explicit</code> å…³é”®å­—ç”¨åœ¨ç±»çš„æ„é€ å‡½æ•°å£°æ˜ä¹‹å‰ã€‚å®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°ä¸èƒ½è¢«ç”¨äºéšå¼ç±»å‹è½¬æ¢ã€‚</p>
<p><strong>Q3: ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦é˜»æ­¢éšå¼è½¬æ¢ï¼Ÿ</strong><br>A3: ä¸ºäº†é¿å…å› ç¼–è¯‘å™¨è‡ªåŠ¨æ‰§è¡Œçš„ã€ç¨‹åºå‘˜å¯èƒ½æœªé¢„æ–™åˆ°çš„ç±»å‹è½¬æ¢è€Œå¯¼è‡´çš„æ½œåœ¨é€»è¾‘é”™è¯¯å’Œè¡Œä¸ºæ··æ·†ï¼Œä»è€Œæé«˜ä»£ç çš„æ¸…æ™°åº¦ã€å¯è¯»æ€§å’Œå®‰å…¨æ€§ã€‚</p>
<p><strong>Q4: å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°æœ‰å¤šä¸ªå‚æ•°ï¼Œ<code>explicit</code> è¿˜æœ‰ç”¨å—ï¼Ÿ</strong><br>A4: æœ‰ç”¨ï¼Œå‰ææ˜¯è¯¥æ„é€ å‡½æ•°çš„ç¬¬äºŒä¸ªåŠä»¥åçš„æ‰€æœ‰å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ã€‚è¿™æ ·ï¼Œå®ƒä»ç„¶å¯ä»¥ç”¨å•ä¸ªå‚æ•°è°ƒç”¨ï¼Œä»è€Œå¯èƒ½å‚ä¸éšå¼è½¬æ¢ã€‚<code>explicit</code> å¯ä»¥é˜»æ­¢è¿™ç§æƒ…å†µã€‚ä¾‹å¦‚ <code>explicit MyClass(int a, bool b = true, std::string s = &quot;&quot;);</code>ã€‚</p>
<p><strong>Q5: ä½¿ç”¨ <code>explicit</code> åï¼Œæˆ‘è¿˜èƒ½åˆ›å»ºå¯¹è±¡å—ï¼Ÿ</strong><br>A5: å½“ç„¶ï¼ä½ ä»ç„¶å¯ä»¥é€šè¿‡æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œä¾‹å¦‚ <code>Square s(10.0);</code> æˆ–è€… <code>Square s = Square(10.0);</code> (æ³¨æ„ï¼Œå¯¹äº <code>explicit</code> æ„é€ å‡½æ•°ï¼Œ<code>Square s = 10.0;</code> æ˜¯ä¸å…è®¸çš„ï¼Œä½† <code>Square s = Square(10.0);</code> æ˜¯æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°ç„¶åè¿›è¡Œæ‹·è´/ç§»åŠ¨åˆå§‹åŒ–ï¼Œè¿™æ˜¯å…è®¸çš„)ã€‚</p>
<hr>
<h1 id="5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"><a href="#5-å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯" class="headerlink" title="5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯"></a>5. å¸¸è§è¯¯è§£æˆ–æ˜“çŠ¯é”™è¯¯</h1><ol>
<li><p><strong>è¯¯è§£ï¼š<code>explicit</code> ä¼šç¦æ­¢æ‰€æœ‰ç±»å‹çš„è½¬æ¢ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong> <code>explicit</code> åªç¦æ­¢<strong>éšå¼</strong>è½¬æ¢ã€‚ä½ ä»ç„¶å¯ä»¥è¿›è¡Œ<strong>æ˜¾å¼</strong>è½¬æ¢ï¼Œä¾‹å¦‚ <code>Square(10.0)</code> æˆ– <code>static_cast&lt;Square&gt;(10.0)</code> (å°½ç®¡åè€…å¯¹äºæ„é€ å‡½æ•°ä¸å¸¸ç”¨)ã€‚</li>
</ul>
</li>
<li><p><strong>å¿˜è®°å¯¹â€œå®é™…ä¸Šâ€çš„å•å‚æ•°æ„é€ å‡½æ•°ä½¿ç”¨ <code>explicit</code>ã€‚</strong></p>
<ul>
<li><strong>æ˜“çŠ¯é”™è¯¯ï¼š</strong> æ„é€ å‡½æ•°å¦‚ <code>MyClass(int mandatory_param, std::string optional_param = &quot;default&quot;)</code> å¦‚æœæ²¡æœ‰ <code>explicit</code>ï¼Œä¾ç„¶å¯ä»¥ç”±ä¸€ä¸ª <code>int</code> å€¼éšå¼è½¬æ¢è€Œæ¥ï¼Œå› ä¸º <code>optional_param</code> æœ‰é»˜è®¤å€¼ã€‚å¾ˆå¤šåˆå­¦è€…å¯èƒ½åªå…³æ³¨ä¸¥æ ¼åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
</li>
<li><p><strong>ä¸ç†è§£éšå¼è½¬æ¢çš„æ½œåœ¨å±å®³ã€‚</strong></p>
<ul>
<li><strong>æ˜“çŠ¯é”™è¯¯ï¼š</strong> è®¤ä¸ºéšå¼è½¬æ¢æ€»æ˜¯æ–¹ä¾¿çš„ï¼Œè€Œå¿½ç•¥äº†å®ƒå¯èƒ½å¼•å…¥çš„ç»†å¾®çš„ã€éš¾ä»¥è°ƒè¯•çš„bugï¼Œæˆ–è€…ä½¿ä»£ç æ„å›¾å˜å¾—æ¨¡ç³Šã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæœŸæœ› <code>Angle</code> å¯¹è±¡çš„å‡½æ•°ï¼Œå¦‚æœ <code>Angle</code> æœ‰ä¸€ä¸ª <code>explicit Angle(double degrees);</code>ï¼Œé‚£ä¹ˆä¼ é€’ä¸€ä¸ª <code>double</code> å°±ä¼šæŠ¥é”™ã€‚å¦‚æœæ²¡æœ‰ <code>explicit</code>ï¼Œå®ƒå¯èƒ½ä¼šé»˜é»˜åœ°æŠŠ <code>double</code> å½“ä½œè§’åº¦å€¼åˆ›å»ºä¸€ä¸ª <code>Angle</code>ï¼Œè¿™å¯èƒ½ä¸æ˜¯è°ƒç”¨è€…çš„æœ¬æ„ã€‚</li>
</ul>
</li>
<li><p><strong>è¿‡åº¦ä½¿ç”¨æˆ–åœ¨ä¸å¿…è¦çš„åœ°æ–¹ä½¿ç”¨ <code>explicit</code>ã€‚</strong></p>
<ul>
<li><strong>è¯´æ˜ï¼š</strong> è™½ç„¶é€šå¸¸å»ºè®®ä½¿ç”¨ <code>explicit</code>ï¼Œä½†å¦‚æœä¸€ä¸ªç±»çš„è®¾è®¡ç¡®å®å°±æ˜¯ä¸ºäº†èƒ½å’ŒæŸç§åŸºç¡€ç±»å‹æ— ç¼ã€å®‰å…¨åœ°è¿›è¡Œéšå¼è½¬æ¢ï¼ˆä¾‹å¦‚ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²åŒ…è£…ç±»å¯èƒ½å¸Œæœ›ä» <code>const char*</code> éšå¼æ„é€ ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä¸ä½¿ç”¨ <code>explicit</code>ã€‚ä½†è¿™éœ€è¦ä»”ç»†è€ƒè™‘ã€‚å¯¹äºå¤§å¤šæ•°æƒ…å†µï¼Œç‰¹åˆ«æ˜¯å½“è½¬æ¢å¯èƒ½ä¸ç›´è§‚æˆ–æœ‰æ­§ä¹‰æ—¶ï¼Œ<code>explicit</code> æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚</li>
</ul>
</li>
<li><p><strong>æ··æ·† <code>explicit</code> æ„é€ å‡½æ•°å’Œæ‹·è´æ„é€ å‡½æ•°/èµ‹å€¼è¿ç®—ç¬¦ã€‚</strong></p>
<ul>
<li><strong>è¯´æ˜ï¼š</strong> <code>explicit</code> ä¸»è¦ç”¨äºæ§åˆ¶ä»å…¶ä»–ç±»å‹åˆ°ç±»ç±»å‹çš„è½¬æ¢å‹æ„é€ å‡½æ•°ã€‚å®ƒé€šå¸¸ä¸ç”¨äºï¼ˆä¹Ÿä¸åº”è¯¥ç”¨äºï¼‰æ‹·è´æ„é€ å‡½æ•°æˆ–ç§»åŠ¨æ„é€ å‡½æ•°ï¼Œå°½ç®¡åœ¨C++11ä¹‹åç†è®ºä¸Šå¯ä»¥ï¼Œä½†è¿™æ ·åšä¼šé˜»æ­¢å¾ˆå¤šè‡ªç„¶çš„æ‹·è´å’Œç§»åŠ¨åœºæ™¯ï¼Œé€šå¸¸ä¸æ˜¯æœŸæœ›çš„è¡Œä¸ºã€‚</li>
</ul>
</li>
<li><p><strong>è®¤ä¸º <code>Square s = 10.0;</code> å’Œ <code>Square s(10.0);</code> åœ¨æœ‰ <code>explicit</code> æ„é€ å‡½æ•°æ—¶è¡Œä¸ºä¸€è‡´ã€‚</strong></p>
<ul>
<li><strong>çº æ­£ï¼š</strong><ul>
<li><code>Square s(10.0);</code> æ˜¯ç›´æ¥åˆå§‹åŒ– (direct initialization)ï¼Œæ€»æ˜¯è°ƒç”¨æ„é€ å‡½æ•°ï¼Œå³ä½¿æ˜¯ <code>explicit</code> çš„ä¹Ÿå¯ä»¥ã€‚</li>
<li><code>Square s = 10.0;</code> æ˜¯æ‹·è´åˆå§‹åŒ– (copy initialization)ã€‚å®ƒé¦–å…ˆå°è¯•å°† <code>10.0</code> éšå¼è½¬æ¢ä¸º <code>Square</code> ç±»å‹ï¼ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼‰ï¼Œç„¶åç”¨è¿™ä¸ªä¸´æ—¶å¯¹è±¡æ‹·è´ï¼ˆæˆ–ç§»åŠ¨ï¼‰åˆå§‹åŒ– <code>s</code>ã€‚å¦‚æœæ„é€ å‡½æ•°æ˜¯ <code>explicit</code>ï¼Œç¬¬ä¸€æ­¥çš„éšå¼è½¬æ¢å°±ä¼šå¤±è´¥ã€‚</li>
<li>ä½†æ˜¯ï¼Œ<code>Square s = Square(10.0);</code> ä¹Ÿæ˜¯æ‹·è´åˆå§‹åŒ–ï¼Œä½†å› ä¸º <code>Square(10.0)</code> æ˜¯æ˜¾å¼æ„é€ ï¼Œæ‰€ä»¥è¿™æ˜¯å…è®¸çš„ï¼ˆå°½ç®¡ç°ä»£ç¼–è¯‘å™¨é€šå¸¸ä¼šä¼˜åŒ–æ‰è¿™ä¸ªæ‹·è´ï¼Œç›´æ¥åœ¨ <code>s</code> çš„ä½ç½®æ„é€ ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ol>
<hr>
<h1 id="6-ç¼–ç ç»ƒä¹ "><a href="#6-ç¼–ç ç»ƒä¹ " class="headerlink" title="6. ç¼–ç ç»ƒä¹ "></a>6. ç¼–ç ç»ƒä¹ </h1><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ <code>Distance</code> ç±»ï¼Œå®ƒæœ‰ä¸€ä¸ªæ¥å— <code>double</code> ç±»å‹ï¼ˆè¡¨ç¤ºç±³ï¼‰çš„æ„é€ å‡½æ•°ã€‚å½“å‰ï¼Œå®ƒå¯ä»¥ä» <code>double</code> éšå¼è½¬æ¢ã€‚</p>
<p>ä½ çš„ä»»åŠ¡æ˜¯ï¼šä¿®æ”¹è¿™ä¸ªç±»ï¼Œä½¿å¾—å®ƒä¸èƒ½ä» <code>double</code> å€¼éšå¼è½¬æ¢ï¼Œä½†ä»ç„¶å¯ä»¥é€šè¿‡æ˜¾å¼è°ƒç”¨æ„é€ å‡½æ•°æ¥åˆ›å»º <code>Distance</code> å¯¹è±¡ã€‚</p>
<p><strong><code>Distance.h</code></strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> DISTANCE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DISTANCE_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Distance</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_meters;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> åœ¨ä¸‹ä¸€è¡Œåˆé€‚çš„ä½ç½®æ·»åŠ ä¸€ä¸ªå…³é”®å­—ï¼Œä»¥é˜²æ­¢éšå¼è½¬æ¢</span></span><br><span class="line">    Distance(<span class="keyword">double</span> meters) : m_meters(meters) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Distance of "</span> &lt;&lt; m_meters &lt;&lt; <span class="string">"m created."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_distance</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Distance is: "</span> &lt;&lt; m_meters &lt;&lt; <span class="string">" meters."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»…ä¸ºæ¼”ç¤ºéšå¼è½¬æ¢çš„å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">display_length_implicitly</span><span class="params">(Distance d)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Implicitly displayed: "</span>;</span><br><span class="line">        d.print_distance();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">display_length_explicitly</span><span class="params">(<span class="keyword">const</span> Distance&amp; d)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Explicitly displayed: "</span>;</span><br><span class="line">        d.print_distance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// DISTANCE_H</span></span></span><br></pre></td></tr></table></figure></div></p>
<p><strong><code>main.cpp</code> (åœ¨ä½ ä¿®æ”¹ <code>Distance.h</code> åï¼Œè¿™ä¸ª <code>main</code> å‡½æ•°ä¸­çš„æŸä¸€è¡Œåº”è¯¥ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯)</strong><br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Distance.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Distance <span class="title">d1</span><span class="params">(<span class="number">100.5</span>)</span></span>; <span class="comment">// æ˜¾å¼æ„é€ ï¼Œæ€»æ˜¯å¯ä»¥çš„</span></span><br><span class="line">    d1.print_distance();</span><br><span class="line"></span><br><span class="line">    Distance d2 = <span class="number">200.75</span>; <span class="comment">// æ‹·è´åˆå§‹åŒ–ï¼Œç›®å‰ä¼šå‘ç”Ÿéšå¼è½¬æ¢</span></span><br><span class="line">    d2.print_distance();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Trying implicit conversion in function call ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// ä¸‹é¢è¿™è¡Œè°ƒç”¨ä¾èµ–äºä» doubleåˆ° Distance çš„éšå¼è½¬æ¢</span></span><br><span class="line">    <span class="comment">// åœ¨ä½ ä¿®æ”¹ Distance.h ä¹‹åï¼Œè¿™è¡Œåº”è¯¥ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    Distance::display_length_implicitly(<span class="number">300.0</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- End of implicit conversion test ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- Trying explicit conversion in function call ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// è¿™ç§æ–¹å¼æ€»æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¾å¼åˆ›å»ºäº† Distance å¯¹è±¡</span></span><br><span class="line">    Distance::display_length_explicitly(Distance(<span class="number">400.25</span>));</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- End of explicit conversion test ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœä½ æƒ³è®© display_length_implicitly åœ¨ä¿®æ”¹åä¹Ÿèƒ½å·¥ä½œï¼Œä½ éœ€è¦è¿™æ ·åšï¼š</span></span><br><span class="line">    <span class="comment">// Distance::display_length_implicitly(Distance(300.0));</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
<p>è¯·ä½ æ€è€ƒä¸€ä¸‹ï¼Œåº”è¯¥åœ¨ <code>Distance.h</code> çš„ <code>// TODO:</code> ä¸‹ä¸€è¡Œæ·»åŠ å“ªä¸ªå…³é”®å­—ï¼Ÿç„¶åå°è¯•ç¼–è¯‘å¹¶è§‚å¯Ÿç»“æœã€‚</p>
<hr>
<p>ç­‰ä½ å‡†å¤‡å¥½åï¼Œè¯·å‘Šè¯‰æˆ‘ä½ çš„ç­”æ¡ˆï¼ˆä½ æ·»åŠ çš„å…³é”®å­—ï¼‰ï¼Œæˆ–è€…å¦‚æœä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œéšæ—¶æå‡ºï¼æˆ‘ä¼šåœ¨è¿™é‡ŒæŒ‡å¯¼ä½ ã€‚</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Function/">Function    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Programming/">Programming    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/297%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/296%20-%20%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£/" title="312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/323 - cppé™æ€æˆå‘˜å‡½æ•°/" title="323 - cppé™æ€æˆå‘˜å‡½æ•°"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">323 - cppé™æ€æˆå‘˜å‡½æ•°</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/321 - ç±»å†…å˜é‡è‡ªå¼•ç”¨/" title="321 - ç±»å†…å˜é‡è‡ªå¼•ç”¨"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">321 - ç±»å†…å˜é‡è‡ªå¼•ç”¨</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/301 - æ‹·è´æ„é€ å‡½æ•°æ·±æ‹·è´/" title="301 - æ‹·è´æ„é€ å‡½æ•°æ·±æ‹·è´"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">301 - æ‹·è´æ„é€ å‡½æ•°æ·±æ‹·è´</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/return type for lambda function template/" title="return type for lambda function template"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">return type for lambda function template</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/259 - Auto Function Templates/" title="259 - Auto Function Templates"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">259 - Auto Function Templates</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>