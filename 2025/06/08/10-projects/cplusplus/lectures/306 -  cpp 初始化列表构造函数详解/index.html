<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£ | Bear's dream</title><meta name="description" content="306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><meta name="keywords" content="Cpp,Coding,Tutorial,Class,Constructor"><meta name="author" content="supersheepbear"><meta name="copyright" content="supersheepbear"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon_1.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="p43hXBn3_dLvbyxUzx0eo5eYmj9OVYOV52pdrhBa2sw"><meta name="baidu-site-verification" content="EXLlfLv2pV"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><meta name="twitter:description" content="306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta property="og:type" content="article"><meta property="og:title" content="306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><meta property="og:url" content="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/306%20-%20%20cpp%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/"><meta property="og:site_name" content="Bear's dream"><meta property="og:description" content="306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/306%20-%20%20cpp%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/"><link rel="prev" title="312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/312%20-%20cpp%20%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/"><link rel="next" title="319 - Class Const" href="https://yxiong.org/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><link rel="stylesheet" href="hfttps://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Bear's dream" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Bear's dream</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200520153141.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">178</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">160</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">23</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> éŸ³ä¹ç…§ç‰‡</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fa fa-picture-o"></i><span> ç…§ç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fa fa-coffee"></i><span> ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å­¦ä¹ è®¡åˆ’</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">## C++ åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#C-èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer-List-Constructors-for-Aggregatesï¼‰"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">C++ èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer List Constructors for Aggregatesï¼‰</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#1-ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">1. ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#2-è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd-initializer-list"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">2. è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd::initializer_list</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#3-å¦‚ä½•è®¿é—®-std-initializer-list-ä¸­çš„å…ƒç´ ï¼Ÿ"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">3. å¦‚ä½•è®¿é—® std::initializer_list ä¸­çš„å…ƒç´ ï¼Ÿ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-QA-é—ªå­˜å¡ï¼ˆQA-Flash-Cardsï¼‰"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">4. QA é—ªå­˜å¡ï¼ˆQA Flash Cardsï¼‰</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#5-å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon-Misunderstandings-or-Mistakesï¼‰"><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">5. å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon Misunderstandings or Mistakesï¼‰</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#6-ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding-Exerciseï¼‰"><span class="toc_mobile_items-number">2.6.</span> <span class="toc_mobile_items-text">6. ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding Exerciseï¼‰</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc_mobile_items-number">2.7.</span> <span class="toc_mobile_items-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ğŸ¤–-Assistant-1"><span class="toc_mobile_items-number">2.8.</span> <span class="toc_mobile_items-text">ğŸ¤– Assistant</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#7-è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š"><span class="toc_mobile_items-number">2.9.</span> <span class="toc_mobile_items-text">7. è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#è§£å†³æ–¹æ¡ˆè¯„åˆ†"><span class="toc_mobile_items-number">2.9.1.</span> <span class="toc_mobile_items-text">è§£å†³æ–¹æ¡ˆè¯„åˆ†</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#å®é™…ç­”æ¡ˆå’Œè§£é‡Š"><span class="toc_mobile_items-number">2.9.2.</span> <span class="toc_mobile_items-text">å®é™…ç­”æ¡ˆå’Œè§£é‡Š</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#8-æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended-Questions-and-Suggestionsï¼‰"><span class="toc_mobile_items-number">2.10.</span> <span class="toc_mobile_items-text">8. æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended Questions and Suggestionsï¼‰</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C-åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><span class="toc-number">1.</span> <span class="toc-text">## C++ åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer-List-Constructors-for-Aggregatesï¼‰"><span class="toc-number">2.</span> <span class="toc-text">C++ èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer List Constructors for Aggregatesï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ"><span class="toc-number">2.1.</span> <span class="toc-text">1. ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd-initializer-list"><span class="toc-number">2.2.</span> <span class="toc-text">2. è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd::initializer_list</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-å¦‚ä½•è®¿é—®-std-initializer-list-ä¸­çš„å…ƒç´ ï¼Ÿ"><span class="toc-number">2.3.</span> <span class="toc-text">3. å¦‚ä½•è®¿é—® std::initializer_list ä¸­çš„å…ƒç´ ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-QA-é—ªå­˜å¡ï¼ˆQA-Flash-Cardsï¼‰"><span class="toc-number">2.4.</span> <span class="toc-text">4. QA é—ªå­˜å¡ï¼ˆQA Flash Cardsï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon-Misunderstandings-or-Mistakesï¼‰"><span class="toc-number">2.5.</span> <span class="toc-text">5. å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon Misunderstandings or Mistakesï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding-Exerciseï¼‰"><span class="toc-number">2.6.</span> <span class="toc-text">6. ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding Exerciseï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§‘â€ğŸ’»-User-1"><span class="toc-number">2.7.</span> <span class="toc-text">ğŸ§‘â€ğŸ’» User</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ¤–-Assistant-1"><span class="toc-number">2.8.</span> <span class="toc-text">ğŸ¤– Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š"><span class="toc-number">2.9.</span> <span class="toc-text">7. è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è§£å†³æ–¹æ¡ˆè¯„åˆ†"><span class="toc-number">2.9.1.</span> <span class="toc-text">è§£å†³æ–¹æ¡ˆè¯„åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®é™…ç­”æ¡ˆå’Œè§£é‡Š"><span class="toc-number">2.9.2.</span> <span class="toc-text">å®é™…ç­”æ¡ˆå’Œè§£é‡Š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended-Questions-and-Suggestionsï¼‰"><span class="toc-number">2.10.</span> <span class="toc-text">8. æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended Questions and Suggestionsï¼‰</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)"><div id="post-info"><div id="post-title"><div class="posttitle">306 -  cpp åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2025-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2025-06-08</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/">10-projects</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/">cplusplus</a><i class="fa fa-angle-right fa-fw" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/10-projects/cplusplus/lectures/">lectures</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span><span class="post-meta__separator">|</span><i class="fa fa-comments-o post-meta__icon fa-fw" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2025/06/08/10-projects/cplusplus/lectures/306%20-%20%20cpp%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2025/06/08/10-projects/cplusplus/lectures/306%20-%20%20cpp%20%E5%88%9D%E5%A7%8B%E5%8C%96%E5%88%97%E8%A1%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/" itemprop="commentCount"></span></a></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="C-åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"><a href="#C-åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£" class="headerlink" title="## C++ åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£"></a>## C++ åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°è¯¦è§£</h1><h2 id="ğŸ§‘â€ğŸ’»-User"><a href="#ğŸ§‘â€ğŸ’»-User" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><p>In this lecture, weâ€™re going to learn about initializer list constructors, and these are constructorsthat are used to initialize what we call aggregates in C plus plus and aggregates are really some kindsof containers and they are special containers in C plus plus and this special kind of containers thatcan contain stuff.For example, you see that we have an outer container which contains some little boxes in here and itis a representation of an aggregate in C plus plus.It is basically something that is going to aggregate a lot of little things together, but itâ€™s notevery container in C plus plus there is a nuanced definition of aggregates, but for now you can thinkof an aggregate as just a container of things.And from the containers we have seen so far, an array is an aggregate and a struct which only has publicmember variables is also an aggregate.So all these aggregates can use a unified syntax to initialize them.For example, we can use the curly braces syntax here to initialize and put data in our container here.And when the compiler sees your initializer here, it knows how to generate the tools it will use toput this data in your container here.So, for example, it might choose to put one in this little box.It might choose to put two in this little box.It might choose to put three in this little box.It might choose to put four in this little box.And whatever we have after this is going to be put in sequential boxes that we have in our box containerhere.This is what a list initializer constructor is going to do.Itâ€™s going to be used by the compiler to take the data from our initializer here and put that in ouraggregate compound type.And at this point in the course we really know about to aggregate compound types, we have seen thatstruct is one type of aggregate and an array is also another type of aggregate.So weâ€™re going to see how we can use an initializer list constructor with a struct because an arrayis really a built in type.We canâ€™t mess with that and set up another way to initialize it.So weâ€™re going to do this only for the struct in this course to let you learn about initializer listconstructors.Okay.So here is a simple struct weâ€™re going to use.Itâ€™s going to be a point struct.It is going to be modeling a point.Inside we have two member variables.We have double X and double y and they are going to be public because we are using a structure.Members of a struct are public by default here.So we can set up a syntax like this to try and initialize this little guy and weâ€™re going to see thatthis syntax is going to work even if we didnâ€™t do anything to make this work.And what the compiler is going to do behind the scenes, itâ€™s going to generate an initializer listconstructor and itâ€™s going to use it to take the data from our curly braces here and store that in ourpoint object.So it is basically to take the first parameter here and store that in X and it is going to take thesecond parameter and store that in Y here.But sometimes you need to change the behavior of this initializer list constructors and weâ€™re goingto see how we can set up our own and let to do exactly what we want.And here is a simple example of how you can do that in initializer List constructor is going to takethis form here.Itâ€™s going to have the name of the constructor, which is the name of the class.But our parameter list is going to take an STD initializer list, which is going to be an instance ofa template class.We havenâ€™t really learned about class templates, but please think about STD initializer list here asan instance of a class template and you see that we initialize this for double because we know thatour class is going to contain double member variables.So these two things have to match the type of your member variables, has to match the type that youpass in your STD initializer list.Instance.Once you have this initializer list parameter, the compiler is going to take what you call in yourmain function and use that to create an STD initializer list object.So what is going to basically happen is if we issue a call like this, the compiler is going to noticethat we are using an initializer list here and it is going to grab whatever we have here and it is goingto call our initializer List constructor.So it is going to create a parameter that it is going to pass to that constructor.And the parameter happens to be an STD initializer list, which is going to be an instance for doubletype.So this is what weâ€™re going to have here.So the compiler is so the compiler is going to take the first parameter and put that in the first spotfor our initializer list here.And itâ€™s going to take the second parameter.And put that in the second spot in our STD initializer list.Instance object here.Okay, so now that we have the data, we need to grab the data and use that in our object and weâ€™regoing to use a concept we havenâ€™t really learnt about to do this.Weâ€™re going to use what we call iterators, but we havenâ€™t learnt about them because we donâ€™t have enoughtools to understand them fully yet.But I am going to try and help you understand this.Think of the begin function We call on our initializer list here as a function that is going to giveyou the starting pointer in our collection.So Begin is basically going to be a pointer to the first element in our initializer list here, andend is going to be a pointer past the last element in our initializer list here.So letâ€™s say that Begin is going to be a pointer to the start of our list.Itâ€™s going to be a pointer to the first element in the list and end is going to be a pointer past thelast element in our initializer list here.So itâ€™s not going to point to 45.3 here.Itâ€™s going to point past the last element.So itâ€™s going to point to the spot past the last element in our initializer list here.So hopefully you have an understanding of what begin and end here are.So weâ€™re going to use this information to our advantage in this loop here.So weâ€™re going to use this to our advantage in this for loop, weâ€™re going to say for auto I, the beginningis going to be the beginning pointer and weâ€™re going to keep looping as long as our pointer is not theend pointer and as long as we have a valid pointer, weâ€™re going to keep incrementing.And if we increment for the first iteration, weâ€™re going to grab the first element in our initializerlist.And for the second iteration weâ€™re going to grab the second element.And once we hit the third iteration, weâ€™re going to be basically at the end of our list and we willstop printing stuff here so we can use this syntax and print information that we have in our initializerlist.And notice that what we use inside our body is the dereferencing operator to dereference this pointerand get to what is pointed to by this iterator pointer here.Okay.So now that we have this, we can even use pointer arithmetic notation to grab data from our iterator.So for example, we can grab what is pointed to by the begin pointer using the syntax here and we cangrab the second element using the syntax here, using pointer arithmetic on our begin pointer here andwe can do this and weâ€™re going to be using this to our advantage to grab data that we store in our membervariables here.So please take a look at our Initializer List constructor here and see what we are doing.We are grabbing data from our initializer list parameter and then the first thing is going to be usedto initialize the x member variable.And the second thing is going to be used to initialize our y member variable.And with this we have successfully grabbed the data from our initializer list and used that to initializeour member variables.This is how you can set this up and realize the begin thing can throw you off a little bit.But please think of this as a pointer to the beginning element in your initializer list collection.Once you understand this like this, you will be able to use your initializer list constructors withouta problem.Okay, Now that you know this, weâ€™re going to head over to Visual Studio code and try this out.Okay.Here we are in our working folder.The current project is Initializer List Constructors.Weâ€™re going to grab our template files and weâ€™re going to put them in place and we are going to openthis in Visual Studio code by dragging and dropping here, This is going to open our folder and weâ€™regoing to close the sidebar here and clean up a little bit.Weâ€™re going to set up a struct which is going to be our sandbox.So letâ€™s say that it is going to be a point struct and inside weâ€™re going to have two member variables.Weâ€™re going to have a double variable for x, the x coordinate of our point and weâ€™re going to havea double variable for our Y coordinate here and weâ€™re going to set up a function which is going to printour point easily.So letâ€™s put a semicolon after here and weâ€™re going to say void print point and weâ€™re going to takethe point by const reference and weâ€™re going to print it out with Stdcout.Weâ€™re going to say Stdcout, weâ€™re going to say point and weâ€™re going to grab its X, coordinate andprint that out.Weâ€™re going to say p x here and weâ€™re going to grab the Y coordinate and print that out as well.Weâ€™re going to say p y.Think we can save that and then weâ€™re going to.Close this off with a square bracket and then weâ€™re going to put our new line character.This is going to do.Now that we have this, we can set up a point in the main function and weâ€™re going to do that like this.Weâ€™re going to say point P one and we are going to use a curly brace, aggregate initializer.So weâ€™re going to use this syntax here and weâ€™re going to put data in our point.Weâ€™re going to put in a few arguments, letâ€™s say 22.4 and 65.4.We can really put in anything.We just want to see that the data we specify here is going to end up in the object.And after we set up the object, weâ€™re going to print the information in here.So weâ€™re going to say print point and weâ€™re going to pass our P one point and see what happens here.Letâ€™s bolt.Weâ€™re going to use JK to do this.Youâ€™re going to see the world is going to be good and weâ€™re going to clear and run.Rooster Youâ€™re going to see that we have our point here.And notice that this syntax is working.Even if we didnâ€™t really set up any constructor to make this work.So how is this working?Well, the compiler is generating an initializer list constructor behind your back, and that initializerlist constructor is taking the data here and using some magic to take the data and put that in thismember variables.And when you get to use your object, for example, by printing it out here, youâ€™re going to see thatthe data here has ended up in this p one object.What the initializer list is going to do by default is to take the first thing here and use that toinitialize X like this.And then itâ€™s going to take the second thing you specify here and use that to initialize y like this.Or I should say this is what the initializer list constructor that is generated by the compiler is goingto do by default.If we want to see this happening, for example, through a debugger or we want to change this defaultbehavior, for example, we want to use the first thing to initialize y and the second thing to initializeX.Suppose you want that for your application.You will need to set up your own initializer list constructor and weâ€™re going to do that in our structhere.So the way weâ€™re going to do that, weâ€™re going to modify our structure a little bit and weâ€™re goingto put in our member variables.For example, we can make this two guys private and letâ€™s bring this to the left a little bit, andweâ€™re going to put in a public section.And please note that this is just a preference.If you want, you can leave them as public.But I like to keep my member variables private unless I have a compelling reason not to do so.So weâ€™re going to put in our initializer list constructor.Itâ€™s going to be called Point like any other constructor, and then itâ€™s going to take an initializerlist parameter.And this is going to be a template instance for double for the initializer list class template we havein the C plus plus standard library.So this is something that is built in and we just want to use this here.So weâ€™re going to call this list and then weâ€™re going to put a body which is going to be used to passthis list and grab the data and put that in our member variables here, letâ€™s say list properly.Okay.So in this list, weâ€™re going to do things step by step.What we want to do is to put a message out that this constructor was actually called.So weâ€™re going to say initializer list called or constructor called and weâ€™re going to put this out.Okay.So letâ€™s see that this is actually the case.And now you see that because we have made our member variables private, we no longer have access tothem, but we can take this function and make it part of our class here because we can do that.So letâ€™s grab this and weâ€™re going to make it a public function in our point class.Weâ€™re going to modify it a little bit.Weâ€™re going to take out the parameters here because we donâ€™t need this and weâ€™re going to make it acast member function because itâ€™s not going to be modifying our class here and weâ€™re going to printX and Y directly, and this is going to do what we want.Weâ€™re going to get rid of this squiggly lines and what we need to do to print our object.We donâ€™t need to call this guy directly like this.We can say p one and print info or print point and it is going to print our point here.But it doesnâ€™t make to call this function yet because we havenâ€™t really put in any data.So letâ€™s just make it a member for now and weâ€™re going to use it later.Letâ€™s take this call out and we want to see if our Initializer List constructor was called.Thatâ€™s what we want to see here.So letâ€™s build our program.But before we do that, weâ€™re going to clean up a little bit because now itâ€™s ugly.Letâ€™s build.With Jake.Weâ€™re going to see that the world is going to be good.So our constructor here must be valid and good.We can clear and run, Rooster.Weâ€™re going to see that the Initializer List constructor is called.So this is a step forward.Now that this guy is being called, we need to grab the data from the inside.Letâ€™s see some initial things we can do on this list here.So the first thing we can do is print its size.We can print that out and say list size, and we can say list size.We can call the size method on this.And it is going to give us however many elements we have in our list here that was passed to us as aresult of the call here.Letâ€™s build and run and see the size it should be.Two because we have two elements in our initializer here.So letâ€™s clear and run Rooster.Youâ€™re going to see that the list size is two.And if you pass in more than two elements, the initializer list is going to take that.So letâ€™s put in a 5.9, a 6.7 or 8 and a 4.3 here.This is going to do and youâ€™re going to see that this is going to take it even if we have only two membervariables and the compiler trusts that we know what to do with the data that we are taking here becausewe built our own initializer list constructor.So if we print the size, we should see however many elements we have in here and I think it is fiveelements one, two, three, four, five.We should see a five printed out.So letâ€™s build this and weâ€™re going to clear and run Rooster.And you see that we have five elements.We are able to grab our data in our initializer and use that in our constructor here.This is pretty powerful.Okay, So now that we have this, we want to grab the first and second element because thatâ€™s what wewant to use to initialize our member variables here.To do this, we will have to use the begin pointer.Thatâ€™s the list type here has.And to play with this, letâ€™s do this.Weâ€™re going to print the first element.Weâ€™re going to save this and then weâ€™re going to dereference the begin pointer.So weâ€™re going to dereference and say list and call the begin method and this is going to dereferencethe pointer to the first element in the list here and itâ€™s going to give us the value in there.So what we will get here in this case is 22.4 here, print it out.Letâ€™s put in a new line character and weâ€™re going to print this.Letâ€™s build with GCC and weâ€™re going to see our first element printed out.The build is good so we can run this.Letâ€™s clear and run Rooster.Weâ€™re going to see that the first element is this guy here.We can even grab the second element.This is cool, right?So we can do stdcout and weâ€™re going to say second element and weâ€™re going to grab that.So weâ€™re going to dereference the second element and weâ€™re going to use Pointer arithmetic on this pointerhere.So we can say list begin and add one to that pointer.This is going to move us to the next spot.If we do this and print this out, weâ€™re going to grab the second element and thatâ€™s going to be 65.4here.Letâ€™s build and see that this is actually the case.So the world is good.We can clear and run.Rooster You see that 65.4 is our second element.We can even go on and keep printing stuff we have in our initializer.So for example, we can use the for loop.Letâ€™s use that so we can do something like for size T and say I and initialize this to zero and weâ€™regoing to keep looping as long as I is less than the size of our list.So weâ€™re going to say I less than list size and then weâ€™re going to increment, weâ€™re going to put inour incrementing part, then weâ€™re going to hit the body and then weâ€™re going to print the element ata given index in this initializer list here.So weâ€™re going to say stdcout and say element at index.Weâ€™re going to say the index.Letâ€™s put I here and then weâ€™re going to put a square bracket and weâ€™re going to say which element itis and weâ€™re going to use the pointer arithmetic notation.Weâ€™re going to Dereference and say list begin and weâ€™re going to add the current iteration we are at.So weâ€™re going to add I here and I think this is going to work.This is really cool, right?So weâ€™re going to print all the elements that we have in our initializer, but notice that weâ€™re goingto do that using a loop in the body of our Initializer List constructor.This is really cool.You canâ€™t tell how excited I was when I learned about this.Letâ€™s go out and see this working.Weâ€™re going to build with GCC.The build is good.We can clear.And run Rooster.Weâ€™re going to see that we have our elements in our initializer list here.We have from 22.4 that we have here, all the way to 4.3, which is the last element.And this is completely dynamic.If we change and put in more elements, letâ€™s put in a 5.6 and do a 9.3 and do a 4.3.Letâ€™s build and run and weâ€™re going to see that the list here is going to grow dynamically.Notice that we didnâ€™t need to change a thing and the body of our constructor here, we are able to grabour initializers and use them to do stuff.So letâ€™s build and really show you this.Weâ€™re going to use GCC to do this, so letâ€™s clear and run Rooster.Weâ€™re going to see that we are grabbing everything here.Eight elements from 0 to 7 and the last one is 4.3 here.This is really cool.So now that we know how to do this, we can use this to our advantage and grab the first element anduse that to initialize our member variable X and use the second element to initialize the second element,which is Y.Here, letâ€™s do that.Weâ€™re going to comment all this out because I donâ€™t want to take this out.I think it is really cool.So letâ€™s keep this down in here in case you need to use this as a reference.And weâ€™re just going to grab the first element and store that in our X member variable.So weâ€™re going to dereference the begin pointer.Weâ€™re going to say list begin and thatâ€™s going to be our first element and weâ€™re going to store thatin X, Weâ€™re going to grab the second element and store that in our Y member variable.Letâ€™s do this and weâ€™re going to use pointer arithmetic because I think it is good weâ€™re going to addone because thatâ€™s going to be the second element.The element at index one is going to be what we want, which is going to be 65.4 here and weâ€™re goingto use that to initialize our Y member variable.So by this point, if we go down and print information about P one, weâ€™re going to say print point.We should see all the member variables printed out.Weâ€™re going to print what we have in X and weâ€™re going to print what we have in Y, and youâ€™re goingto see that it is the two pieces of data we have in the first spot and the second spot in our initializerhere.Letâ€™s build and run.And youâ€™re going to see this.Weâ€™re going to use GCC, as always.You see, the build is good.Weâ€™re going to clear and run Rooster.You see that?Our point is really working and it is exactly what we saw with the default initializer list that wasgenerated by the compiler for us.But now we have our own initializer list constructor and we can really make it do whatever we want.For example, we can flip all these two things and make X take the second element and we can do this.So if this makes sense for whatever application you are designing, please use this to your advantage.You already know how to do this.So if you look at this, youâ€™re going to see that what we pass in here 22 is going to be used to initializeour Y member variable.So you can really customize how your initializer list constructors work.Letâ€™s take this back to X and Y because I think what we just did is confusing, but hopefully this provesthat you can do all kinds of crazy things in your initializer list.Constructors.Okay.Before I let you go, letâ€™s add some safety mechanism on our point class here and throw a compiler error.If people really pass more than two elements in our initializer list here because we donâ€™t really wantmore.This is a point.And the point is going to have two member variables, and thatâ€™s what we want to take from this here.No more, no less.We just want two elements in our initializer here.We can enforce this by using a staticassert.We already know that.So what we can do, I think some of you are going to believe this can work is use a staticassert.But I hate to break to you.This is not going to work as you see here, because the size of our list is the runtime thing.It is something that is known at runtime when somebody initializes your object.So we canâ€™t use this at compile time.It is not a constant expression.What we really need to use is something that works at runtime.So weâ€™re going to use an assert.I donâ€™t think we have seen what an assert is, but it is a mechanism.We have to check for things at runtime and if our check fails, weâ€™re going to throw a compiler error.Letâ€™s do that.Weâ€™re going to include a utility which is going to allow us to do that.So weâ€™re going to include C assert and it is a library that is going to give us access to what we areabout to use and what weâ€™re going to do is.A version of the Staticassert here, but it is going to be a runtime thing which is going to be evaluatedwhen your application is running.So weâ€™re going to say assert.We can save that and inside weâ€™re going to put in our assert expression here.So weâ€™re going to basically be checking if the size of the list is two.If itâ€™s not two, weâ€™re going to throw a compiler error and weâ€™re going to try and build our programhere.Weâ€™re going to see our compiler error.Weâ€™re not going to get a compiler error, but weâ€™re going to get a runtime error when our code startsto run.So I have to correct this.Sorry, I was wrong about this.So weâ€™re going to clear and run Rooster, and if we try to run it, youâ€™re going to see that our programcrashed and it is telling us what is wrong here.It is saying list size equal to.So this has failed and it is going to tell us where this actually failed in our program.So, for example, we can go in our code and see the main CPP file and itâ€™s going to give us the linenumber.And this is really cool.So we can go back there and look in the main CPP file, look at line eight and see what failed and wewill know that we have passed more than what is needed in this initializer here.If we change this to two elements, our code is going to build and do what we want.But note that this assert is going to check for things at runtime.When your application is running, letâ€™s build and run.Youâ€™re going to see that this is going to work.If we pass less than two elements, weâ€™re going to fail at runtime.So letâ€™s build again.Youâ€™re going to see that the build is good.We can clear and run.Rooster and assertion is going to fail.The list size should be two and we only have one element in and our program is going to basically crashhere at line eight.We should fix this problem in our class.Weâ€™re going to look at this assert and weâ€™re going to say if the size of the list is not two, weâ€™renot throwing a compiler error.We are going to terminate the program with an error.Letâ€™s say that I think this is more descriptive for this.So weâ€™re going to see the problem here and weâ€™re going to fix it and put in two elements.Letâ€™s put in 34.9.Why not?And weâ€™re going to build and this is going to work.Now, this is pretty cool.Letâ€™s clear and run, Rooster.Weâ€™re going to see that we have our data in here.This is really all we set out to do in this lecture.Hopefully, you know that you can use initializer list constructors to your advantage.We are going to stop here in this lecture.In the next one, weâ€™re going to learn about aggregate initialization.Go ahead and finish up here and and meet me there.</p>
<hr>
<h2 id="ğŸ¤–-Assistant"><a href="#ğŸ¤–-Assistant" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><h1 id="C-èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer-List-Constructors-for-Aggregatesï¼‰"><a href="#C-èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer-List-Constructors-for-Aggregatesï¼‰" class="headerlink" title="C++ èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer List Constructors for Aggregatesï¼‰"></a>C++ èšåˆä½“çš„å¤§æ‹¬å·åˆå§‹åŒ–ä¸è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼ˆInitializer List Constructors for Aggregatesï¼‰</h1><p><strong>ç®€ä»‹ï¼š</strong> æœ¬èŠ‚è¯¾æˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ C++ä¸­ç”¨äºåˆå§‹åŒ–<a href="aggregate">èšåˆä½“</a>çš„ç‰¹æ®Šæ„é€ å‡½æ•°â€”â€”<a href="initializer list constructors">åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>ã€‚æˆ‘ä»¬å°†æ¢è®¨èšåˆä½“çš„æ¦‚å¿µï¼Œç¼–è¯‘å™¨å¦‚ä½•é»˜è®¤æ”¯æŒè¿™ç§åˆå§‹åŒ–ï¼Œä»¥åŠå¦‚ä½•ç¼–å†™è‡ªå·±çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°æ¥å®šåˆ¶è¡Œä¸ºå¹¶è¿›è¡Œè¿è¡Œæ—¶æ£€æŸ¥ã€‚</p>
<hr>
<h2 id="1-ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯èšåˆä½“ï¼ˆAggregatesï¼‰ï¼Ÿä»¥åŠä¸ºä»€ä¹ˆéœ€è¦åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ</h2><p>åœ¨C++ä¸­ï¼Œ<a href="aggregate">èšåˆä½“</a>æ˜¯ä¸€ç§ç‰¹æ®Šçš„<a href="container">å®¹å™¨</a>ç±»å‹ï¼Œå®ƒä»¬èƒ½å¤Ÿâ€œèšåˆâ€æˆ–åŒ…å«è®¸å¤šå°çš„æ•°æ®é¡¹ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªå¤§ç›’å­ï¼Œé‡Œé¢æ”¾ç€è®¸å¤šå°ç›’å­ã€‚</p>
<p><strong>èšåˆä½“çš„ç‰¹æ€§å’Œä¾‹å­ï¼š</strong></p>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šèšåˆä½“æ˜¯ä¸€ç§å°†å¤šä¸ªç‹¬ç«‹çš„æ•°æ®é¡¹èšé›†åœ¨ä¸€èµ·çš„å¤åˆç±»å‹ã€‚</li>
<li><strong>å…·ä½“å®šä¹‰</strong>ï¼šC++å¯¹èšåˆä½“æœ‰ä¸¥æ ¼çš„å®šä¹‰ï¼Œä½†å¯¹äºåˆå­¦è€…ï¼Œä½ å¯ä»¥æš‚æ—¶å°†å…¶ç†è§£ä¸ºä¸€ç§å¯ä»¥å®¹çº³å…¶ä»–æ•°æ®çš„å®¹å™¨ã€‚</li>
<li><strong>å¸¸è§ä¾‹å­</strong>ï¼š<ul>
<li><strong><a href="array">æ•°ç»„</a></strong>ï¼šä¾‹å¦‚ <code>int arr[] = {1, 2, 3};</code> æ•°ç»„å°±æ˜¯æœ€å…¸å‹çš„èšåˆä½“ã€‚</li>
<li><strong><a href="struct">ç»“æ„ä½“</a></strong>ï¼šå¦‚æœä¸€ä¸ª<code>struct</code>åªåŒ…å«å…¬å…±çš„ï¼ˆæˆ–è€…è¯´é»˜è®¤æ˜¯å…¬å…±çš„ï¼‰éé™æ€æ•°æ®æˆå‘˜ï¼Œæ²¡æœ‰ç”¨æˆ·å®šä¹‰çš„æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€èµ‹å€¼è¿ç®—ç¬¦ï¼Œä¹Ÿæ²¡æœ‰åŸºç±»æˆ–è™šå‡½æ•°ç­‰ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªèšåˆä½“ã€‚</li>
</ul>
</li>
<li><strong>ç»Ÿä¸€çš„åˆå§‹åŒ–è¯­æ³•</strong>ï¼šå¯¹äºè¿™äº›èšåˆä½“ï¼ŒC++æä¾›äº†ä¸€ç§ç»Ÿä¸€ä¸”éå¸¸ç®€æ´çš„åˆå§‹åŒ–è¯­æ³•ï¼Œå³ä½¿ç”¨<a href="curly braces initialization">å¤§æ‹¬å· <code>{}</code></a>ã€‚<ul>
<li>ä¾‹å¦‚ï¼š<code>Point p = {10.0, 20.0};</code> æˆ–è€… <code>int arr[] = {1, 2, 3};</code>ã€‚</li>
</ul>
</li>
<li><strong>ç¼–è¯‘å™¨çš„å·¥ä½œ</strong>ï¼šå½“ä½ ä½¿ç”¨è¿™ç§å¤§æ‹¬å·åˆå§‹åŒ–è¯­æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¼šâ€œçŸ¥é“â€å¦‚ä½•ç”Ÿæˆå¿…è¦çš„å·¥å…·æ¥å°†è¿™äº›æ•°æ®æ”¾å…¥ä½ çš„å®¹å™¨ä¸­ã€‚å®ƒä¼šæ ¹æ®æ•°æ®åœ¨æ‹¬å·ä¸­çš„é¡ºåºï¼Œå°†å®ƒä»¬ä¾æ¬¡å­˜å…¥èšåˆä½“çš„æˆå‘˜ä¸­ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Ÿ</strong></p>
<p>å½“ç¼–è¯‘å™¨çœ‹åˆ°ä½ ä½¿ç”¨å¤§æ‹¬å· <code>{}</code> æ¥åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå®ƒå®é™…ä¸Šä¼šåœ¨å¹•åï¼ˆ<a href="å¹•å">behind the scenes</a>ï¼‰è°ƒç”¨æˆ–ç”Ÿæˆä¸€ä¸ªç‰¹æ®Šçš„æ„é€ å‡½æ•°æ¥å¤„ç†è¿™äº›æ•°æ®ã€‚è¿™ä¸ªæ„é€ å‡½æ•°å°±æ˜¯<a href="initializer list constructor">åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>ã€‚</p>
<p>å¯¹äºåƒ<code>struct Point { double x; double y; };</code> è¿™æ ·çš„èšåˆä½“ï¼Œå³ä½¿ä½ æ²¡æœ‰æ˜¾å¼å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šä¸ºä½ ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ã€‚è¿™ä¸ªé»˜è®¤è¡Œä¸ºé€šå¸¸æ˜¯ï¼šæŒ‰æˆå‘˜å£°æ˜çš„é¡ºåºï¼Œå°†å¤§æ‹¬å·ä¸­çš„æ•°æ®ä¾æ¬¡èµ‹ç»™å¯¹åº”çš„æˆå‘˜ã€‚ä¾‹å¦‚ï¼Œ<code>Point p = {10.0, 20.0};</code> ä¼šå°† <code>10.0</code> èµ‹ç»™ <code>x</code>ï¼Œ<code>20.0</code> èµ‹ç»™ <code>y</code>ã€‚</p>
<h2 id="2-è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd-initializer-list"><a href="#2-è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd-initializer-list" class="headerlink" title="2. è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼šstd::initializer_list"></a>2. è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼š<code>std::initializer_list</code></h2><p>è™½ç„¶ç¼–è¯‘å™¨å¯ä»¥ä¸ºæˆ‘ä»¬ç”Ÿæˆé»˜è®¤çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬éœ€è¦æ”¹å˜è¿™ç§é»˜è®¤è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>æ”¹å˜åˆå§‹åŒ–é¡ºåº</strong>ï¼šä½ å¯èƒ½æƒ³è®©ç¬¬ä¸€ä¸ªä¼ å…¥çš„å€¼åˆå§‹åŒ– <code>y</code>ï¼Œç¬¬äºŒä¸ªå€¼åˆå§‹åŒ– <code>x</code>ã€‚</li>
<li><strong>æ·»åŠ æ ¡éªŒé€»è¾‘</strong>ï¼šä½ å¯èƒ½å¸Œæœ›ç¡®ä¿ç”¨æˆ·ä¼ å…¥çš„æ•°æ®é¡¹æ•°é‡ç¬¦åˆé¢„æœŸã€‚</li>
<li><strong>æ‰§è¡Œè‡ªå®šä¹‰æ“ä½œ</strong>ï¼šä½ å¯èƒ½éœ€è¦æ ¹æ®ä¼ å…¥çš„åˆ—è¡¨æ‰§è¡Œä¸€äº›é¢å¤–çš„é€»è¾‘ã€‚</li>
</ul>
<p>ä¸ºäº†å®ç°è¿™äº›è‡ªå®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾å¼åœ°å®šä¹‰è‡ªå·±çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ã€‚</p>
<p><strong>è¯­æ³•ç»“æ„ï¼š</strong></p>
<p>ä¸€ä¸ªè‡ªå®šä¹‰çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°é€šå¸¸é•¿è¿™æ ·ï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt; // å¿…é¡»åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// ... å…¶ä»–æˆå‘˜ ...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°åä¸ç±»åç›¸åŒ</span></span><br><span class="line">    <span class="comment">// å‚æ•°ç±»å‹ä¸º std::initializer_list&lt;T&gt;ï¼Œå…¶ä¸­ T æ˜¯åˆ—è¡¨å…ƒç´ çš„ç±»å‹</span></span><br><span class="line">    MyClass(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; list_param) &#123;</span><br><span class="line">        <span class="comment">// åœ¨è¿™é‡Œå¤„ç† list_param ä¸­çš„æ•°æ®</span></span><br><span class="line">        <span class="comment">// ä¾‹å¦‚ï¼š</span></span><br><span class="line">        <span class="comment">// if (list_param.size() &gt;= 1) &#123;</span></span><br><span class="line">        <span class="comment">//     member1 = *(list_param.begin());</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="comment">// if (list_param.size() &gt;= 2) &#123;</span></span><br><span class="line">        <span class="comment">//     member2 = *(list_param.begin() + 1);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... å…¶ä»–æˆå‘˜ ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>
<p><strong><code>std::initializer_list&lt;T&gt;</code> çš„ä½œç”¨ï¼š</strong></p>
<ul>
<li><strong><a href="template class">æ¨¡æ¿ç±»</a></strong>ï¼š<code>std::initializer_list</code> æ˜¯C++æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ª<a href="template class">æ¨¡æ¿ç±»</a>ã€‚å®ƒç”¨æ¥è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜ï¼ˆimmutableï¼‰çš„åŒç±»å‹å…ƒç´ çš„åºåˆ—ã€‚</li>
<li><strong>ç±»å‹åŒ¹é…</strong>ï¼š<code>std::initializer_list&lt;double&gt;</code> ä¸­çš„ <code>double</code> ç±»å‹åº”è¯¥ä¸ä½ å¸Œæœ›å®ƒæ¥æ”¶çš„åˆ—è¡¨å…ƒç´ ç±»å‹ç›¸åŒ¹é…ã€‚å¦‚æœä½ çš„ç±»æˆå‘˜æ˜¯ <code>double</code>ï¼Œé‚£ä¹ˆè¿™é‡Œé€šå¸¸ä¹Ÿç”¨ <code>double</code>ã€‚</li>
<li><strong>ç¼–è¯‘å™¨è½¬æ¢</strong>ï¼šå½“ä½ ä½¿ç”¨å¤§æ‹¬å· <code>{}</code> åˆå§‹åŒ–ä½ çš„ç±»å¯¹è±¡æ—¶ï¼ˆä¾‹å¦‚ <code>MyClass obj = {v1, v2, v3};</code>ï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæ•è· <code>{v1, v2, v3}</code> ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶ç”¨å®ƒä»¬æ¥æ„é€ ä¸€ä¸ªä¸´æ—¶çš„ <code>std::initializer_list&lt;T&gt;</code> å¯¹è±¡ã€‚ç„¶åï¼Œè¿™ä¸ª <code>std::initializer_list</code> å¯¹è±¡ä¼šè¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä½ å®šä¹‰çš„åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ã€‚</li>
</ul>
<h2 id="3-å¦‚ä½•è®¿é—®-std-initializer-list-ä¸­çš„å…ƒç´ ï¼Ÿ"><a href="#3-å¦‚ä½•è®¿é—®-std-initializer-list-ä¸­çš„å…ƒç´ ï¼Ÿ" class="headerlink" title="3. å¦‚ä½•è®¿é—® std::initializer_list ä¸­çš„å…ƒç´ ï¼Ÿ"></a>3. å¦‚ä½•è®¿é—® <code>std::initializer_list</code> ä¸­çš„å…ƒç´ ï¼Ÿ</h2><p><code>std::initializer_list</code> æä¾›äº†å‡ ç§æ–¹æ³•æ¥è®¿é—®å®ƒæ‰€åŒ…å«çš„å…ƒç´ ï¼š</p>
<ul>
<li><strong><code>size()</code> æ–¹æ³•</strong>ï¼šè¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„æ•°é‡ã€‚<ul>
<li>ä¾‹å¦‚ï¼š<code>list_param.size()</code>ã€‚</li>
</ul>
</li>
<li><strong><a href="iterator">è¿­ä»£å™¨</a> (<code>begin()</code>, <code>end()</code>)</strong>ï¼š<ul>
<li><code>list_param.begin()</code>ï¼šè¿”å›ä¸€ä¸ªæŒ‡å‘åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„<a href="iterator">è¿­ä»£å™¨</a>ï¼ˆä½ å¯ä»¥ç®€å•åœ°æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ª<a href="pointer">æŒ‡é’ˆ</a>ï¼‰ã€‚</li>
<li><code>list_param.end()</code>ï¼šè¿”å›ä¸€ä¸ªæŒ‡å‘åˆ—è¡¨ä¸­â€œæœ€åä¸€ä¸ªå…ƒç´ ä¹‹åâ€ä½ç½®çš„<a href="iterator">è¿­ä»£å™¨</a>ã€‚è¿™ä¸ªè¿­ä»£å™¨ä¸æŒ‡å‘ä»»ä½•å®é™…å…ƒç´ ï¼Œå®ƒé€šå¸¸ç”¨äºå¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶ã€‚</li>
</ul>
</li>
<li><strong><a href="dereferencing operator">è§£å¼•ç”¨è¿ç®—ç¬¦</a> <code>*</code></strong>ï¼šå¦‚æœä½ æœ‰ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆæˆ–æŒ‡é’ˆï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>*</code> æ¥è·å–å®ƒæ‰€æŒ‡å‘çš„å®é™…å€¼ã€‚<ul>
<li>ä¾‹å¦‚ï¼š<code>*list_param.begin()</code> å°†è·å–åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</li>
</ul>
</li>
<li><strong><a href="pointer arithmetic">æŒ‡é’ˆç®—æœ¯</a></strong>ï¼šè™½ç„¶ <code>begin()</code> è¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼Œä½†å¯¹äº <code>std::initializer_list</code> çš„è¿­ä»£å™¨ï¼Œä½ é€šå¸¸å¯ä»¥åƒå¯¹å¾…æŒ‡é’ˆä¸€æ ·å¯¹å®ƒä»¬æ‰§è¡ŒåŠ å‡è¿ç®—ï¼Œä»¥è®¿é—®åç»­å…ƒç´ ã€‚<ul>
<li>ä¾‹å¦‚ï¼š<code>*(list_param.begin() + 1)</code> å°†è·å–åˆ—è¡¨ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ çš„å€¼ï¼ˆç´¢å¼•ä¸º1ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç ï¼ˆå¦‚ä½•åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ï¼‰ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt; // å¿…é¡»åŒ…å«</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;        // ç”¨äº assert</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å®šä¹‰ä¸€ä¸ª Point ç»“æ„ä½“</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>: <span class="comment">// é€šå¸¸æˆ‘ä»¬å°†æˆå‘˜å˜é‡è®¾ä¸ºç§æœ‰</span></span><br><span class="line">    <span class="keyword">double</span> m_x;</span><br><span class="line">    <span class="keyword">double</span> m_y;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    Point() : m_x(<span class="number">0.0</span>), m_y(<span class="number">0.0</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"é»˜è®¤æ„é€ å‡½æ•° called."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</span></span><br><span class="line">    Point(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; <span class="built_in">list</span>) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Initializer List æ„é€ å‡½æ•° called."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿è¡Œæ—¶æ–­è¨€ï¼šç¡®ä¿ä¼ å…¥çš„å…ƒç´ æ•°é‡æ˜¯ 2</span></span><br><span class="line">        <span class="comment">// assert æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶æ£€æŸ¥ï¼Œå¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œç¨‹åºä¼šç»ˆæ­¢å¹¶æŠ¥é”™</span></span><br><span class="line">        <span class="comment">// è®°å¾—åŒ…å« &lt;cassert&gt; å¤´æ–‡ä»¶</span></span><br><span class="line">        assert(<span class="built_in">list</span>.size() == <span class="number">2</span> &amp;&amp; <span class="string">"Point requires exactly 2 values (x, y) for initialization."</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨è¿­ä»£å™¨å’ŒæŒ‡é’ˆç®—æœ¯è®¿é—®å…ƒç´ å¹¶åˆå§‹åŒ–æˆå‘˜å˜é‡</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å‡è®¾åˆ—è¡¨è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ï¼ˆé€šè¿‡ä¸Šé¢çš„ assert ä¿è¯ï¼‰</span></span><br><span class="line">        m_x = *(<span class="built_in">list</span>.begin());        <span class="comment">// ç¬¬ä¸€ä¸ªå…ƒç´ åˆå§‹åŒ– x</span></span><br><span class="line">        m_y = *(<span class="built_in">list</span>.begin() + <span class="number">1</span>);    <span class="comment">// ç¬¬äºŒä¸ªå…ƒç´ åˆå§‹åŒ– y</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœä½ å¸Œæœ›é¢ å€’é¡ºåºï¼Œå¯ä»¥è¿™æ ·ï¼š</span></span><br><span class="line">        <span class="comment">// m_y = *(list.begin());</span></span><br><span class="line">        <span class="comment">// m_x = *(list.begin() + 1);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰“å° Point ä¿¡æ¯çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_info</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123; <span class="comment">// const æˆå‘˜å‡½æ•°è¡¨ç¤ºä¸ä¿®æ”¹å¯¹è±¡çŠ¶æ€</span></span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Point: [x="</span> &lt;&lt; m_x &lt;&lt; <span class="string">", y="</span> &lt;&lt; m_y &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤èšåˆåˆå§‹åŒ– ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// å¯¹äºæ»¡è¶³èšåˆä½“å®šä¹‰çš„ç»“æ„ä½“ï¼Œå³ä½¿æ²¡æœ‰è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è¿™æ ·åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šå¦‚æœ Point å†…éƒ¨æœ‰è‡ªå®šä¹‰æ„é€ å‡½æ•°ï¼Œå®ƒå°±ä¸å†æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„èšåˆä½“ï¼Œ</span></span><br><span class="line">    <span class="comment">// ä½†æ˜¯å¤§æ‹¬å·åˆå§‹åŒ–ä»ç„¶æœ‰æ•ˆï¼Œä¼šè°ƒç”¨å¯¹åº”çš„æ„é€ å‡½æ•°ã€‚</span></span><br><span class="line">    <span class="comment">// åœ¨æˆ‘ä»¬è¿™é‡Œï¼ŒPoint æœ‰äº†è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¼šè°ƒç”¨å®ƒã€‚</span></span><br><span class="line">    Point p1 = &#123;<span class="number">10.5</span>, <span class="number">20.5</span>&#125;; <span class="comment">// è°ƒç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„ Initializer List æ„é€ å‡½æ•°</span></span><br><span class="line">    p1.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- ä½¿ç”¨ Initializer List æ„é€ å‡½æ•°åˆå§‹åŒ– ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="function">Point <span class="title">p2</span><span class="params">(&#123;<span class="number">-5.0</span>, <span class="number">15.0</span>&#125;)</span></span>; <span class="comment">// æ˜¾å¼ä½¿ç”¨å¤§æ‹¬å·åˆå§‹åŒ–ï¼Œä¹Ÿä¼šè°ƒç”¨ Initializer List æ„é€ å‡½æ•°</span></span><br><span class="line">    p2.print_info();</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- å°è¯•ä¼ å…¥è¿‡å¤šå…ƒç´  (ä¼šè§¦å‘ assert ç»ˆæ­¢ç¨‹åº) ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// Point p3 = &#123;1.0, 2.0, 3.0&#125;; // è¿™è¡Œä»£ç å¦‚æœæ‰§è¡Œï¼Œä¼šå› ä¸º assert å¤±è´¥è€Œç»ˆæ­¢ç¨‹åº</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"--- å°è¯•ä¼ å…¥è¿‡å°‘å…ƒç´  (ä¼šè§¦å‘ assert ç»ˆæ­¢ç¨‹åº) ---"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">// Point p4 = &#123;100.0&#125;; // è¿™è¡Œä»£ç å¦‚æœæ‰§è¡Œï¼Œä¼šå› ä¸º assert å¤±è´¥è€Œç»ˆæ­¢ç¨‹åº</span></span><br><span class="line"></span><br><span class="line">    Point p5; <span class="comment">// è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°</span></span><br><span class="line">    p5.print_info();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>éå† <code>std::initializer_list</code> ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š</strong></p>
<p>è™½ç„¶å¯¹äº <code>Point</code> è¿™æ ·å›ºå®šæ•°é‡æˆå‘˜çš„ç±»ï¼Œæˆ‘ä»¬é€šå¸¸åªå–å‰å‡ ä¸ªå…ƒç´ ï¼Œä½† <code>std::initializer_list</code> æ”¯æŒéå†æ‰€æœ‰å…ƒç´ ã€‚</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCustomContainer</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŠ¨æ€æ•°ç»„æ¥å­˜å‚¨å…ƒç´ </span></span><br><span class="line">    <span class="keyword">double</span>* m_data;</span><br><span class="line">    <span class="keyword">size_t</span> m_size;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    MyCustomContainer(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; <span class="built_in">list</span>) : m_size(<span class="built_in">list</span>.size()) &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"MyCustomContainer Initializer List æ„é€ å‡½æ•° called. List size: "</span> &lt;&lt; <span class="built_in">list</span>.size() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        m_data = <span class="keyword">new</span> <span class="keyword">double</span>[m_size]; <span class="comment">// åˆ†é…å†…å­˜</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">size_t</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// æ–¹æ³•1: ä½¿ç”¨åŸºäºèŒƒå›´çš„ for å¾ªç¯ (Range-based for loop)</span></span><br><span class="line">        <span class="comment">// è¿™ç§æ–¹å¼æœ€ç®€æ´ã€æ¨èä½¿ç”¨</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">double</span> val : <span class="built_in">list</span>) &#123;</span><br><span class="line">            m_data[i++] = val;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•2: ä½¿ç”¨ä¼ ç»Ÿ for å¾ªç¯å’Œè¿­ä»£å™¨/æŒ‡é’ˆç®—æœ¯</span></span><br><span class="line">        <span class="comment">// size_t i = 0;</span></span><br><span class="line">        <span class="comment">// for (auto it = list.begin(); it != list.end(); ++it) &#123;</span></span><br><span class="line">        <span class="comment">//     m_data[i++] = *it;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•3: ä½¿ç”¨ä¼ ç»Ÿ for å¾ªç¯å’Œç´¢å¼• (é€šè¿‡æŒ‡é’ˆç®—æœ¯)</span></span><br><span class="line">        <span class="comment">// for (size_t j = 0; j &lt; list.size(); ++j) &#123;</span></span><br><span class="line">        <span class="comment">//     m_data[j] = *(list.begin() + j);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ææ„å‡½æ•°ï¼Œé‡Šæ”¾å†…å­˜</span></span><br><span class="line">    ~MyCustomContainer() &#123;</span><br><span class="line">        <span class="keyword">delete</span>[] m_data;</span><br><span class="line">        m_data = <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_elements</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Elements: ["</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; m_size; ++i) &#123;</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; m_data[i] &lt;&lt; (i == m_size - <span class="number">1</span> ? <span class="string">""</span> : <span class="string">", "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    MyCustomContainer c1 = &#123;<span class="number">1.1</span>, <span class="number">2.2</span>, <span class="number">3.3</span>, <span class="number">4.4</span>, <span class="number">5.5</span>&#125;;</span><br><span class="line">    c1.print_elements();</span><br><span class="line"></span><br><span class="line">    MyCustomContainer c2 = &#123;<span class="number">100.0</span>&#125;;</span><br><span class="line">    c2.print_elements();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h2 id="4-QA-é—ªå­˜å¡ï¼ˆQA-Flash-Cardsï¼‰"><a href="#4-QA-é—ªå­˜å¡ï¼ˆQA-Flash-Cardsï¼‰" class="headerlink" title="4. QA é—ªå­˜å¡ï¼ˆQA Flash Cardsï¼‰"></a>4. QA é—ªå­˜å¡ï¼ˆQA Flash Cardsï¼‰</h2><p><strong>Q1ï¼šC++ ä¸­çš„<a href="aggregate">èšåˆä½“</a>æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br>A1ï¼šèšåˆä½“æ˜¯æŒ‡ç¬¦åˆç‰¹å®šæ¡ä»¶çš„ç±»ç±»å‹ï¼Œé€šå¸¸æ˜¯ä¸åŒ…å«ç”¨æˆ·å£°æ˜çš„æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€è™šå‡½æ•°ã€ç§æœ‰/ä¿æŠ¤éé™æ€æ•°æ®æˆå‘˜ã€åŸºç±»ç­‰çš„<a href="struct">ç»“æ„ä½“</a>æˆ–<a href="class">ç±»</a>ï¼Œä»¥åŠ<a href="array">æ•°ç»„</a>ç±»å‹ã€‚å®ƒä»¬å¯ä»¥ä½¿ç”¨<a href="curly braces initialization">å¤§æ‹¬å·åˆå§‹åŒ–</a>è¯­æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p><strong>Q2ï¼š<a href="initializer list constructor">åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br>A2ï¼šå®ƒçš„ç›®çš„æ˜¯å…è®¸ä½ ä½¿ç”¨ç»Ÿä¸€çš„<a href="curly braces initialization">å¤§æ‹¬å·åˆå§‹åŒ–</a>è¯­æ³• <code>{}</code> æ¥æ„é€ å’Œåˆå§‹åŒ–å¯¹è±¡ï¼Œå¹¶ä¸ºè¿™ç§åˆå§‹åŒ–æä¾›è‡ªå®šä¹‰é€»è¾‘ï¼Œè€Œä¸ä»…ä»…ä¾èµ–äºç¼–è¯‘å™¨ç”Ÿæˆçš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p><strong>Q3ï¼šå¦‚ä½•è‡ªå®šä¹‰ä¸€ä¸ª<a href="initializer list constructor">åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>ï¼Ÿ</strong><br>A3ï¼šé€šè¿‡å®šä¹‰ä¸€ä¸ªæ¥å— <code>std::initializer_list&lt;T&gt;</code> ç±»å‹å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œå…¶ä¸­ <code>T</code> æ˜¯ä½ å¸Œæœ›åˆ—è¡¨å…ƒç´ å…·æœ‰çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼š<code>MyClass(std::initializer_list&lt;int&gt; list_param);</code>ã€‚</p>
<p><strong>Q4ï¼šå¦‚ä½•åœ¨ <code>std::initializer_list</code> ä¸­è®¿é—®å…ƒç´ ï¼Ÿ</strong><br>A4ï¼šå¯ä»¥ä½¿ç”¨ <code>list.size()</code> è·å–å…ƒç´ æ•°é‡ï¼›ä½¿ç”¨ <code>*(list.begin())</code> è·å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›ä½¿ç”¨ <code>*(list.begin() + N)</code> è·å–ç¬¬ <code>N+1</code> ä¸ªå…ƒç´ ï¼ˆ<a href="pointer arithmetic">æŒ‡é’ˆç®—æœ¯</a>ï¼‰ï¼›æˆ–è€…ä½¿ç”¨åŸºäºèŒƒå›´çš„ <code>for</code> å¾ªç¯éå†æ‰€æœ‰å…ƒç´ ã€‚</p>
<p><strong>Q5ï¼š<code>static_assert</code> å’Œ <code>assert</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong><br>A5ï¼š</p>
<ul>
<li><code>static_assert</code> ç”¨äº<strong><a href="compile-time">ç¼–è¯‘æœŸ</a></strong>æ£€æŸ¥ï¼Œå®ƒè¦æ±‚å…¶æ¡ä»¶æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ã€‚å¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li>
<li><code>assert</code> ç”¨äº<strong><a href="run-time">è¿è¡ŒæœŸ</a></strong>æ£€æŸ¥ï¼Œå®ƒåœ¨å…¶æ¡ä»¶ä¸ºå‡æ—¶ä¼šç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œï¼ˆé€šå¸¸æ˜¯æŠ›å‡º<a href="exception">å¼‚å¸¸</a>æˆ–è°ƒç”¨ <code>abort()</code>ï¼‰ã€‚å®ƒé€šå¸¸ç”¨äºè°ƒè¯•ç›®çš„ï¼Œåœ¨å‘å¸ƒç‰ˆæœ¬ä¸­å¯ä»¥è¢«ç¦ç”¨ã€‚</li>
</ul>
<h2 id="5-å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon-Misunderstandings-or-Mistakesï¼‰"><a href="#5-å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon-Misunderstandings-or-Mistakesï¼‰" class="headerlink" title="5. å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon Misunderstandings or Mistakesï¼‰"></a>5. å¸¸è§è¯¯è§£ä¸é”™è¯¯ï¼ˆCommon Misunderstandings or Mistakesï¼‰</h2><ol>
<li><strong>æ··æ·† <code>std::initializer_list</code> ä¸æ™®é€šå¤šå‚æ•°æ„é€ å‡½æ•°</strong>ï¼š<ul>
<li><strong>é”™è¯¯</strong>ï¼šè®¤ä¸º <code>Point(double x_val, double y_val)</code> ä¹Ÿæ˜¯ä¸€ä¸ªåˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ã€‚</li>
<li><strong>æ¾„æ¸…</strong>ï¼šè™½ç„¶çœ‹èµ·æ¥ç›¸ä¼¼ï¼Œä½†åªæœ‰å‚æ•°ç±»å‹æ˜¯ <code>std::initializer_list&lt;T&gt;</code> çš„æ„é€ å‡½æ•°æ‰æ˜¯åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ã€‚å®ƒå…è®¸ä½ ä½¿ç”¨ç»Ÿä¸€çš„ <code>{}</code> è¯­æ³•ï¼Œå¹¶ä¸”å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å…ƒç´ ï¼ˆåªè¦ç±»å‹åŒ¹é…ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è¯•å›¾å¯¹ <code>std::initializer_list::size()</code> ä½¿ç”¨ <code>static_assert</code></strong>ï¼š<ul>
<li><strong>é”™è¯¯</strong>ï¼šåœ¨åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ä¸­å†™ <code>static_assert(list.size() == 2, &quot;Error message&quot;);</code></li>
<li><strong>æ¾„æ¸…</strong>ï¼š<code>list.size()</code> çš„å€¼æ˜¯åœ¨<a href="run-time">è¿è¡Œæ—¶</a>æ‰çŸ¥é“çš„ï¼Œå› ä¸ºå®ƒå–å†³äºç”¨æˆ·å®é™…ä¼ å…¥äº†å¤šå°‘ä¸ªå…ƒç´ ã€‚<code>static_assert</code> åªèƒ½ç”¨äº<a href="compile-time">ç¼–è¯‘æœŸ</a>å·²çŸ¥çš„å€¼ã€‚å¯¹äºè¿è¡Œæ—¶æ£€æŸ¥ï¼Œåº”è¯¥ä½¿ç”¨ <code>assert</code>ã€‚</li>
</ul>
</li>
<li><strong>å¿˜è®°åŒ…å«å¿…è¦çš„å¤´æ–‡ä»¶</strong>ï¼š<ul>
<li><strong>é”™è¯¯</strong>ï¼šä½¿ç”¨ <code>std::initializer_list</code> ä½†æ²¡æœ‰åŒ…å« <code>&lt;initializer_list&gt;</code>ã€‚ä½¿ç”¨ <code>assert</code> ä½†æ²¡æœ‰åŒ…å« <code>&lt;cassert&gt;</code>ã€‚</li>
<li><strong>æ¾„æ¸…</strong>ï¼šè¿™äº›éƒ½æ˜¯æ ‡å‡†åº“ç»„ä»¶ï¼Œå¿…é¡»æ˜¾å¼åŒ…å«å¯¹åº”çš„å¤´æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><strong>æœªå¤„ç† <code>std::initializer_list</code> ä¸­å…ƒç´ æ•°é‡ä¸åŒ¹é…çš„æƒ…å†µ</strong>ï¼š<ul>
<li><strong>é”™è¯¯</strong>ï¼šç›´æ¥ä½¿ç”¨ <code>*(list.begin() + 1)</code> è®¿é—®ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä½†ç”¨æˆ·åªä¼ å…¥äº†ä¸€ä¸ªå…ƒç´ ï¼Œå¯¼è‡´<a href="undefined behavior">æœªå®šä¹‰è¡Œä¸º</a>ã€‚</li>
<li><strong>æ¾„æ¸…</strong>ï¼šåœ¨ä½¿ç”¨ <code>begin()</code> å’Œ<a href="pointer arithmetic">æŒ‡é’ˆç®—æœ¯</a>è®¿é—®å…ƒç´ ä¹‹å‰ï¼ŒåŠ¡å¿…æ£€æŸ¥ <code>list.size()</code> æ¥ç¡®ä¿æœ‰è¶³å¤Ÿçš„å…ƒç´ ï¼Œæˆ–è€…ä½¿ç”¨ <code>assert</code> è¿›è¡Œæ–­è¨€æ£€æŸ¥ã€‚å¯¹äºå¯å˜æ•°é‡çš„å…ƒç´ ï¼Œåº”è¯¥éå†åˆ—è¡¨è€Œä¸æ˜¯å›ºå®šç´¢å¼•è®¿é—®ã€‚</li>
</ul>
</li>
<li><strong>è®¤ä¸º <code>std::initializer_list</code> åªèƒ½ç”¨äº<a href="aggregate">èšåˆä½“</a></strong>ï¼š<ul>
<li><strong>é”™è¯¯</strong>ï¼šåªæœ‰<a href="array">æ•°ç»„</a>å’Œ<a href="struct">ç»“æ„ä½“</a>æ‰èƒ½ä½¿ç”¨ <code>std::initializer_list</code> æ„é€ å‡½æ•°ã€‚</li>
<li><strong>æ¾„æ¸…</strong>ï¼šä»»ä½•<a href="class">ç±»</a>ï¼ˆ<code>class</code> æˆ– <code>struct</code>ï¼‰éƒ½å¯ä»¥å®šä¹‰ä¸€ä¸ªæ¥å— <code>std::initializer_list</code> çš„æ„é€ å‡½æ•°ï¼Œä»è€Œå…è®¸ä½¿ç”¨<a href="curly braces initialization">å¤§æ‹¬å·åˆå§‹åŒ–</a>è¯­æ³•æ¥æ„é€ è¯¥ç±»çš„å¯¹è±¡ï¼Œè¿™å¤§å¤§å¢åŠ äº†ç±»çš„çµæ´»æ€§å’Œå¯ç”¨æ€§ã€‚</li>
</ul>
</li>
<li><strong>åœ¨æ„é€ å‡½æ•°ä½“å†…è¿›è¡Œæˆå‘˜åˆå§‹åŒ–</strong>ï¼š<ul>
<li><strong>é”™è¯¯</strong>ï¼šåœ¨æ„é€ å‡½æ•°ä½“å†…ä½¿ç”¨ <code>x = *(list.begin());</code></li>
<li><strong>æ¾„æ¸…</strong>ï¼šè™½ç„¶å¯ä»¥ï¼Œä½†æ›´æ¨èä½¿ç”¨<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>æ¥åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚ä¾‹å¦‚ï¼š<code>Point(std::initializer_list&lt;double&gt; list) : m_x(*(list.begin())), m_y(*(list.begin() + 1)) { ... }</code> è¿™æ ·å¯ä»¥é¿å…å…ˆé»˜è®¤æ„é€ å†èµ‹å€¼çš„å¼€é”€ï¼Œå°¤å…¶å¯¹äºå¤æ‚å¯¹è±¡ã€‚ç„¶è€Œï¼Œå¯¹äº <code>std::initializer_list</code> æœ¬èº«ï¼Œé€šå¸¸éœ€è¦åœ¨æ„é€ å‡½æ•°ä½“å†…è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºå®ƒæ˜¯å‚æ•°ã€‚è¿™é‡Œç‰¹æŒ‡æˆ‘ä»¬è‡ªå·±çš„æˆå‘˜å˜é‡ <code>m_x</code>, <code>m_y</code>ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="6-ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding-Exerciseï¼‰"><a href="#6-ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding-Exerciseï¼‰" class="headerlink" title="6. ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding Exerciseï¼‰"></a>6. ç¼–ç¨‹ç»ƒä¹ ï¼ˆCoding Exerciseï¼‰</h2><p>ç°åœ¨ï¼Œè¯·ä½ æ¥å®Œæˆä¸€ä¸ªç®€å•çš„ç»ƒä¹ ã€‚</p>
<p><strong>ä»»åŠ¡</strong>ï¼šåˆ›å»ºä¸€ä¸ªåä¸º <code>Rectangle</code> çš„ç»“æ„ä½“ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªäºŒç»´çŸ©å½¢ã€‚</p>
<ul>
<li><code>Rectangle</code> åº”è¯¥æœ‰ä¸¤ä¸ª <code>double</code> ç±»å‹çš„ç§æœ‰æˆå‘˜å˜é‡ï¼š<code>m_width</code> (å®½åº¦) å’Œ <code>m_height</code> (é«˜åº¦)ã€‚</li>
<li>å®ƒåº”è¯¥æœ‰ä¸€ä¸ª<a href="custom initializer list constructor">è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>ï¼Œæ¥å—ä¸€ä¸ª <code>std::initializer_list&lt;double&gt;</code> å‚æ•°ã€‚</li>
<li>è¿™ä¸ªæ„é€ å‡½æ•°åº”è¯¥ï¼š<ol>
<li>æ‰“å°ä¸€æ¡æ¶ˆæ¯ï¼Œè¡¨æ˜å®ƒè¢«è°ƒç”¨äº†ã€‚</li>
<li>ä½¿ç”¨ <code>assert</code> ç¡®ä¿ä¼ å…¥çš„<a href="initializer list">åˆå§‹åŒ–åˆ—è¡¨</a>æ°å¥½åŒ…å«<strong>ä¸¤ä¸ª</strong> <code>double</code> å€¼ï¼ˆåˆ†åˆ«ç”¨äºå®½åº¦å’Œé«˜åº¦ï¼‰ã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™ç¨‹åºç»ˆæ­¢ã€‚</li>
<li>ä½¿ç”¨<a href="pointer arithmetic">æŒ‡é’ˆç®—æœ¯</a>å’Œ<a href="dereferencing">è§£å¼•ç”¨</a>ä»åˆ—è¡¨ä¸­è·å–ç¬¬ä¸€ä¸ªå€¼å¹¶åˆå§‹åŒ– <code>m_width</code>ï¼Œè·å–ç¬¬äºŒä¸ªå€¼å¹¶åˆå§‹åŒ– <code>m_height</code>ã€‚</li>
</ol>
</li>
<li>æ·»åŠ ä¸€ä¸ªå…¬å…±çš„ <code>print_dimensions()</code> æ–¹æ³•æ¥æ‰“å°çŸ©å½¢çš„å®½åº¦å’Œé«˜åº¦ã€‚</li>
<li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œåˆ›å»º <code>Rectangle</code> å¯¹è±¡ï¼š<ol>
<li>æˆåŠŸåˆå§‹åŒ–ä¸€ä¸ª <code>Rectangle</code> å¯¹è±¡ã€‚</li>
<li>ï¼ˆå¯é€‰ï¼‰å°è¯•ç”¨ä¸æ­£ç¡®çš„å…ƒç´ æ•°é‡åˆå§‹åŒ–ä¸€ä¸ª <code>Rectangle</code> å¯¹è±¡ï¼Œè§‚å¯Ÿ <code>assert</code> çš„è¡Œä¸ºï¼ˆè®°å¾—æ³¨é‡Šæ‰è¿™è¡Œä»£ç ï¼Œå¦åˆ™ç¨‹åºä¼šç»ˆæ­¢ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<p>è¯·åœ¨ä¸‹é¢çš„ä»£ç å—ä¸­å¡«å†™ä½ çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt; // Don't forget this for assert!</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. Define the Rectangle struct here</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 2. Add your custom initializer list constructor here</span></span><br><span class="line">    <span class="comment">// Remember to check list size and initialize m_width and m_height</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šå¯ä»¥ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// Rectangle(std::initializer_list&lt;double&gt; list) : ________, ________ &#123;</span></span><br><span class="line">    <span class="comment">//     // ... your assert and print message here ...</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. Add the print_dimensions() method here</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dimensions</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle: [Width="</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height="</span> &lt;&lt; m_height &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Test case 1: Correct initialization</span></span><br><span class="line">    Rectangle rect1 = &#123;<span class="number">10.0</span>, <span class="number">5.0</span>&#125;;</span><br><span class="line">    rect1.print_dimensions();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test case 2 (Optional): Incorrect number of elements - Uncomment to see assert in action</span></span><br><span class="line">    <span class="comment">// Rectangle rect2 = &#123;20.0&#125;; // Should trigger assert</span></span><br><span class="line">    <span class="comment">// rect2.print_dimensions();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test case 3 (Optional): Incorrect number of elements - Uncomment to see assert in action</span></span><br><span class="line">    <span class="comment">// Rectangle rect3 = &#123;30.0, 15.0, 2.0&#125;; // Should trigger assert</span></span><br><span class="line">    <span class="comment">// rect3.print_dimensions();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="ğŸ§‘â€ğŸ’»-User-1"><a href="#ğŸ§‘â€ğŸ’»-User-1" class="headerlink" title="ğŸ§‘â€ğŸ’» User"></a>ğŸ§‘â€ğŸ’» User</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt; // Don't forget this for assert!</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. Define the Rectangle struct here</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 2. Add your custom initializer list constructor here</span></span><br><span class="line">    <span class="comment">// Remember to check list size and initialize m_width and m_height</span></span><br><span class="line">    <span class="comment">// æç¤ºï¼šå¯ä»¥ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–æˆå‘˜å˜é‡</span></span><br><span class="line">    <span class="comment">// Rectangle(std::initializer_list&lt;double&gt; list) : ________, ________ &#123;</span></span><br><span class="line">    <span class="comment">//     // ... your assert and print message here ...</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    Rectangle(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; <span class="built_in">list</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Initializer List called."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        assert(<span class="built_in">list</span>.size() == <span class="number">2</span> &amp;&amp; <span class="string">"list size shall be two to include width and length"</span>);</span><br><span class="line">        m_width = *(<span class="built_in">list</span>.begin());</span><br><span class="line">        m_height = *(<span class="built_in">list</span>.begin() + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. Add the print_dimensions() method here</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dimensions</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle: [Width="</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height="</span> &lt;&lt; m_height &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Test case 1: Correct initialization</span></span><br><span class="line">    Rectangle rect1 = &#123;<span class="number">10.0</span>, <span class="number">5.0</span>&#125;;</span><br><span class="line">    rect1.print_dimensions();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test case 2 (Optional): Incorrect number of elements - Uncomment to see assert in action</span></span><br><span class="line">    <span class="comment">// Rectangle rect2 = &#123;20.0&#125;; // Should trigger assert</span></span><br><span class="line">    <span class="comment">// rect2.print_dimensions();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test case 3 (Optional): Incorrect number of elements - Uncomment to see assert in action</span></span><br><span class="line">    <span class="comment">// Rectangle rect3 = &#123;30.0, 15.0, 2.0&#125;; // Should trigger assert</span></span><br><span class="line">    <span class="comment">// rect3.print_dimensions();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<hr>
<h2 id="ğŸ¤–-Assistant-1"><a href="#ğŸ¤–-Assistant-1" class="headerlink" title="ğŸ¤– Assistant"></a>ğŸ¤– Assistant</h2><p>å¥½çš„ï¼Œä½ çš„è§£å†³æ–¹æ¡ˆå·²æ”¶åˆ°ï¼ä½œä¸ºä½ çš„C++ä¸“ä¸šå¯¼å¸ˆï¼Œæˆ‘å°†ä»”ç»†å®¡æŸ¥ä½ çš„ä»£ç ï¼Œæä¾›è¯¦ç»†çš„åé¦ˆï¼Œå¹¶ç»™å‡ºä¸€äº›æ‰©å±•çš„æ€è€ƒã€‚</p>
<h2 id="7-è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š"><a href="#7-è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š" class="headerlink" title="7. è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š"></a>7. è¯„ä¼°ç”¨æˆ·è§£å†³æ–¹æ¡ˆå¹¶ç»™å‡ºå®é™…ç­”æ¡ˆå’Œè§£é‡Š</h2><h3 id="è§£å†³æ–¹æ¡ˆè¯„åˆ†"><a href="#è§£å†³æ–¹æ¡ˆè¯„åˆ†" class="headerlink" title="è§£å†³æ–¹æ¡ˆè¯„åˆ†"></a>è§£å†³æ–¹æ¡ˆè¯„åˆ†</h3><p><strong>æ€»åˆ†ï¼š5/5</strong></p>
<p><strong>è¯„ä»·ï¼š</strong> ä½ çš„è§£å†³æ–¹æ¡ˆéå¸¸å‡ºè‰²ï¼ä½ æˆåŠŸåœ°å®ç°äº†æ‰€æœ‰è¦æ±‚ï¼ŒåŒ…æ‹¬å®šä¹‰ç»“æ„ä½“ã€å®ç°åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°ã€ä½¿ç”¨ <code>assert</code> è¿›è¡Œè¿è¡Œæ—¶æ ¡éªŒï¼Œå¹¶é€šè¿‡æŒ‡é’ˆç®—æœ¯æ­£ç¡®åœ°åˆå§‹åŒ–äº†æˆå‘˜å˜é‡ã€‚ä»£ç é€»è¾‘æ¸…æ™°ï¼ŒåŠŸèƒ½å®ç°å®Œæ•´ã€‚</p>
<p><strong>å…·ä½“å¾—åˆ†ç‚¹ï¼š</strong></p>
<ul>
<li><strong><code>Rectangle</code> ç»“æ„ä½“å®šä¹‰ä¸æˆå‘˜å˜é‡ç§æœ‰åŒ– (1/1)</strong>ï¼šä½ æ­£ç¡®åœ°å°† <code>m_width</code> å’Œ <code>m_height</code> å£°æ˜ä¸ºç§æœ‰æˆå‘˜ï¼Œè¿™æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å°è£…å®è·µã€‚</li>
<li><strong>è‡ªå®šä¹‰åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•° (1/1)</strong>ï¼šä½ æˆåŠŸåœ°å®šä¹‰äº†æ¥å— <code>std::initializer_list&lt;double&gt;</code> å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œè¿™æ˜¯æœ¬èŠ‚è¯¾çš„æ ¸å¿ƒå†…å®¹ã€‚</li>
<li><strong>æ‰“å°è°ƒç”¨ä¿¡æ¯ (1/1)</strong>ï¼šæ„é€ å‡½æ•°ä¸­åŒ…å«äº† <code>std::cout &lt;&lt; &quot;Initializer List called.&quot; &lt;&lt; std::endl;</code>ï¼Œç¬¦åˆè¦æ±‚ã€‚</li>
<li><strong>ä½¿ç”¨ <code>assert</code> è¿›è¡Œè¿è¡Œæ—¶æ ¡éªŒ (1/1)</strong>ï¼šä½ æ­£ç¡®åœ°ä½¿ç”¨äº† <code>assert(list.size() == 2 &amp;&amp; &quot;list size shall be two to include width and length&quot;);</code> æ¥æ£€æŸ¥åˆ—è¡¨å¤§å°ï¼Œå¹¶ç»™å‡ºäº†æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯ã€‚</li>
<li><strong>æ­£ç¡®åˆå§‹åŒ–æˆå‘˜å˜é‡ (1/1)</strong>ï¼šä½ ä½¿ç”¨ <code>m_width = *(list.begin());</code> å’Œ <code>m_height = *(list.begin() + 1);</code> æ¥åˆå§‹åŒ–æˆå‘˜ï¼Œç²¾ç¡®åœ°åˆ©ç”¨äº†æŒ‡é’ˆç®—æœ¯å’Œè§£å¼•ç”¨ã€‚</li>
<li><strong><code>print_dimensions()</code> æ–¹æ³• (1/1)</strong>ï¼šä½ å®ç°äº†æ­£ç¡®çš„æ‰“å°æ–¹æ³•ï¼Œå¹¶ä¸”æ˜¯ <code>const</code> æˆå‘˜å‡½æ•°ï¼Œè¡¨ç¤ºå®ƒä¸ä¼šä¿®æ”¹å¯¹è±¡çŠ¶æ€ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚</li>
<li><strong><code>main</code> å‡½æ•°æµ‹è¯• (1/1)</strong>ï¼š<code>main</code> å‡½æ•°ä¸­çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿæ¼”ç¤ºäº†æ­£ç¡®çš„åˆå§‹åŒ–ã€‚</li>
</ul>
<p>ä½ å”¯ä¸€æ²¡æœ‰å®Œå…¨æŒ‰ç…§æç¤ºï¼ˆâ€œå¯ä»¥ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–æˆå‘˜å˜é‡â€ï¼‰åšçš„åœ°æ–¹æ˜¯ï¼šä½ åœ¨æ„é€ å‡½æ•°ä½“å†…å¯¹ <code>m_width</code> å’Œ <code>m_height</code> è¿›è¡Œäº†èµ‹å€¼ï¼Œè€Œä¸æ˜¯åœ¨<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>ä¸­ã€‚è¿™å¹¶éé”™è¯¯ï¼Œä½†æ¶‰åŠåˆ°C++çš„ä¸€ä¸ªé‡è¦æœ€ä½³å®è·µï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹é¢çš„â€œå®é™…ç­”æ¡ˆå’Œè§£é‡Šâ€ä¸­è¯¦ç»†è¯´æ˜ã€‚</p>
<h3 id="å®é™…ç­”æ¡ˆå’Œè§£é‡Š"><a href="#å®é™…ç­”æ¡ˆå’Œè§£é‡Š" class="headerlink" title="å®é™…ç­”æ¡ˆå’Œè§£é‡Š"></a>å®é™…ç­”æ¡ˆå’Œè§£é‡Š</h3><p>ä½ çš„ä»£ç æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚è¿™é‡Œæˆ‘æä¾›ä¸€ä¸ªç¨ä½œä¼˜åŒ–çš„ç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨äº†<strong>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</strong>ã€‚</p>
<p><strong>ä¼˜åŒ–çš„ä»£ç ï¼š</strong></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;initializer_list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt; // Don't forget this for assert!</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. Define the Rectangle struct here</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Rectangle</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">double</span> m_width;</span><br><span class="line">    <span class="keyword">double</span> m_height;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 2. Add your custom initializer list constructor here</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ– m_width å’Œ m_height æ˜¯æ›´æ¨èçš„åšæ³•</span></span><br><span class="line">    Rectangle(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; <span class="built_in">list</span>) </span><br><span class="line">        : m_width(*(<span class="built_in">list</span>.begin())), <span class="comment">// åœ¨è¿™é‡Œåˆå§‹åŒ– m_width</span></span><br><span class="line">          m_height(*(<span class="built_in">list</span>.begin() + <span class="number">1</span>)) <span class="comment">// åœ¨è¿™é‡Œåˆå§‹åŒ– m_height</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Initializer List Constructor called."</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>; <span class="comment">// ç¨å¾®ä¿®æ”¹äº†æ‰“å°ä¿¡æ¯</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿è¡Œæ—¶æ–­è¨€ï¼šç¡®ä¿ä¼ å…¥çš„å…ƒç´ æ•°é‡æ˜¯ 2</span></span><br><span class="line">        assert(<span class="built_in">list</span>.size() == <span class="number">2</span> &amp;&amp; <span class="string">"Rectangle requires exactly 2 values (width, height) for initialization."</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šç”±äºæˆå‘˜å˜é‡å·²åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­åˆå§‹åŒ–ï¼Œè¿™é‡Œä¸å†éœ€è¦èµ‹å€¼æ“ä½œ</span></span><br><span class="line">        <span class="comment">// m_width = *(list.begin());</span></span><br><span class="line">        <span class="comment">// m_height = *(list.begin() + 1);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. Add the print_dimensions() method here</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">print_dimensions</span><span class="params">()</span> <span class="keyword">const</span> </span>&#123;</span><br><span class="line">        <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Rectangle: [Width="</span> &lt;&lt; m_width &lt;&lt; <span class="string">", Height="</span> &lt;&lt; m_height &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Test case 1: Correct initialization</span></span><br><span class="line">    Rectangle rect1 = &#123;<span class="number">10.0</span>, <span class="number">5.0</span>&#125;; <span class="comment">// ä½¿ç”¨å¤§æ‹¬å·åˆå§‹åŒ–è¯­æ³•</span></span><br><span class="line">    rect1.print_dimensions();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test case 2 (Optional): Incorrect number of elements - Uncomment to see assert in action</span></span><br><span class="line">    <span class="comment">// Rectangle rect2 = &#123;20.0&#125;; // Should trigger assert and terminate the program</span></span><br><span class="line">    <span class="comment">// rect2.print_dimensions();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test case 3 (Optional): Incorrect number of elements - Uncomment to see assert in action</span></span><br><span class="line">    <span class="comment">// Rectangle rect3 = &#123;30.0, 15.0, 2.0&#125;; // Should trigger assert and terminate the program</span></span><br><span class="line">    <span class="comment">// rect3.print_dimensions();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p><strong>ä¸ºä»€ä¹ˆæ¨èä½¿ç”¨<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>ï¼Ÿ</strong></p>
<p>åœ¨C++ä¸­ï¼Œæ„é€ å‡½æ•°æœ‰ä¸¤ç§æ–¹å¼æ¥ä¸ºæˆå‘˜å˜é‡èµ‹å€¼ï¼š</p>
<ol>
<li><p><strong>åœ¨æ„é€ å‡½æ•°ä½“å†…èµ‹å€¼ (ä½ ç›®å‰çš„åšæ³•)</strong>:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Rectangle(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; <span class="built_in">list</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    m_width = *(<span class="built_in">list</span>.begin());</span><br><span class="line">    m_height = *(<span class="built_in">list</span>.begin() + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¿™ç§æ–¹å¼çš„é—®é¢˜åœ¨äºï¼Œå¯¹äºéåŸºæœ¬ç±»å‹ï¼ˆå¦‚è‡ªå®šä¹‰ç±»å¯¹è±¡ï¼‰ï¼Œåœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“ä¹‹å‰ï¼Œå®ƒä»¬çš„<a href="default constructor">é»˜è®¤æ„é€ å‡½æ•°</a>ä¼šå…ˆè¢«éšå¼è°ƒç”¨ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚ç„¶åï¼Œåœ¨æ„é€ å‡½æ•°ä½“å†…ï¼Œä½ å†å¯¹å®ƒä»¬è¿›è¡Œä¸€æ¬¡<a href="assignment operation">èµ‹å€¼æ“ä½œ</a>ã€‚è¿™æ„å‘³ç€å¯èƒ½ä¼šæœ‰ä¸€æ¬¡ä¸å¿…è¦çš„<a href="default construction">é»˜è®¤æ„é€ </a>å’Œéšåçš„<a href="assignment">èµ‹å€¼</a>å¼€é”€ã€‚</p>
</li>
<li><p><strong>ä½¿ç”¨<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a> (æ¨èåšæ³•)</strong>:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">cpp</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Rectangle(<span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;<span class="keyword">double</span>&gt; <span class="built_in">list</span>) </span><br><span class="line">    : m_width(*(<span class="built_in">list</span>.begin())), </span><br><span class="line">      m_height(*(<span class="built_in">list</span>.begin() + <span class="number">1</span>)) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ... æ„é€ å‡½æ•°ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>è¿™ç§æ–¹å¼ç›´æ¥åœ¨æˆå‘˜å˜é‡è¢«åˆ›å»ºæ—¶å°±ä½¿ç”¨æŒ‡å®šçš„å€¼è¿›è¡Œ<strong>åˆå§‹åŒ–</strong>ã€‚è¿™é€šå¸¸æ•ˆç‡æ›´é«˜ï¼Œå› ä¸ºå®ƒé¿å…äº†å…ˆè¿›è¡Œé»˜è®¤æ„é€ å†è¿›è¡Œèµ‹å€¼çš„æ­¥éª¤ã€‚å¯¹äºæŸäº›æ²¡æœ‰<a href="default constructor">é»˜è®¤æ„é€ å‡½æ•°</a>çš„ç±»ç±»å‹æˆå‘˜ï¼Œæˆ–è€… <code>const</code> æˆå‘˜ã€<a href="reference">å¼•ç”¨</a>æˆå‘˜ï¼Œä½ <strong>å¿…é¡»</strong>ä½¿ç”¨<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>æ¥åˆå§‹åŒ–å®ƒä»¬ã€‚</p>
</li>
</ol>
<p>è™½ç„¶å¯¹äºåƒ <code>double</code> è¿™æ ·çš„åŸºæœ¬ç±»å‹ï¼Œè¿™ç§å·®å¼‚é€šå¸¸å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†å…»æˆä½¿ç”¨<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>çš„å¥½ä¹ æƒ¯å¯¹ç¼–å†™é«˜æ•ˆå’Œæ­£ç¡®çš„C++ä»£ç éå¸¸é‡è¦ã€‚ä½ çš„ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š</p>
<ol>
<li><code>list.begin()</code> å’Œ <code>list.begin() + 1</code> è¢«æ±‚å€¼ã€‚</li>
<li><code>m_width</code> è¢«åˆå§‹åŒ–ä¸ºç¬¬ä¸€ä¸ªå€¼ã€‚</li>
<li><code>m_height</code> è¢«åˆå§‹åŒ–ä¸ºç¬¬äºŒä¸ªå€¼ã€‚</li>
<li>æ„é€ å‡½æ•°ä½“å†…çš„ <code>std::cout</code> è¯­å¥æ‰§è¡Œã€‚</li>
<li><code>assert</code> è¯­å¥æ‰§è¡Œã€‚</li>
</ol>
<p>è¿™ç¡®ä¿äº†æˆå‘˜å˜é‡åœ¨æ„é€ å‡½æ•°ä½“å¼€å§‹æ‰§è¡Œä¹‹å‰å°±å·²ç»è¢«åˆå§‹åŒ–äº†ã€‚</p>
<h2 id="8-æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended-Questions-and-Suggestionsï¼‰"><a href="#8-æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended-Questions-and-Suggestionsï¼‰" class="headerlink" title="8. æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended Questions and Suggestionsï¼‰"></a>8. æ‰©å±•é—®é¢˜å’Œå»ºè®®ï¼ˆExtended Questions and Suggestionsï¼‰</h2><p>ä½ å·²ç»å¾ˆå¥½åœ°æŒæ¡äº†<a href="initializer list constructor">åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>çš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•ã€‚æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥æ¢ç´¢ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼ŒåŠ æ·±å¯¹ç›¸å…³çŸ¥è¯†çš„ç†è§£ï¼š</p>
<ol>
<li><p><strong><a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>çš„æ·±å…¥ç†è§£</strong>ï¼š</p>
<ul>
<li>å°è¯•ä¿®æ”¹ä½ çš„ <code>Rectangle</code> ç»“æ„ä½“ï¼Œè®© <code>m_width</code> æˆ– <code>m_height</code> æˆä¸º <code>const double</code> ç±»å‹ï¼Œçœ‹çœ‹æ²¡æœ‰<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>ä¼šå‘ç”Ÿä»€ä¹ˆï¼ˆä¼šç¼–è¯‘é”™è¯¯ï¼‰ã€‚</li>
<li>ç ”ç©¶<a href="member initializer list">æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</a>ä¸­æˆå‘˜çš„åˆå§‹åŒ–é¡ºåºï¼ˆæ€»æ˜¯æŒ‰ç…§åœ¨ç±»ä¸­å£°æ˜çš„é¡ºåºï¼Œè€Œä¸æ˜¯åˆ—è¡¨ä¸­çš„é¡ºåºï¼‰ï¼Œå¹¶æ€è€ƒè¿™å¯èƒ½å¸¦æ¥çš„æ½œåœ¨é—®é¢˜ã€‚</li>
<li>äº†è§£å¦‚ä½•åˆ©ç”¨<a href="delegating constructor">å§”æ‰˜æ„é€ å‡½æ•°</a>æ¥é‡ç”¨<a href="initializer list constructor">åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</a>ä¸­çš„é€»è¾‘ã€‚</li>
</ul>
</li>
<li><p><strong><code>std::initializer_list</code> çš„å…¶ä»–åº”ç”¨</strong>ï¼š</p>
<ul>
<li><strong>å®¹å™¨çš„åˆå§‹åŒ–</strong>ï¼šè®¸å¤šæ ‡å‡†åº“å®¹å™¨ï¼Œå¦‚ <code>std::vector</code>, <code>std::map</code>, <code>std::set</code> ç­‰ï¼Œéƒ½æä¾›äº†æ¥å— <code>std::initializer_list</code> çš„æ„é€ å‡½æ•°ã€‚ä½ å¯ä»¥å°è¯•ç”¨è¿™ç§æ–¹å¼åˆå§‹åŒ–ä¸€ä¸ª <code>std::vector&lt;double&gt;</code>ã€‚</li>
<li><strong>å¯å˜å‚æ•°å‡½æ•°</strong>ï¼šæ€è€ƒå¦‚ä½•è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒèƒ½æ¥å—ä»»æ„æ•°é‡çš„ç›¸åŒç±»å‹å‚æ•°ï¼Œè€Œä¸ä»…ä»…æ˜¯å›ºå®šä¸¤ä¸ªã€‚<code>std::initializer_list</code> æ˜¯å®ç°è¿™ç§â€œå¯å˜å‚æ•°â€çš„ä¸€ç§å®‰å…¨ä¸”ç±»å‹å®‰å…¨çš„æ–¹å¼ã€‚</li>
<li><strong>è®¾è®¡é€šç”¨å®¹å™¨</strong>ï¼šå¦‚æœè®©ä½ è®¾è®¡ä¸€ä¸ªç®€å•çš„åŠ¨æ€æ•°ç»„ç±»ï¼ˆç±»ä¼¼ <code>std::vector</code>ï¼‰ï¼Œå¦‚ä½•åˆ©ç”¨ <code>std::initializer_list</code> æ¥å®ç°å®ƒçš„ä¾¿æ·åˆå§‹åŒ–ï¼Ÿè¿™éœ€è¦ä½ å¤„ç†åˆ—è¡¨ä¸­å…ƒç´ çš„å¤åˆ¶å’Œå­˜å‚¨ï¼Œå¹¶è€ƒè™‘å†…å­˜ç®¡ç†ã€‚</li>
</ul>
</li>
<li><p><strong>è¿è¡Œæ—¶æ£€æŸ¥ä¸<a href="exception handling">å¼‚å¸¸å¤„ç†</a></strong>ï¼š</p>
<ul>
<li>ç›®å‰ä½ ä½¿ç”¨äº† <code>assert</code>ï¼Œå®ƒåœ¨<a href="debug mode">è°ƒè¯•æ¨¡å¼</a>ä¸‹å¾ˆæœ‰ç”¨ï¼Œä½†åœ¨<a href="release mode">å‘å¸ƒæ¨¡å¼</a>ä¸‹é€šå¸¸ä¼šè¢«ç¦ç”¨ï¼Œå¯¼è‡´é”™è¯¯å¯èƒ½ä¸è¢«å‘ç°æˆ–è€…ç¨‹åºå´©æºƒã€‚</li>
<li>å­¦ä¹ C++çš„<a href="exception handling">å¼‚å¸¸å¤„ç†</a>æœºåˆ¶ï¼ˆ<code>try</code>, <code>catch</code>, <code>throw</code>ï¼‰ã€‚å°è¯•å°† <code>assert</code> æ›¿æ¢ä¸ºæŠ›å‡º <code>std::invalid_argument</code> <a href="exception">å¼‚å¸¸</a>ï¼Œå¹¶å­¦ä¹ å¦‚ä½•åœ¨ <code>main</code> å‡½æ•°ä¸­æ•è·å¹¶å¤„ç†è¿™ä¸ª<a href="exception">å¼‚å¸¸</a>ï¼Œè€Œä¸æ˜¯è®©ç¨‹åºç»ˆæ­¢ã€‚è¿™åœ¨å®é™…è½¯ä»¶å¼€å‘ä¸­æ˜¯æ›´å¥å£®çš„åšæ³•ã€‚</li>
</ul>
</li>
<li><p><strong><a href="aggregate">èšåˆä½“</a>çš„è¯¦ç»†å®šä¹‰</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ æœ‰å…´è¶£ï¼Œå¯ä»¥æ·±å…¥äº†è§£C++æ ‡å‡†ä¸­å¯¹<a href="aggregate">èšåˆä½“</a>çš„ç²¾ç¡®å®šä¹‰ã€‚è¿™æœ‰åŠ©äºä½ ç†è§£ä¸ºä»€ä¹ˆæŸäº›<a href="class">ç±»</a>å¯ä»¥è¿›è¡Œ<a href="curly braces initialization">å¤§æ‹¬å·åˆå§‹åŒ–</a>è€Œå¦ä¸€äº›åˆ™ä¸è¡Œã€‚</li>
</ul>
</li>
</ol>
<p>ç»§ç»­ä¿æŒè¿™ç§å­¦ä¹ çƒ­æƒ…ï¼Œä½ ä¼šåœ¨C++çš„å­¦ä¹ é“è·¯ä¸Šå–å¾—æ›´å¤§è¿›æ­¥ï¼</p>
</div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Cpp/">Cpp    </a><a class="post-meta__tags" href="/tags/Coding/">Coding    </a><a class="post-meta__tags" href="/tags/Tutorial/">Tutorial    </a><a class="post-meta__tags" href="/tags/Class/">Class    </a><a class="post-meta__tags" href="/tags/Constructor/">Constructor    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2025/06/08/10-projects/cplusplus/lectures/312%20-%20cpp%20%E5%8F%8B%E5%85%83%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>312 - cpp å‹å…ƒå‡½æ•°è¯¦è§£</span></div></a></div><div class="next-post pull_right"><a href="/2025/06/08/10-projects/cplusplus/lectures/319%20-%20Class%20Const/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>319 - Class Const</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/274 - default constructor/" title="274 - default constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">274 - default constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°/" title="296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">296 - æ„é€ å‡½æ•°é»˜è®¤å‚æ•°</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/273 - constructor/" title="273 - constructor"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">273 - constructor</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/280 - æ„é€ ä¸ææ„é¡ºåº å€’åºææ„/" title="280 - æ„é€ ä¸ææ„é¡ºåº å€’åºææ„"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">280 - æ„é€ ä¸ææ„é¡ºåº å€’åºææ„</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•/" title="282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">282 - cppç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«å’Œç”¨æ³•</div></div></a></div><div class="relatedPosts_item"><a href="/2025/06/08/10-projects/cplusplus/lectures/297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨/" title="297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2025-06-08</div><div class="relatedPosts_title">297 - æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = true == true ? true : false;
var verify = true == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'xvMxbws16Erd8WUfqxkvHmb5-gzGzoHsz',
  appKey:'4U0Vo7NQIUL0eJzHdkPzdCDr',
  placeholder:'ä¸è¯´è¯çš„äººä¼šç–¯æ‰å—?',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10',
  lang:'en',
  recordIP: true
});</script></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/supersheepbear/blog_source@master/blog/image/20200202103940.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2025 By supersheepbear</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="external nofollow noopener noreferrer"><span>Butterfly</span></a></div><div class="footer_custom_text">å¤–å‘å­¤ç‹¬è€…æ‚£è€…</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script id="canvas_nest" color="255,240,245" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/npm/activate-power-mode/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false; 
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="external nofollow noopener noreferrer" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>